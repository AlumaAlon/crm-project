"use strict";(self.webpackChunkcrmSystem=self.webpackChunkcrmSystem||[]).push([[179],{776:()=>{function Ce(t){return"function"==typeof t}function Au(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Nh=Au(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ca(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class sr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ce(r))try{r()}catch(s){e=s instanceof Nh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{wS(s)}catch(o){e=e??[],o instanceof Nh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Nh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wS(e);else{if(e instanceof sr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ca(n,e)}remove(e){const{_finalizers:n}=this;n&&Ca(n,e),e instanceof sr&&e._removeParent(this)}}sr.EMPTY=(()=>{const t=new sr;return t.closed=!0,t})();const vS=sr.EMPTY;function bS(t){return t instanceof sr||t&&"closed"in t&&Ce(t.remove)&&Ce(t.add)&&Ce(t.unsubscribe)}function wS(t){Ce(t)?t():t.unsubscribe()}const Qs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ah={setTimeout(t,e,...n){const{delegate:r}=Ah;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ah;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function DS(t){Ah.setTimeout(()=>{const{onUnhandledError:e}=Qs;if(!e)throw t;e(t)})}function Ta(){}const oG=p_("C",void 0,void 0);function p_(t,e,n){return{kind:t,value:e,error:n}}let Js=null;function Mh(t){if(Qs.useDeprecatedSynchronousErrorHandling){const e=!Js;if(e&&(Js={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Js;if(Js=null,n)throw r}}else t()}class g_ extends sr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bS(e)&&e.add(this)):this.destination=fG}static create(e,n,r){return new Mu(e,n,r)}next(e){this.isStopped?__(function lG(t){return p_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?__(function aG(t){return p_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?__(oG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const cG=Function.prototype.bind;function m_(t,e){return cG.call(t,e)}class dG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xh(r)}else xh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xh(n)}}}class Mu extends g_{constructor(e,n,r){let i;if(super(),Ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&m_(e.next,s),error:e.error&&m_(e.error,s),complete:e.complete&&m_(e.complete,s)}):i=e}this.destination=new dG(i)}}function xh(t){Qs.useDeprecatedSynchronousErrorHandling?function uG(t){Qs.useDeprecatedSynchronousErrorHandling&&Js&&(Js.errorThrown=!0,Js.error=t)}(t):DS(t)}function __(t,e){const{onStoppedNotification:n}=Qs;n&&Ah.setTimeout(()=>n(t,e))}const fG={closed:!0,next:Ta,error:function hG(t){throw t},complete:Ta},y_="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ai(t){return t}function ES(t){return 0===t.length?Ai:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function mG(t){return t&&t instanceof g_||function gG(t){return t&&Ce(t.next)&&Ce(t.error)&&Ce(t.complete)}(t)&&bS(t)}(n)?n:new Mu(n,r,i);return Mh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=CS(r))((i,s)=>{const o=new Mu({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[y_](){return this}pipe(...n){return ES(n)(this)}toPromise(n){return new(n=CS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function CS(t){var e;return null!==(e=t??Qs.Promise)&&void 0!==e?e:Promise}const _G=Au(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tt=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new TS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _G}next(n){Mh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Mh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?vS:(this.currentObservers=null,s.push(n),new sr(()=>{this.currentObservers=null,Ca(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new xe;return n.source=this,n}}return t.create=(e,n)=>new TS(e,n),t})();class TS extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:vS}}function IS(t){return Ce(t?.lift)}function ot(t){return e=>{if(IS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(t,e,n,r,i){return new yG(t,e,n,r,i)}class yG extends g_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return ot((n,r)=>{let i=0;n.subscribe($e(r,s=>{r.next(t.call(e,s,i++))}))})}function b_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Zs(t){return this instanceof Zs?(this.v=t,this):new Zs(t)}function wG(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Zs?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function DG(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function AS(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const w_=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function MS(t){return Ce(t?.then)}function xS(t){return Ce(t[y_])}function OS(t){return Symbol.asyncIterator&&Ce(t?.[Symbol.asyncIterator])}function kS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RS=function CG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function PS(t){return Ce(t?.[RS])}function FS(t){return wG(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Zs(n.read());if(i)return yield Zs(void 0);yield yield Zs(r)}}finally{n.releaseLock()}})}function LS(t){return Ce(t?.getReader)}function nn(t){if(t instanceof xe)return t;if(null!=t){if(xS(t))return function TG(t){return new xe(e=>{const n=t[y_]();if(Ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(w_(t))return function IG(t){return new xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(MS(t))return function SG(t){return new xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,DS)})}(t);if(OS(t))return VS(t);if(PS(t))return function NG(t){return new xe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(LS(t))return function AG(t){return VS(FS(t))}(t)}throw kS(t)}function VS(t){return new xe(e=>{(function MG(t,e){var n,r,i,s;return function vG(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=DG(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function At(t,e,n=1/0){return Ce(e)?At((r,i)=>re((s,o)=>e(r,s,i,o))(nn(t(r,i))),n):("number"==typeof e&&(n=e),ot((r,i)=>function xG(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{s&&e.next(g),u++;let _=!1;nn(n(g,c++)).subscribe($e(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const v=l.shift();o?Mi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe($e(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ia(t=1/0){return At(Ai,t)}const Ur=new xe(t=>t.complete());function BS(t){return t&&Ce(t.schedule)}function D_(t){return t[t.length-1]}function Oh(t){return Ce(D_(t))?t.pop():void 0}function xu(t){return BS(D_(t))?t.pop():void 0}function kh(t,e=0){return ot((n,r)=>{n.subscribe($e(r,i=>Mi(r,t,()=>r.next(i),e),()=>Mi(r,t,()=>r.complete(),e),i=>Mi(r,t,()=>r.error(i),e)))})}function Rh(t,e=0){return ot((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function US(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(n=>{Mi(n,e,()=>{const r=t[Symbol.asyncIterator]();Mi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dt(t,e){return e?function BG(t,e){if(null!=t){if(xS(t))return function RG(t,e){return nn(t).pipe(Rh(e),kh(e))}(t,e);if(w_(t))return function FG(t,e){return new xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(MS(t))return function PG(t,e){return nn(t).pipe(Rh(e),kh(e))}(t,e);if(OS(t))return US(t,e);if(PS(t))return function LG(t,e){return new xe(n=>{let r;return Mi(n,e,()=>{r=t[RS](),Mi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}(t,e);if(LS(t))return function VG(t,e){return US(FS(t),e)}(t,e)}throw kS(t)}(t,e):nn(t)}function E_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Mu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function C_(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const $G=Le({__forward_ref__:Le});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return Ve(this())},t}function ee(t){return I_(t)?t():t}function I_(t){return"function"==typeof t&&t.hasOwnProperty($G)&&t.__forward_ref__===Se}class k extends Error{constructor(e,n){super(function Ph(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function ae(t){return"string"==typeof t?t:null==t?"":String(t)}function Fh(t,e){throw new k(-201,!1)}function ar(t,e){null==t&&function Oe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Te(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lh(t){return jS(t,Vh)||jS(t,HS)}function jS(t,e){return t.hasOwnProperty(e)?t[e]:null}function $S(t){return t&&(t.hasOwnProperty(S_)||t.hasOwnProperty(JG))?t[S_]:null}const Vh=Le({\u0275prov:Le}),S_=Le({\u0275inj:Le}),HS=Le({ngInjectableDef:Le}),JG=Le({ngInjectorDef:Le});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let N_;function Tr(t){const e=N_;return N_=t,e}function GS(t,e,n){const r=Lh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&J.Optional?null:void 0!==e?e:void Fh(Ve(t))}function hs(t){return{toString:t}.toString()}var jr=(()=>((jr=jr||{})[jr.OnPush=0]="OnPush",jr[jr.Default=1]="Default",jr))(),li=(()=>{return(t=li||(li={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",li;var t})();const Be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sa={},Ae=[],Bh=Le({\u0275cmp:Le}),A_=Le({\u0275dir:Le}),M_=Le({\u0275pipe:Le}),WS=Le({\u0275mod:Le}),Oi=Le({\u0275fac:Le}),Ou=Le({__NG_ELEMENT_ID__:Le});let XG=0;function Ht(t){return hs(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===jr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||li.Emulated,id:"c"+XG++,styles:t.styles||Ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=KS(t.inputs,r),i.outputs=KS(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(zS).filter(qS):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(xn).filter(qS):null,i})}function zS(t){return Pe(t)||Mn(t)}function qS(t){return null!==t}function Me(t){return hs(()=>({type:t.type,bootstrap:t.bootstrap||Ae,declarations:t.declarations||Ae,imports:t.imports||Ae,exports:t.exports||Ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KS(t,e){if(null==t)return Sa;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const L=Ht;function gn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pe(t){return t[Bh]||null}function Mn(t){return t[A_]||null}function xn(t){return t[M_]||null}function lr(t,e){const n=t[WS]||null;if(!n&&!0===e)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function Yn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Hr(t){return Array.isArray(t)&&!0===t[1]}function k_(t){return 0!=(8&t.flags)}function Hh(t){return 2==(2&t.flags)}function Gh(t){return 1==(1&t.flags)}function Gr(t){return null!==t.template}function o3(t){return 0!=(256&t[2])}function ro(t,e){return t.hasOwnProperty(Oi)?t[Oi]:null}class u3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return JS}function JS(t){return t.type.prototype.ngOnChanges&&(t.setInput=d3),c3}function c3(){const t=XS(this),e=t?.current;if(e){const n=t.previous;if(n===Sa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function d3(t,e,n,r){const i=XS(t)||function h3(t,e){return t[ZS]=e}(t,{previous:Sa,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new u3(l&&l.currentValue,e,o===Sa),t[r]=e}On.ngInherit=!0;const ZS="__ngSimpleChanges__";function XS(t){return t[ZS]||null}function Et(t){for(;Array.isArray(t);)t=t[0];return t}function Wh(t,e){return Et(e[t])}function Nr(t,e){return Et(e[t.index])}function V_(t,e){return t.data[e]}function ka(t,e){return t[e]}function cr(t,e){const n=e[t];return Yn(n)?n:n[0]}function eN(t){return 4==(4&t[2])}function zh(t){return 64==(64&t[2])}function fs(t,e){return null==e?null:t[e]}function tN(t){t[18]=0}function B_(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ie={lFrame:cN(null),bindingsEnabled:!0};function rN(){return ie.bindingsEnabled}function N(){return ie.lFrame.lView}function ve(){return ie.lFrame.tView}function yn(t){return ie.lFrame.contextLView=t,t[8]}function vn(t){return ie.lFrame.contextLView=null,t}function Mt(){let t=iN();for(;null!==t&&64===t.type;)t=t.parent;return t}function iN(){return ie.lFrame.currentTNode}function ui(t,e){const n=ie.lFrame;n.currentTNode=t,n.isParent=e}function U_(){return ie.lFrame.isParent}function j_(){ie.lFrame.isParent=!1}function kn(){const t=ie.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ra(){return ie.lFrame.bindingIndex++}function Ri(t){const e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function I3(t,e){const n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,$_(e)}function $_(t){ie.lFrame.currentDirectiveIndex=t}function aN(){return ie.lFrame.currentQueryIndex}function G_(t){ie.lFrame.currentQueryIndex=t}function N3(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function lN(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&J.Host||(i=N3(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ie.lFrame=uN();return r.currentTNode=e,r.lView=t,!0}function W_(t){const e=uN(),n=t[1];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uN(){const t=ie.lFrame,e=null===t?null:t.child;return null===e?cN(t):e}function cN(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function dN(){const t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hN=dN;function z_(){const t=dN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rn(){return ie.lFrame.selectedIndex}function ps(t){ie.lFrame.selectedIndex=t}function at(){const t=ie.lFrame;return V_(t.tView,t.selectedIndex)}function Kh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Yh(t,e,n){fN(t,e,3,n)}function Qh(t,e,n,r){(3&t[2])===n&&fN(t,e,n,r)}function q_(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function fN(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(L3(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function L3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Lu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Jh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];gN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pN(t){return 3===t||4===t||6===t}function gN(t){return 64===t.charCodeAt(0)}function Zh(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||mN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function mN(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function _N(t){return-1!==t}function Pa(t){return 32767&t}function Fa(t,e){let n=function $3(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Y_=!0;function Xh(t){const e=Y_;return Y_=t,e}let H3=0;const ci={};function Bu(t,e){const n=J_(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Q_(r.data,t),Q_(e,null),Q_(r.blueprint,null));const i=ef(t,e),s=t.injectorIndex;if(_N(i)){const o=Pa(i),a=Fa(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Q_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function J_(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ef(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=IN(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function tf(t,e,n){!function G3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ou)&&(r=n[Ou]),null==r&&(r=n[Ou]=H3++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function bN(t,e,n){if(n&J.Optional)return t;Fh()}function wN(t,e,n,r){if(n&J.Optional&&void 0===r&&(r=null),0==(n&(J.Self|J.Host))){const i=t[9],s=Tr(void 0);try{return i?i.get(e,r,n&J.Optional):GS(e,r,n&J.Optional)}finally{Tr(s)}}return bN(r,0,n)}function DN(t,e,n,r=J.Default,i){if(null!==t){if(1024&e[2]){const o=function Y3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=EN(s,o,n,r|J.Self,ci);if(a!==ci)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,ci,r);if(c!==ci)return c}l=IN(o),o=o[15]}s=l}return i}(t,e,n,r,ci);if(o!==ci)return o}const s=EN(t,e,n,r,ci);if(s!==ci)return s}return wN(e,n,r,i)}function EN(t,e,n,r,i){const s=function q3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ou)?t[Ou]:void 0;return"number"==typeof e?e>=0?255&e:K3:e}(n);if("function"==typeof s){if(!lN(e,t,r))return r&J.Host?bN(i,0,r):wN(e,n,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;Fh()}finally{hN()}}else if("number"==typeof s){let o=null,a=J_(t,e),l=-1,u=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(l=-1===a?ef(t,e):e[a+8],-1!==l&&TN(r,!1)?(o=e[1],a=Pa(l),e=Fa(l,e)):a=-1);-1!==a;){const c=e[1];if(CN(s,a,c.data)){const d=z3(a,e,n,o,r,u);if(d!==ci)return d}l=e[a+8],-1!==l&&TN(r,e[1].data[a+8]===u)&&CN(s,a,e)?(o=c,a=Pa(l),e=Fa(l,e)):a=-1}}return i}function z3(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=nf(a,o,n,null==r?Hh(a)&&Y_:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==c?Uu(e,o,c,a):ci}function nf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&Gr(f)&&f.type===n)return l}return null}function Uu(t,e,n,r){let i=t[n];const s=e.data;if(function V3(t){return t instanceof Lu}(i)){const o=i;o.resolving&&function HG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ne(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ae(t)}(s[n]));const a=Xh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Tr(o.injectImpl):null;lN(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function F3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=JS(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&Tr(l),Xh(a),o.resolving=!1,hN()}}return i}function CN(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function TN(t,e){return!(t&J.Self||t&J.Host&&e)}class La{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DN(this._tNode,this._lView,e,r,n)}}function K3(){return new La(Mt(),N())}function bn(t){return hs(()=>{const e=t.prototype.constructor,n=e[Oi]||Z_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Oi]||Z_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Z_(t){return I_(t)?()=>{const e=Z_(ee(t));return e&&e()}:ro(t)}function IN(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}function io(t){return function W3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(pN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Mt(),t)}const Ba="__parameters__";function ja(t,e,n){return hs(()=>{const r=function X_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Ba)?l[Ba]:Object.defineProperty(l,Ba,{value:[]})[Ba];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dr(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),dr(r,e)):e!==t&&e.push(r)}return e}function Pi(t,e){t.forEach(n=>Array.isArray(n)?Pi(n,e):e(n))}function NN(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Hu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hr(t,e,n){let r=$a(t,e);return r>=0?t[1|r]=n:(r=~r,function X3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ty(t,e){const n=$a(t,e);if(n>=0)return t[1|n]}function $a(t,e){return function xN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Gu={},ry="__NG_DI_FLAG__",af="ngTempTokenPath",a8=/\n/gm,ON="__source";let Wu;function Ha(t){const e=Wu;return Wu=t,e}function u8(t,e=J.Default){if(void 0===Wu)throw new k(-203,!1);return null===Wu?GS(t,void 0,e):Wu.get(t,e&J.Optional?null:void 0,e)}function U(t,e=J.Default){return(function ZG(){return N_}()||u8)(ee(t),e)}function gt(t,e=J.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),U(t,e)}function iy(t){const e=[];for(let n=0;n<t.length;n++){const r=ee(t[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],l=c8(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function zu(t,e){return t[ry]=e,t.prototype[ry]=e,t}function c8(t){return t[ry]}const wn=zu(ja("Optional"),8),qu=zu(ja("SkipSelf"),4);let oy;class WN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ms(t){return t instanceof WN?t.changingThisBreaksApplicationSecurity:t}const R8=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ct=(()=>((Ct=Ct||{})[Ct.NONE=0]="NONE",Ct[Ct.HTML=1]="HTML",Ct[Ct.STYLE=2]="STYLE",Ct[Ct.SCRIPT=3]="SCRIPT",Ct[Ct.URL=4]="URL",Ct[Ct.RESOURCE_URL=5]="RESOURCE_URL",Ct))();function fy(t){const e=function Zu(){const t=N();return t&&t[12]}();return e?e.sanitize(Ct.URL,t)||"":function Qu(t,e){const n=function M8(t){return t instanceof WN&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ms(t):function hf(t){return(t=String(t)).match(R8)?t:"unsafe:"+t}(ae(t))}const py=new z("ENVIRONMENT_INITIALIZER"),eA=new z("INJECTOR",-1),tA=new z("INJECTOR_DEF_TYPES");class nA{get(e,n=Gu){if(n===Gu){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}}function K8(...t){return{\u0275providers:rA(0,t)}}function rA(t,...e){const n=[],r=new Set;let i;return Pi(e,s=>{const o=s;gy(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&iA(i,n),n}function iA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Pi(i,s=>{e.push(s)})}}function gy(t,e,n,r){if(!(t=ee(t)))return!1;let i=null,s=$S(t);const o=!s&&Pe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=$S(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)gy(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Pi(s.imports,c=>{gy(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&iA(u,e)}if(!a){const u=ro(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:Ae},{provide:tA,useValue:i,multi:!0},{provide:py,useValue:()=>U(i),multi:!0})}const l=s.providers;null==l||a||Pi(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}const Y8=Le({provide:String,useValue:Le});function my(t){return null!==t&&"object"==typeof t&&Y8 in t}function so(t){return"function"==typeof t}const _y=new z("Set Injector scope."),pf={},J8={};let yy;function gf(){return void 0===yy&&(yy=new nA),yy}class _s{}class aA extends _s{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,by(e,o=>this.processProvider(o)),this.records.set(eA,za(void 0,this)),i.has("environment")&&this.records.set(_s,za(void 0,this));const s=this.records.get(_y);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tA.multi,Ae,J.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ha(this),r=Tr(void 0);try{return e()}finally{Ha(n),Tr(r)}}get(e,n=Gu,r=J.Default){this.assertNotDestroyed();const i=Ha(this),s=Tr(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function nW(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Lh(e);a=l&&this.injectableDefInScope(l)?za(vy(e),pf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?gf():this.parent).get(e,n=r&J.Optional&&n===Gu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[af]=o[af]||[]).unshift(Ve(e)),i)throw o;return function d8(t,e,n,r){const i=t[af];throw e[ON]&&i.unshift(e[ON]),t.message=function h8(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(a8,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[af]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Tr(s),Ha(i)}}resolveInjectorInitializers(){const e=Ha(this),n=Tr(void 0);try{const r=this.get(py.multi,Ae,J.Self);for(const i of r)i()}finally{Ha(e),Tr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let n=so(e=ee(e))?e:ee(e&&e.provide);const r=function X8(t){return my(t)?za(void 0,t.useValue):za(lA(t),pf)}(e);if(so(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=za(void 0,pf,!0),i.factory=()=>iy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===pf&&(n.value=J8,n.value=n.factory()),"object"==typeof n.value&&n.value&&function tW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ee(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function vy(t){const e=Lh(t),n=null!==e?e.factory:ro(t);if(null!==n)return n;if(t instanceof z)throw new k(204,!1);if(t instanceof Function)return function Z8(t){const e=t.length;if(e>0)throw Hu(e,"?"),new k(204,!1);const n=function YG(t){const e=t&&(t[Vh]||t[HS]);if(e){const n=function QG(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new k(204,!1)}function lA(t,e,n){let r;if(so(t)){const i=ee(t);return ro(i)||vy(i)}if(my(t))r=()=>ee(t.useValue);else if(function oA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...iy(t.deps||[]));else if(function sA(t){return!(!t||!t.useExisting)}(t))r=()=>U(ee(t.useExisting));else{const i=ee(t&&(t.useClass||t.provide));if(!function eW(t){return!!t.deps}(t))return ro(i)||vy(i);r=()=>new i(...iy(t.deps))}return r}function za(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function rW(t){return!!t.\u0275providers}function by(t,e){for(const n of t)Array.isArray(n)?by(n,e):rW(n)?by(n.\u0275providers,e):e(n)}class uA{}class oW{resolveComponentFactory(e){throw function sW(t){const e=Error(`No component factory found for ${Ve(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Xu=(()=>{class t{}return t.NULL=new oW,t})();function aW(){return qa(Mt(),N())}function qa(t,e){return new ze(Nr(t,e))}let ze=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=aW,t})();function lW(t){return t instanceof ze?t.nativeElement:t}class wy{}let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function uW(){const t=N(),n=cr(Mt().index,t);return(Yn(n)?n:t)[11]}(),t})(),cW=(()=>{class t{}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>null}),t})();class Ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dA=new Ka("14.2.0"),Dy={};function Sy(t){return t.ngOriginalError}class Ya{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sy(e);for(;n&&Sy(n);)n=Sy(n);return n||null}}const Ny=new Map;let DW=0;const My="__ngContext__";function Dn(t,e){Yn(e)?(t[My]=e[20],function CW(t){Ny.set(t[20],t)}(e)):t[My]=e}function ec(t){const e=t[My];return"number"==typeof e?function _A(t){return Ny.get(t)||null}(e):e||null}function xy(t){const e=ec(t);return e?Yn(e)?e:e.lView:null}function Fi(t){return t instanceof Function?t():t}var Qn=(()=>((Qn=Qn||{})[Qn.Important=1]="Important",Qn[Qn.DashCase=2]="DashCase",Qn))();function ky(t,e){return undefined(t,e)}function tc(t){const e=t[3];return Hr(e)?e[3]:e}function Ry(t){return CA(t[13])}function Py(t){return CA(t[4])}function CA(t){for(;null!==t&&!Hr(t);)t=t[4];return t}function Ja(t,e,n,r,i){if(null!=r){let s,o=!1;Hr(r)?s=r:Yn(r)&&(o=!0,r=r[0]);const a=Et(r);0===t&&null!==n?null==i?MA(e,n,a):oo(e,n,a,i||null,!0):1===t&&null!==n?oo(e,n,a,i||null,!0):2===t?function LA(t,e,n){const r=mf(t,e);r&&function JW(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function e4(t,e,n,r,i){const s=n[7];s!==Et(n)&&Ja(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];nc(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function Ly(t,e,n){return t.createElement(e,n)}function IA(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,B_(i,-1)),n.splice(r,1)}function Vy(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&IA(i,r),e>0&&(t[n-1][4]=r[4]);const s=rf(t,10+e);!function HW(t,e){nc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function SA(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&nc(t,e,n,3,null,null),function zW(t){let e=t[13];if(!e)return By(t[1],t);for(;e;){let n=null;if(Yn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Yn(e)&&By(e[1],e),e=e[3];null===e&&(e=t),Yn(e)&&By(e[1],e),n=e&&e[4]}e=n}}(e)}}function By(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function QW(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Lu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function YW(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Et(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Hr(e[3])){n!==e[3]&&IA(n,e);const r=e[19];null!==r&&r.detachView(t)}!function TW(t){Ny.delete(t[20])}(e)}}function NA(t,e,n){return function AA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===li.None||i===li.Emulated)return null}return Nr(r,n)}(t,e.parent,n)}function oo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function MA(t,e,n){t.appendChild(e,n)}function xA(t,e,n,r,i){null!==r?oo(t,e,n,r,i):MA(t,e,n)}function mf(t,e){return t.parentNode(e)}function OA(t,e,n){return RA(t,e,n)}let RA=function kA(t,e,n){return 40&t.type?Nr(t,n):null};function _f(t,e,n,r){const i=NA(t,r,e),s=e[11],a=OA(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)xA(s,i,n[l],a,!1);else xA(s,i,n,a,!1)}function yf(t,e){if(null!==e){const n=e.type;if(3&n)return Nr(e,t);if(4&n)return jy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return yf(t,r);{const i=t[e.index];return Hr(i)?jy(-1,i):Et(i)}}if(32&n)return ky(e,t)()||Et(t[e.index]);{const r=FA(t,e);return null!==r?Array.isArray(r)?r[0]:yf(tc(t[16]),r):yf(t,e.next)}}return null}function FA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function jy(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return yf(r,i)}return e[7]}function $y(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Dn(Et(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)$y(t,e,n.child,r,i,s,!1),Ja(e,t,i,a,s);else if(32&l){const u=ky(n,r);let c;for(;c=u();)Ja(e,t,i,c,s);Ja(e,t,i,a,s)}else 16&l?VA(t,e,r,n,i,s):Ja(e,t,i,a,s);n=o?n.projectionNext:n.next}}function nc(t,e,n,r,i,s){$y(n,r,t.firstChild,e,i,s,!1)}function VA(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ja(e,t,i,l[u],s);else $y(t,e,l,o[3],i,s,!0)}function BA(t,e,n){t.setAttribute(e,"style",n)}function Hy(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const jA="ng-template";function n4(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==UA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function $A(t){return 4===t.type&&t.value!==jA}function r4(t,e,n){return e===(4!==t.type||n?t.value:jA)}function i4(t,e,n){let r=4;const i=t.attrs||[],s=function a4(t){for(let e=0;e<t.length;e++)if(pN(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!r4(t,l,n)||""===l&&1===e.length){if(zr(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!n4(t.attrs,u,n)){if(zr(r))return!1;o=!0}continue}const d=s4(8&r?"class":l,i,$A(t),n);if(-1===d){if(zr(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==UA(f,u,0)||2&r&&u!==h){if(zr(r))return!1;o=!0}}}}else{if(!o&&!zr(r)&&!zr(l))return!1;if(o&&zr(l))continue;o=!1,r=l|1&r}}return zr(r)||o}function zr(t){return 0==(1&t)}function s4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function l4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function HA(t,e,n=!1){for(let r=0;r<e.length;r++)if(i4(t,e[r],n))return!0;return!1}function u4(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function GA(t,e){return t?":not("+e.trim()+")":e}function c4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!zr(o)&&(e+=GA(s,i),i=""),r=o,s=s||!zr(r);n++}return""!==i&&(e+=GA(s,i)),e}const le={};function F(t){WA(ve(),N(),Rn()+t,!1)}function WA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Yh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Qh(e,s,0,n)}ps(n)}function YA(t,e=null,n=null,r){const i=QA(t,e,n,r);return i.resolveInjectorInitializers(),i}function QA(t,e=null,n=null,r,i=new Set){const s=[n||Ae,K8(t)];return r=r||("object"==typeof t?void 0:Ve(t)),new aA(s,e||gf(),r||null,i)}let Wt=(()=>{class t{static create(n,r){if(Array.isArray(n))return YA({name:""},r,n,"");{const i=n.name??"";return YA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Gu,t.NULL=new nA,t.\u0275prov=W({token:t,providedIn:"any",factory:()=>U(eA)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=J.Default){const n=N();return null===n?U(t,e):DN(Mt(),n,ee(t),e)}function Ky(){throw new Error("invalid")}function bf(t,e){return t<<17|e<<2}function qr(t){return t>>17&32767}function Yy(t){return 2|t}function Li(t){return(131068&t)>>2}function Qy(t,e){return-131069&t|e<<2}function Jy(t){return 1|t}function fM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];G_(i),o.contentQueries(2,e[s],s)}}}function Ef(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),tN(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function EW(){return DW++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function Xa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function sv(t,e,n,r,i){const s=iN(),o=U_(),l=t.data[e]=function q4(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function T3(){return ie.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Fu(){const t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ui(s,!0),s}function el(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Cf(t,e,n){W_(e);try{const r=t.viewQuery;null!==r&&pv(1,r,n);const i=t.template;null!==i&&pM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fM(t,e),t.staticViewQueries&&pv(2,t.viewQuery,n);const s=t.components;null!==s&&function H4(t,e){for(let n=0;n<e.length;n++)uz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,z_()}}function rc(t,e,n,r){const i=e[2];if(128!=(128&i)){W_(e);try{tN(e),function sN(t){return ie.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&pM(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Yh(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Qh(e,u,0,null),q_(e,0)}if(function az(t){for(let e=Ry(t);null!==e;e=Py(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&B_(s,1),i[2]|=512}}}(e),function oz(t){for(let e=Ry(t);null!==e;e=Py(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];zh(r)&&rc(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&fM(t,e),o){const u=t.contentCheckHooks;null!==u&&Yh(e,u)}else{const u=t.contentHooks;null!==u&&Qh(e,u,1),q_(e,1)}!function j4(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ps(~i);else{const s=i,o=n[++r],a=n[++r];I3(o,s),a(2,e[s])}}}finally{ps(-1)}}(t,e);const a=t.components;null!==a&&function $4(t,e){for(let n=0;n<e.length;n++)lz(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&pv(2,l,r),o){const u=t.viewCheckHooks;null!==u&&Yh(e,u)}else{const u=t.viewHooks;null!==u&&Qh(e,u,2),q_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,B_(e[3],-1))}finally{z_()}}}function G4(t,e,n,r){const i=e[10],o=eN(e);try{!o&&i.begin&&i.begin(),o&&Cf(t,e,r),rc(t,e,n,r)}finally{!o&&i.end&&i.end()}}function pM(t,e,n,r,i){const s=Rn(),o=2&r;try{ps(-1),o&&e.length>22&&WA(t,e,22,!1),n(r,i)}finally{ps(s)}}function gM(t,e,n){if(k_(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function ov(t,e,n){!rN()||(function Z4(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Bu(n,e),Dn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=Gr(l);u&&rz(e,n,l);const c=Uu(e,t,a,n);Dn(c,e),null!==o&&iz(0,a-i,c,l,0,o),u&&(cr(n.index,e)[8]=c)}}(t,e,n,Nr(n,e)),128==(128&n.flags)&&function X4(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function S3(){return ie.lFrame.currentDirectiveIndex}();try{ps(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];$_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&DM(l,u)}}finally{ps(-1),$_(o)}}(t,e,n))}function av(t,e,n=Nr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function mM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=lv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function lv(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function W4(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:le);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function _M(t,e,n,r){const i=NM(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&AM(t).push(r,i.length-1))}function yM(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function vM(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||$A(e)?null:sz(d,s);o.push(h),a=yM(d,u,a),l=yM(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function bM(t,e){const n=cr(e,t);16&n[2]||(n[2]|=32)}function uv(t,e,n,r){let i=!1;if(rN()){const s=function ez(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];HA(n,o.selectors,!1)&&(i||(i=[]),tf(Bu(n,e),t,o.type),Gr(o)?(EM(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,CM(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=el(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Zh(n.mergedAttrs,d.hostAttrs),TM(t,n,e,u,d),nz(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}vM(t,n)}o&&function tz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Zh(n.mergedAttrs,n.attrs),i}function wM(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function J4(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function DM(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function EM(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function nz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gr(e)&&(n[""]=t)}}function CM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TM(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ro(i.type)),o=new Lu(s,Gr(i),b);t.blueprint[r]=o,n[r]=o,wM(t,e,0,r,el(t,n,i.hostVars,le),i)}function rz(t,e,n){const r=Nr(e,t),i=mM(n),s=t[10],o=Tf(t,Ef(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function hi(t,e,n,r,i,s){const o=Nr(t,e);!function cv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ae(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function iz(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function sz(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function IM(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function lz(t,e){const n=cr(e,t);if(zh(n)){const r=n[1];48&n[2]?rc(r,n,r.template,n[8]):n[5]>0&&dv(n)}}function dv(t){for(let r=Ry(t);null!==r;r=Py(r))for(let i=10;i<r.length;i++){const s=r[i];if(zh(s))if(512&s[2]){const o=s[1];rc(o,s,o.template,s[8])}else s[5]>0&&dv(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=cr(n[r],t);zh(i)&&i[5]>0&&dv(i)}}function uz(t,e){const n=cr(e,t),r=n[1];(function cz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Cf(r,n,n[8])}function Tf(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function hv(t){for(;t;){t[2]|=32;const e=tc(t);if(o3(t)&&!e)return t;t=e}return null}function pv(t,e,n){G_(0),e(t,n)}function NM(t){return t[7]||(t[7]=[])}function AM(t){return t.cleanup||(t.cleanup=[])}function xM(t,e){const n=t[9],r=n?n.get(Ya,null):null;r&&r.handleError(e)}function gv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function If(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=T_(i,a):2==s&&(r=T_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Sf(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Et(s)),Hr(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Sf(l[1],l,u,r)}const o=n.type;if(8&o)Sf(t,e,n.child,r);else if(32&o){const a=ky(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=FA(e,n);if(Array.isArray(a))r.push(...a);else{const l=tc(e[16]);Sf(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ic{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Sf(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Hr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vy(e,r),rf(n,r))}this._attachedToViewContainer=!1}SA(this._lView[1],this._lView)}onDestroy(e){_M(this._lView[1],this._lView,null,e)}markForCheck(){hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function fv(t,e,n){const r=e[10];r.begin&&r.begin();try{rc(t,e,t.template,n)}catch(i){throw xM(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WW(t,e){nc(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class hz extends ic{constructor(e){super(e),this._view=e}detectChanges(){!function SM(t){!function dz(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=xy(n);if(null!==r){const i=r[1];G4(i,r,i.template,n)}}}(t[8])}(this._view)}checkNoChanges(){}get context(){return null}}class mv extends Xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pe(e);return new sc(n,this.ngModule)}}function OM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class pz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Dy,r);return i!==Dy||n===Dy?i:this.parentInjector.get(e,n,r)}}class sc extends uA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function d4(t){return t.map(c4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return OM(this.componentDef.inputs)}get outputs(){return OM(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof _s?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new pz(e,s):e,a=o.get(wy,null);if(null===a)throw new k(407,!1);const l=o.get(cW,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function z4(t,e,n){return t.selectRootElement(e,n===li.ShadowDom)}(u,r,this.componentDef.encapsulation):Ly(a.createRenderer(null,this.componentDef),c,function fz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f={components:[]},p=lv(0,null,null,1,0,null,null,null,null,null),g=Ef(null,p,f,h,null,null,a,u,l,o,null);let _,v;W_(g);try{const D=function _z(t,e,n,r,i,s){const o=n[1];n[22]=t;const l=Xa(o,22,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(If(l,u,!0),null!==t&&(Jh(i,t,u),null!==l.classes&&Hy(i,t,l.classes),null!==l.styles&&BA(i,t,l.styles)));const c=r.createRenderer(t,e),d=Ef(n,mM(e),null,e.onPush?32:16,n[22],l,r,c,s||null,null,null);return o.firstCreatePass&&(tf(Bu(l,n),o,e.type),EM(o,l),CM(l,n.length,1)),Tf(n,d),n[22]=d}(d,this.componentDef,g,a,u);if(d)if(r)Jh(u,d,["ng-version",dA.full]);else{const{attrs:y,classes:C}=function h4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!zr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Jh(u,d,y),C&&C.length>0&&Hy(u,d,C.join(" "))}if(v=V_(p,22),void 0!==n){const y=v.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const S=n[C];y.push(null!=S?Array.from(S):null)}}_=function yz(t,e,n,r,i){const s=n[1],o=function Q4(t,e,n){const r=Mt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),TM(t,r,e,el(t,e,1,null),n),vM(t,r));const i=Uu(e,t,r.directiveStart,r);Dn(i,e);const s=Nr(r,e);return s&&Dn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,null!==i)for(const l of i)l(o,e);if(e.contentQueries){const l=Mt();e.contentQueries(1,o,l.directiveStart)}const a=Mt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ps(a.index),wM(n[1],a,0,a.directiveStart,a.directiveEnd,e),DM(e,o)),o}(D,this.componentDef,g,f,[bz]),Cf(p,g,null)}finally{z_()}return new mz(this.componentType,_,qa(v,g),g,v)}}class mz extends class iW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new hz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;gv(s[1],s,i,e,n),bM(s,this._tNode.index)}}get injector(){return new La(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bz(){const t=Mt();Kh(N()[1],t)}function ke(t){let e=function kM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Gr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=_v(t.inputs),o.declaredInputs=_v(t.declaredInputs),o.outputs=_v(t.outputs);const a=i.hostBindings;a&&Cz(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&Dz(t,l),u&&Ez(t,u),C_(t.inputs,i.inputs),C_(t.declaredInputs,i.declaredInputs),C_(t.outputs,i.outputs),Gr(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ke&&(n=!1)}}e=Object.getPrototypeOf(e)}!function wz(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zh(i.hostAttrs,n=Zh(n,i.hostAttrs))}}(r)}function _v(t){return t===Sa?{}:t===Ae?[]:t}function Dz(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Ez(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Cz(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Nf=null;function ao(){if(!Nf){const t=Be.Symbol;if(t&&t.iterator)Nf=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nf=r)}}}return Nf}function oc(t){return!!function yv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&ao()in t)}function fi(t,e,n){return t[e]=n}function En(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lo(t,e,n,r){const i=En(t,e,n);return En(t,e+1,r)||i}function Ue(t,e,n,r){const i=N();return En(i,Ra(),e)&&(ve(),hi(at(),i,t,e,n,r)),Ue}function Y(t,e,n,r,i,s,o,a){const l=N(),u=ve(),c=t+22,d=u.firstCreatePass?function Oz(t,e,n,r,i,s,o,a,l){const u=e.consts,c=Xa(e,t,4,o||null,fs(u,a));uv(e,n,c,fs(u,l)),Kh(e,c);const d=c.tViews=lv(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];ui(d,!1);const h=l[11].createComment("");_f(u,l,h,d),Dn(h,l),Tf(l,l[c]=IM(h,l,h,d)),Gh(d)&&ov(u,l,d),null!=o&&av(l,d,a)}function Cn(t){return ka(function C3(){return ie.lFrame.contextLView}(),22+t)}function H(t,e,n){const r=N();return En(r,Ra(),e)&&function fr(t,e,n,r,i,s,o,a){const l=Nr(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(gv(t,n,c,r,i),Hh(e)&&bM(n,e.index)):3&e.type&&(r=function K4(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(ve(),at(),r,t,e,r[11],n,!1),H}function vv(t,e,n,r,i){const o=i?"class":"style";gv(t,n,e.inputs[o],o,r)}function I(t,e,n,r){const i=N(),s=ve(),o=22+t,a=i[11],l=i[o]=Ly(a,e,function P3(){return ie.lFrame.currentNamespace}()),u=s.firstCreatePass?function Rz(t,e,n,r,i,s,o){const a=e.consts,u=Xa(e,t,2,i,fs(a,s));return uv(e,n,u,fs(a,o)),null!==u.attrs&&If(u,u.attrs,!1),null!==u.mergedAttrs&&If(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];ui(u,!0);const c=u.mergedAttrs;null!==c&&Jh(a,l,c);const d=u.classes;null!==d&&Hy(a,l,d);const h=u.styles;return null!==h&&BA(a,l,h),64!=(64&u.flags)&&_f(s,i,l,u),0===function v3(){return ie.lFrame.elementDepthCount}()&&Dn(l,i),function b3(){ie.lFrame.elementDepthCount++}(),Gh(u)&&(ov(s,i,u),gM(s,u,i)),null!==r&&av(i,u),I}function T(){let t=Mt();U_()?j_():(t=t.parent,ui(t,!1));const e=t;!function w3(){ie.lFrame.elementDepthCount--}();const n=ve();return n.firstCreatePass&&(Kh(n,t),k_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function U3(t){return 0!=(16&t.flags)}(e)&&vv(n,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function j3(t){return 0!=(32&t.flags)}(e)&&vv(n,e,N(),e.stylesWithoutHost,!1),T}function Ie(t,e,n,r){return I(t,e,n,r),T(),Ie}function Mf(t,e,n){const r=N(),i=ve(),s=t+22,o=i.firstCreatePass?function Pz(t,e,n,r,i){const s=e.consts,o=fs(s,r),a=Xa(e,t,8,"ng-container",o);return null!==o&&If(a,o,!0),uv(e,n,a,fs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ui(o,!0);const a=r[s]=r[11].createComment("");return _f(i,r,a,o),Dn(a,r),Gh(o)&&(ov(i,r,o),gM(i,o,r)),null!=n&&av(r,o),Mf}function xf(){let t=Mt();const e=ve();return U_()?j_():(t=t.parent,ui(t,!1)),e.firstCreatePass&&(Kh(e,t),k_(t)&&e.queries.elementEnd(t)),xf}function pr(){return N()}function lc(t){return!!t&&"function"==typeof t.then}const bv=function GM(t){return!!t&&"function"==typeof t.subscribe};function ne(t,e,n,r){const i=N(),s=ve(),o=Mt();return function zM(t,e,n,r,i,s,o,a){const l=Gh(r),c=t.firstCreatePass&&AM(t),d=e[8],h=NM(e);let f=!0;if(3&r.type||a){const _=Nr(r,e),v=a?a(_):_,D=h.length,y=a?S=>a(Et(S[r.index])):r.index;let C=null;if(!a&&l&&(C=function Fz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=KM(r,e,d,s,!1);const S=n.listen(v,i,s);h.push(s,S),c&&c.push(i,y,D,D+1)}}else s=KM(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let v=0;v<_;v+=2){const x=e[g[v]][g[v+1]].subscribe(s),K=h.length;h.push(s,x),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[11],o,t,e,0,r),ne}function qM(t,e,n,r){try{return!1!==n(r)}catch(i){return xM(t,i),!1}}function KM(t,e,n,r,i){return function s(o){if(o===Function)return r;hv(2&t.flags?cr(t.index,e):e);let l=qM(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=qM(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function pe(t=1){return function A3(t){return(ie.lFrame.contextLView=function M3(t,e){for(;t>0;)e=e[15],t--;return e}(t,ie.lFrame.contextLView))[8]}(t)}function Lz(t,e){let n=null;const r=function o4(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?HA(t,s,!0):u4(r,s))return i}else n=i}return n}function sx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?qr(s):Li(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];Uz(t[a],e)&&(l=!0,t[a+1]=r?Jy(c):Yy(c)),a=r?qr(c):Li(c)}l&&(t[n+1]=r?Yy(s):Jy(s))}function Uz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&$a(t,e)>=0}const Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ox(t){return t.substring(Ot.key,Ot.keyEnd)}function ax(t,e){const n=Ot.textEnd;return n===e?-1:(e=Ot.keyEnd=function Gz(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ot.key=e,n),cl(t,e,n))}function cl(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lt(t,e){return function Kr(t,e,n,r){const i=N(),s=ve(),o=Ri(2);s.firstUpdatePass&&fx(s,t,o,r),e!==le&&En(i,o,e)&&gx(s,s.data[Rn()],i,i[11],t,i[o+1]=function eq(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ve(ms(t)))),t}(e,n),r,o)}(t,e,null,!0),lt}function uo(t){!function Yr(t,e,n,r){const i=ve(),s=Ri(2);i.firstUpdatePass&&fx(i,null,s,r);const o=N();if(n!==le&&En(o,s,n)){const a=i.data[Rn()];if(_x(a,r)&&!hx(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=T_(l,n||"")),vv(i,a,o,n,r)}else!function Xz(t,e,n,r,i,s,o,a){i===le&&(i=Ae);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),null!==p&&gx(t,e,n,r,p,g,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function Zz(t,e,n){if(null==n||""===n)return Ae;const r=[],i=ms(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(hr,gi,t,!0)}function gi(t,e){for(let n=function $z(t){return function ux(t){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=t.length}(t),ax(t,cl(t,0,Ot.textEnd))}(e);n>=0;n=ax(e,n))hr(t,ox(e),!0)}function hx(t,e){return e>=t.expandoStartIndex}function fx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Rn()],o=hx(t,n);_x(s,r)&&null===e&&!o&&(e=!1),e=function Kz(t,e,n,r){const i=function H_(t){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=uc(n=Ev(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ev(i,t,e,n,r),null===s){let l=function Yz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Li(r))return t[qr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Ev(null,t,e,l[1],r),l=uc(l,e.attrs,r),function Qz(t,e,n,r){t[qr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function Jz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=uc(r,t[s].hostAttrs,n);return uc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Vz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=qr(o),l=Li(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||$a(d,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const h=qr(t[a+1]);t[r+1]=bf(h,a),0!==h&&(t[h+1]=Qy(t[h+1],r)),t[a+1]=function x4(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=bf(a,0),0!==a&&(t[a+1]=Qy(t[a+1],r)),a=r;else t[r+1]=bf(l,0),0===a?a=r:t[l+1]=Qy(t[l+1],r),l=r;u&&(t[r+1]=Yy(t[r+1])),sx(t,c,r,!0),sx(t,c,r,!1),function Bz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&$a(s,e)>=0&&(n[r+1]=Jy(n[r+1]))}(e,c,t,r,s),o=bf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ev(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=uc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function uc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hr(t,o,!!n||e[++s]))}return void 0===t?null:t}function gx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];kf(function sM(t){return 1==(1&t)}(u)?mx(l,e,n,i,Li(u),o):void 0)||(kf(s)||function iM(t){return 2==(2&t)}(u)&&(s=mx(l,null,n,i,a,o)),function t4(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Qn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qn.Important),t.setStyle(n,r,i,s))}}(r,o,Wh(Rn(),n),i,s))}function mx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===le&&(h=d?Ae:void 0);let f=d?ty(h,r):c===r?h:void 0;if(u&&!kf(f)&&(f=ty(l,r)),kf(f)&&(a=f,o))return a;const p=t[i+1];i=o?qr(p):Li(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=ty(l,r))}return a}function kf(t){return void 0!==t}function _x(t,e){return 0!=(t.flags&(e?16:32))}function j(t,e=""){const n=N(),r=ve(),i=t+22,s=r.firstCreatePass?Xa(r,i,1,e,null):r.data[i],o=n[i]=function Fy(t,e){return t.createText(e)}(n[11],e);_f(r,n,o,s),ui(s,!1)}function Mr(t){return dl("",t,""),Mr}function dl(t,e,n){const r=N(),i=function nl(t,e,n,r){return En(t,Ra(),n)?e+ae(n)+r:le}(r,t,e,n);return i!==le&&function Vi(t,e,n){const r=Wh(e,t);!function TA(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Rn(),i),dl}const co=void 0;var bq=["en",[["a","p"],["AM","PM"],co],[["AM","PM"],co,co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",co,"{1} 'at' {0}",co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vq(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let fl={};function Fn(t){const e=function wq(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Lx(e);if(n)return n;const r=e.split("-")[0];if(n=Lx(r),n)return n;if("en"===r)return bq;throw new k(701,!1)}function Lx(t){return t in fl||(fl[t]=Be.ng&&Be.ng.common&&Be.ng.common.locales&&Be.ng.common.locales[t]),fl[t]}var B=(()=>((B=B||{})[B.LocaleId=0]="LocaleId",B[B.DayPeriodsFormat=1]="DayPeriodsFormat",B[B.DayPeriodsStandalone=2]="DayPeriodsStandalone",B[B.DaysFormat=3]="DaysFormat",B[B.DaysStandalone=4]="DaysStandalone",B[B.MonthsFormat=5]="MonthsFormat",B[B.MonthsStandalone=6]="MonthsStandalone",B[B.Eras=7]="Eras",B[B.FirstDayOfWeek=8]="FirstDayOfWeek",B[B.WeekendRange=9]="WeekendRange",B[B.DateFormat=10]="DateFormat",B[B.TimeFormat=11]="TimeFormat",B[B.DateTimeFormat=12]="DateTimeFormat",B[B.NumberSymbols=13]="NumberSymbols",B[B.NumberFormats=14]="NumberFormats",B[B.CurrencyCode=15]="CurrencyCode",B[B.CurrencySymbol=16]="CurrencySymbol",B[B.CurrencyName=17]="CurrencyName",B[B.Currencies=18]="Currencies",B[B.Directionality=19]="Directionality",B[B.PluralCase=20]="PluralCase",B[B.ExtraData=21]="ExtraData",B))();const pl="en-US";let Vx=pl;function Sv(t,e,n,r,i){if(t=ee(t),Array.isArray(t))for(let s=0;s<t.length;s++)Sv(t[s],e,n,r,i);else{const s=ve(),o=N();let a=so(t)?t:ee(t.provide),l=lA(t);const u=Mt(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(so(t)||!t.multi){const f=new Lu(l,i,b),p=Av(a,e,i?c:c+h,d);-1===p?(tf(Bu(u,o),s,a),Nv(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Av(a,e,c+h,d),p=Av(a,e,c,c+h),g=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!g){tf(Bu(u,o),s,a);const v=function m5(t,e,n,r,i){const s=new Lu(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,uO(s,i,r&&!n),s}(i?g5:p5,n.length,i,r,l);!i&&_&&(n[p].providerFactory=v),Nv(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(v),o.push(v)}else Nv(s,t,f>-1?f:p,uO(n[i?p:f],l,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Nv(t,e,n,r){const i=so(e),s=function Q8(t){return!!t.useClass}(e);if(i||s){const l=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function uO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Av(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function p5(t,e,n,r){return Mv(this.multi,[])}function g5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Uu(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Mv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Mv(i,s);return s}function Mv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function f5(t,e,n){const r=ve();if(r.firstCreatePass){const i=Gr(t);Sv(n,r.data,r.blueprint,i,!0),Sv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ho{}class cO{}class dO extends ho{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mv(this);const r=lr(e);this._bootstrapComponents=Fi(r.bootstrap),this._r3Injector=QA(e,n,[{provide:ho,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xv extends cO{constructor(e){super(),this.moduleType=e}create(e){return new dO(this.moduleType,e)}}class y5 extends ho{constructor(e,n,r){super(),this.componentFactoryResolver=new mv(this),this.instance=null;const i=new aA([...e,{provide:ho,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],n||gf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vf(t,e,n=null){return new y5(t,e,n).injector}let v5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=rA(0,n.type),i=r.length>0?Vf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(U(_s))}),t})();function hO(t){t.getStandaloneInjector=e=>e.get(v5).getOrCreateStandaloneInjector(t)}function gc(t,e){const n=t[e];return n===le?void 0:n}function wO(t,e,n,r,i,s,o,a){const l=e+n;return function Af(t,e,n,r,i){const s=lo(t,e,n,r);return En(t,e+2,i)||s}(t,l,i,s,o)?fi(t,l+3,a?r.call(a,i,s,o):r(i,s,o)):gc(t,l+3)}function fo(t,e){const n=ve();let r;const i=t+22;n.firstCreatePass?(r=function P5(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ro(r.type)),o=Tr(b);try{const a=Xh(!1),l=s();return Xh(a),function kz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,N(),i,l),l}finally{Tr(o)}}function CO(t,e,n,r){const i=t+22,s=N(),o=ka(s,i);return mc(s,i)?function bO(t,e,n,r,i,s,o){const a=e+n;return lo(t,a,i,s)?fi(t,a+2,o?r.call(o,i,s):r(i,s)):gc(t,a+2)}(s,kn(),e,o.transform,n,r,o):o.transform(n,r)}function ml(t,e,n,r,i){const s=t+22,o=N(),a=ka(o,s);return mc(o,s)?wO(o,kn(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function mc(t,e){return t[1].data[e].pure}function Rv(t){return e=>{setTimeout(t,void 0,e)}}const de=class B5 extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Rv(s),i&&(i=Rv(i)),o&&(o=Rv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof sr&&e.add(a),a}};function U5(){return this._results[ao()]()}class Pv{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ao(),r=Pv.prototype;r[n]||(r[n]=U5)}get changes(){return this._changes||(this._changes=new de)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=dr(e);(this._changesDetected=!function J3(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ct=(()=>{class t{}return t.__NG_ELEMENT_ID__=H5,t})();const j5=ct,$5=class extends j5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Ef(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Cf(r,i,e),new ic(i)}};function H5(){return Uf(Mt(),N())}function Uf(t,e){return 4&t.type?new $5(e,t,qa(t,e)):null}let Qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=G5,t})();function G5(){return SO(Mt(),N())}const W5=Qr,TO=class extends W5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qa(this._hostTNode,this._hostLView)}get injector(){return new La(this._hostTNode,this._hostLView)}get parentInjector(){const e=ef(this._hostTNode,this._hostLView);if(_N(e)){const n=Fa(e,this._hostLView),r=Pa(e);return new La(n[1].data[r+8],n)}return new La(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=IO(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function $u(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new sc(Pe(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(_s,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function y3(t){return Hr(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new TO(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function qW(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],NN(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function KW(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=jy(s,o),l=r[11],u=mf(l,o[7]);return null!==u&&function GW(t,e,n,r,i,s){r[0]=i,r[6]=e,nc(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),NN(Fv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=IO(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vy(this._lContainer,n);r&&(rf(Fv(this._lContainer),n),SA(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vy(this._lContainer,n);return r&&null!=rf(Fv(this._lContainer),n)?new ic(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function IO(t){return t[8]}function Fv(t){return t[8]||(t[8]=[])}function SO(t,e){let n;const r=e[t.index];if(Hr(r))n=r;else{let i;if(8&t.type)i=Et(r);else{const s=e[11];i=s.createComment("");const o=Nr(t,e);oo(s,mf(s,o),i,function ZW(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=IM(r,e,i,t),Tf(e,n)}return new TO(n,t,e)}class Lv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Vv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==OO(e,n).matches&&this.queries[n].setDirty()}}class NO{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Bv{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Bv(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Uv{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Uv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,K5(n,s)),this.matchTNodeWithReadOption(e,n,nf(n,e,s,!1,!1))}else r===ct?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ze||i===Qr||i===ct&&4&n.type)this.addMatch(n.index,-2);else{const s=nf(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function K5(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Q5(t,e,n,r){return-1===n?function Y5(t,e){return 11&t.type?qa(t,e):4&t.type?Uf(t,e):null}(e,t):-2===n?function J5(t,e,n){return n===ze?qa(e,t):n===ct?Uf(e,t):n===Qr?SO(e,t):void 0}(t,e,r):Uu(t,t[1],n,e)}function AO(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:Q5(e,s[u],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function jv(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=AO(t,e,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=e[-l];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&jv(h[1],h,u,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];jv(f[1],f,u,r)}}}}}return r}function nt(t){const e=N(),n=ve(),r=aN();G_(r+1);const i=OO(n,r);if(t.dirty&&eN(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?jv(n,e,r,[]):AO(n,e,i,r);t.reset(s,lW),t.notifyOnChanges()}return!0}return!1}function mt(t,e,n,r){const i=ve();if(i.firstCreatePass){const s=Mt();xO(i,new NO(e,n,r),s.index),function X5(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}MO(i,N(),n)}function rt(){return function Z5(t,e){return t[19].queries[e].queryList}(N(),aN())}function MO(t,e,n){const r=new Pv(4==(4&n));_M(t,e,r,r.destroy),null===e[19]&&(e[19]=new Vv),e[19].queries.push(new Lv(r))}function xO(t,e,n){null===t.queries&&(t.queries=new Bv),t.queries.track(new Uv(e,n))}function OO(t,e){return t.queries.getByIndex(e)}function xr(t,e){return Uf(t,e)}function $f(...t){}const Hf=new z("Application Initializer");let Gf=(()=>{class t{constructor(n){this.appInits=n,this.resolve=$f,this.reject=$f,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(lc(s))n.push(s);else if(bv(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(U(Hf,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yc=new z("AppId",{providedIn:"root",factory:function JO(){return`${qv()}${qv()}${qv()}`}});function qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZO=new z("Platform Initializer"),vc=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XO=new z("appBootstrapListener");let v6=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Bi=new z("LocaleId",{providedIn:"root",factory:()=>gt(Bi,J.Optional|J.SkipSelf)||function b6(){return typeof $localize<"u"&&$localize.locale||pl}()});class D6{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Kv=(()=>{class t{compileModuleSync(n){return new xv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Fi(lr(n).declarations).reduce((o,a)=>{const l=Pe(a);return l&&o.push(new sc(l)),o},[]);return new D6(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T6=(()=>Promise.resolve(0))();function Yv(t){typeof Zone>"u"?T6.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function I6(){let t=Be.requestAnimationFrame,e=Be.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function A6(t){const e=()=>{!function N6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jv(t),t.isCheckStableRunning=!0,Qv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return nk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),rk(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return nk(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),rk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Jv(t),Qv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,S6,$f,$f);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const S6={};function Qv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function nk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rk(t){t._nesting--,Qv(t)}class M6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new de,this.onMicrotaskEmpty=new de,this.onStable=new de,this.onError=new de}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ik=new z(""),Wf=new z("");let e0,Zv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e0||(function x6(t){e0=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),Yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(U(Re),U(Xv),U(Wf))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),Xv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return e0?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ws=null;const sk=new z("AllowMultipleToken"),t0=new z("PlatformDestroyListeners");class ok{constructor(e,n){this.name=e,this.token=n}}function lk(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=n0();if(!o||o.injector.get(sk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function R6(t){if(ws&&!ws.get(sk,!1))throw new k(400,!1);ws=t;const e=t.get(ck);(function ak(t){const e=t.get(ZO,null);e&&e.forEach(n=>n())})(t)}(function uk(t=[],e){return Wt.create({name:e,providers:[{provide:_y,useValue:"platform"},{provide:t0,useValue:new Set([()=>ws=null])},...t]})}(a,r))}return function F6(t){const e=n0();if(!e)throw new k(401,!1);return e}()}}function n0(){return ws?.get(ck)??null}let ck=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function hk(t,e){let n;return n="noop"===t?new M6:("zone.js"===t?void 0:t)||new Re(e),n}(r?.ngZone,function dk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Re,useValue:i}];return i.run(()=>{const o=Wt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(Ya,null);if(!l)throw new k(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{zf(this._modules,a),u.unsubscribe()})}),function fk(t,e,n){try{const r=n();return lc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Gf);return u.runInitializers(),u.donePromise.then(()=>(function Bx(t){ar(t,"Expected localeId to be defined"),"string"==typeof t&&(Vx=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Bi,pl)||pl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=pk({},r);return function O6(t,e,n){const r=new xv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(bc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new k(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(t0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(U(Wt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function pk(t,e){return Array.isArray(e)?e.reduce(pk,t):{...t,...e}}let bc=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new xe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new xe(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),Yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function UG(...t){const e=xu(t),n=function kG(t,e){return"number"==typeof D_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?nn(r[0]):Ia(n)(Dt(r,e)):Ur}(s,o.pipe(function jG(t={}){const{connector:e=(()=>new tt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ot((g,_)=>{u++,!d&&!c&&h();const v=l=l??e();_.add(()=>{u--,0===u&&!d&&!c&&(a=E_(p,i))}),v.subscribe(_),!o&&u>0&&(o=new Mu({next:D=>v.next(D),error:D=>{d=!0,h(),a=E_(f,n,D),v.error(D)},complete:()=>{c=!0,h(),a=E_(f,r),v.complete()}}),nn(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof uA;if(!this._injector.get(Gf).done)throw!i&&function Na(t){const e=Pe(t)||Mn(t)||xn(t);return null!==e&&e.standalone}(n),new k(405,false);let o;o=i?n:this._injector.get(Xu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function k6(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ho),u=o.create(Wt.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(ik,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),zf(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;zf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(XO,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(U(Re),U(_s),U(Ya))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let mk=!0,ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=B6,t})();function B6(t){return function U6(t,e,n){if(Hh(t)&&!n){const r=cr(t.index,e);return new ic(r,r)}return 47&t.type?new ic(e[16],e):null}(Mt(),N(),16==(16&t))}class wk{constructor(){}supports(e){return oc(e)}create(e){return new z6(e)}}const W6=(t,e)=>e;class z6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||W6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Ek(r,i,s)?n:r,a=Ek(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!oc(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Az(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new q6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Dk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class q6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Dk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new K6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ek(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Tk(){return new Yf([new wk])}let Yf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Tk()),deps:[[t,new qu,new wn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new k(901,!1)}}return t.\u0275prov=W({token:t,providedIn:"root",factory:Tk}),t})();const X6=lk(null,"core",[]);let e7=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(U(bc))},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({}),t})();function $i(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function l0(t,e){const n=Pe(t),r=e.elementInjector||gf();return new sc(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let Qf=null;function mi(){return Qf}const kt=new z("DocumentToken");let u0=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return function i7(){return U(Sk)}()},providedIn:"platform"}),t})();const s7=new z("Location Initialized");let Sk=(()=>{class t extends u0{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mi().getBaseHref(this._doc)}onPopState(n){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Nk()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Nk()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(U(kt))},t.\u0275prov=W({token:t,factory:function(){return function o7(){return new Sk(U(kt))}()},providedIn:"platform"}),t})();function Nk(){return!!window.history.pushState}function c0(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ak(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hi(t){return t&&"?"!==t[0]?"?"+t:t}let go=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return gt(xk)},providedIn:"root"}),t})();const Mk=new z("appBaseHref");let xk=(()=>{class t extends go{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??gt(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return c0(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Hi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Hi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(u0),U(Mk,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a7=(()=>{class t extends go{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=c0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(u0),U(Mk,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),d0=(()=>{class t{constructor(n){this._subject=new de,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=Ak(Ok(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hi(r))}normalize(n){return t.stripTrailingSlash(function u7(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ok(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Hi,t.joinWithSlash=c0,t.stripTrailingSlash=Ak,t.\u0275fac=function(n){return new(n||t)(U(go))},t.\u0275prov=W({token:t,factory:function(){return function l7(){return new d0(U(go))}()},providedIn:"root"}),t})();function Ok(t){return t.replace(/\/index.html$/,"")}var _t=(()=>((_t=_t||{})[_t.Format=0]="Format",_t[_t.Standalone=1]="Standalone",_t))(),ye=(()=>((ye=ye||{})[ye.Narrow=0]="Narrow",ye[ye.Abbreviated=1]="Abbreviated",ye[ye.Wide=2]="Wide",ye[ye.Short=3]="Short",ye))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function Jf(t,e){return kr(Fn(t)[B.DateFormat],e)}function Zf(t,e){return kr(Fn(t)[B.TimeFormat],e)}function Xf(t,e){return kr(Fn(t)[B.DateTimeFormat],e)}function Or(t,e){const n=Fn(t),r=n[B.NumberSymbols][e];if(typeof r>"u"){if(e===Q.CurrencyDecimal)return n[B.NumberSymbols][Q.Decimal];if(e===Q.CurrencyGroup)return n[B.NumberSymbols][Q.Group]}return r}function Rk(t){if(!t[B.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[B.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function f0(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const D7=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dc={},E7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=(()=>((Rt=Rt||{})[Rt.Short=0]="Short",Rt[Rt.ShortGMT=1]="ShortGMT",Rt[Rt.Long=2]="Long",Rt[Rt.Extended=3]="Extended",Rt))(),X=(()=>((X=X||{})[X.FullYear=0]="FullYear",X[X.Month=1]="Month",X[X.Date=2]="Date",X[X.Hours=3]="Hours",X[X.Minutes=4]="Minutes",X[X.Seconds=5]="Seconds",X[X.FractionalSeconds=6]="FractionalSeconds",X[X.Day=7]="Day",X))(),he=(()=>((he=he||{})[he.DayPeriods=0]="DayPeriods",he[he.Days=1]="Days",he[he.Months=2]="Months",he[he.Eras=3]="Eras",he))();function C7(t,e,n,r){let i=function k7(t){if(Lk(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return ep(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(D7))return function R7(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,u),e}(r)}const e=new Date(t);if(!Lk(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Gi(n,e)||e;let a,o=[];for(;e;){if(a=E7.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const c=o.pop();if(!c)break;e=c}}let l=i.getTimezoneOffset();r&&(l=Fk(r,l),i=function O7(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function x7(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(Fk(e,i)-i))}(i,r,!0));let u="";return o.forEach(c=>{const d=function M7(t){if(g0[t])return g0[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ge(he.Eras,ye.Abbreviated);break;case"GGGG":e=Ge(he.Eras,ye.Wide);break;case"GGGGG":e=Ge(he.Eras,ye.Narrow);break;case"y":e=It(X.FullYear,1,0,!1,!0);break;case"yy":e=It(X.FullYear,2,0,!0,!0);break;case"yyy":e=It(X.FullYear,3,0,!1,!0);break;case"yyyy":e=It(X.FullYear,4,0,!1,!0);break;case"Y":e=ip(1);break;case"YY":e=ip(2,!0);break;case"YYY":e=ip(3);break;case"YYYY":e=ip(4);break;case"M":case"L":e=It(X.Month,1,1);break;case"MM":case"LL":e=It(X.Month,2,1);break;case"MMM":e=Ge(he.Months,ye.Abbreviated);break;case"MMMM":e=Ge(he.Months,ye.Wide);break;case"MMMMM":e=Ge(he.Months,ye.Narrow);break;case"LLL":e=Ge(he.Months,ye.Abbreviated,_t.Standalone);break;case"LLLL":e=Ge(he.Months,ye.Wide,_t.Standalone);break;case"LLLLL":e=Ge(he.Months,ye.Narrow,_t.Standalone);break;case"w":e=p0(1);break;case"ww":e=p0(2);break;case"W":e=p0(1,!0);break;case"d":e=It(X.Date,1);break;case"dd":e=It(X.Date,2);break;case"c":case"cc":e=It(X.Day,1);break;case"ccc":e=Ge(he.Days,ye.Abbreviated,_t.Standalone);break;case"cccc":e=Ge(he.Days,ye.Wide,_t.Standalone);break;case"ccccc":e=Ge(he.Days,ye.Narrow,_t.Standalone);break;case"cccccc":e=Ge(he.Days,ye.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Ge(he.Days,ye.Abbreviated);break;case"EEEE":e=Ge(he.Days,ye.Wide);break;case"EEEEE":e=Ge(he.Days,ye.Narrow);break;case"EEEEEE":e=Ge(he.Days,ye.Short);break;case"a":case"aa":case"aaa":e=Ge(he.DayPeriods,ye.Abbreviated);break;case"aaaa":e=Ge(he.DayPeriods,ye.Wide);break;case"aaaaa":e=Ge(he.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":e=Ge(he.DayPeriods,ye.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Ge(he.DayPeriods,ye.Wide,_t.Standalone,!0);break;case"bbbbb":e=Ge(he.DayPeriods,ye.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(he.DayPeriods,ye.Abbreviated,_t.Format,!0);break;case"BBBB":e=Ge(he.DayPeriods,ye.Wide,_t.Format,!0);break;case"BBBBB":e=Ge(he.DayPeriods,ye.Narrow,_t.Format,!0);break;case"h":e=It(X.Hours,1,-12);break;case"hh":e=It(X.Hours,2,-12);break;case"H":e=It(X.Hours,1);break;case"HH":e=It(X.Hours,2);break;case"m":e=It(X.Minutes,1);break;case"mm":e=It(X.Minutes,2);break;case"s":e=It(X.Seconds,1);break;case"ss":e=It(X.Seconds,2);break;case"S":e=It(X.FractionalSeconds,1);break;case"SS":e=It(X.FractionalSeconds,2);break;case"SSS":e=It(X.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=np(Rt.Short);break;case"ZZZZZ":e=np(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=np(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=np(Rt.Long);break;default:return null}return g0[t]=e,e}(c);u+=d?d(i,n,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function ep(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Gi(t,e){const n=function c7(t){return Fn(t)[B.LocaleId]}(t);if(Dc[n]=Dc[n]||{},Dc[n][e])return Dc[n][e];let r="";switch(e){case"shortDate":r=Jf(t,it.Short);break;case"mediumDate":r=Jf(t,it.Medium);break;case"longDate":r=Jf(t,it.Long);break;case"fullDate":r=Jf(t,it.Full);break;case"shortTime":r=Zf(t,it.Short);break;case"mediumTime":r=Zf(t,it.Medium);break;case"longTime":r=Zf(t,it.Long);break;case"fullTime":r=Zf(t,it.Full);break;case"short":const i=Gi(t,"shortTime"),s=Gi(t,"shortDate");r=tp(Xf(t,it.Short),[i,s]);break;case"medium":const o=Gi(t,"mediumTime"),a=Gi(t,"mediumDate");r=tp(Xf(t,it.Medium),[o,a]);break;case"long":const l=Gi(t,"longTime"),u=Gi(t,"longDate");r=tp(Xf(t,it.Long),[l,u]);break;case"full":const c=Gi(t,"fullTime"),d=Gi(t,"fullDate");r=tp(Xf(t,it.Full),[c,d])}return r&&(Dc[n][e]=r),r}function tp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Zr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function It(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function I7(t,e){switch(t){case X.FullYear:return e.getFullYear();case X.Month:return e.getMonth();case X.Date:return e.getDate();case X.Hours:return e.getHours();case X.Minutes:return e.getMinutes();case X.Seconds:return e.getSeconds();case X.FractionalSeconds:return e.getMilliseconds();case X.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===X.Hours)0===a&&-12===n&&(a=12);else if(t===X.FractionalSeconds)return function T7(t,e){return Zr(t,3).substring(0,e)}(a,e);const l=Or(o,Q.MinusSign);return Zr(a,e,l,r,i)}}function Ge(t,e,n=_t.Format,r=!1){return function(i,s){return function S7(t,e,n,r,i,s){switch(n){case he.Months:return function f7(t,e,n){const r=Fn(t),s=kr([r[B.MonthsFormat],r[B.MonthsStandalone]],e);return kr(s,n)}(e,i,r)[t.getMonth()];case he.Days:return function h7(t,e,n){const r=Fn(t),s=kr([r[B.DaysFormat],r[B.DaysStandalone]],e);return kr(s,n)}(e,i,r)[t.getDay()];case he.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const u=function _7(t){const e=Fn(t);return Rk(e),(e[B.ExtraData][2]||[]).map(r=>"string"==typeof r?f0(r):[f0(r[0]),f0(r[1])])}(e),c=function y7(t,e,n){const r=Fn(t);Rk(r);const s=kr([r[B.ExtraData][0],r[B.ExtraData][1]],e)||[];return kr(s,n)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,_=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&_)return!0}else if(g||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function d7(t,e,n){const r=Fn(t),s=kr([r[B.DayPeriodsFormat],r[B.DayPeriodsStandalone]],e);return kr(s,n)}(e,i,r)[o<12?0:1];case he.Eras:return function p7(t,e){return kr(Fn(t)[B.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function np(t){return function(e,n,r){const i=-1*r,s=Or(n,Q.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Rt.Short:return(i>=0?"+":"")+Zr(o,2,s)+Zr(Math.abs(i%60),2,s);case Rt.ShortGMT:return"GMT"+(i>=0?"+":"")+Zr(o,1,s);case Rt.Long:return"GMT"+(i>=0?"+":"")+Zr(o,2,s)+":"+Zr(Math.abs(i%60),2,s);case Rt.Extended:return 0===r?"Z":(i>=0?"+":"")+Zr(o,2,s)+":"+Zr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Pk(t){return ep(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function p0(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=Pk(n),o=function A7(t){const e=ep(t,0,1).getDay();return ep(t,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Zr(i,t,Or(r,Q.MinusSign))}}function ip(t,e=!1){return function(n,r){return Zr(Pk(n).getFullYear(),t,Or(r,Q.MinusSign),e)}}const g0={};function Fk(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Lk(t){return t instanceof Date&&!isNaN(t.valueOf())}class Y7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mo=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Y7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Hk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Hk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Qr),b(ct),b(Yf))},t.\u0275dir=L({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Hk(t,e){t.context.$implicit=e.item}let Wi=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new J7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Gk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Gk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Qr),b(ct))},t.\u0275dir=L({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class J7{constructor(){this.$implicit=null,this.ngIf=null}}function Gk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ve(e)}'.`)}const dK=new z("DATE_PIPE_DEFAULT_TIMEZONE");let zk=(()=>{class t{constructor(n,r){this.locale=n,this.defaultTimezone=r}transform(n,r="mediumDate",i,s){if(null==n||""===n||n!=n)return null;try{return C7(n,r,s||this.locale,i??this.defaultTimezone??void 0)}catch(o){throw function Xr(t,e){return new k(2100,!1)}()}}}return t.\u0275fac=function(n){return new(n||t)(b(Bi,16),b(dK,24))},t.\u0275pipe=gn({name:"date",type:t,pure:!0,standalone:!0}),t})(),gr=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({}),t})();let IK=(()=>{class t{}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>new SK(U(kt),window)}),t})();class SK{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function NK(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Yk(this.window.history)||Yk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class S0 extends class qK extends class r7{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function n7(t){Qf||(Qf=t)}(new S0)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function KK(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}();return null==n?null:function YK(t){ap=ap||document.createElement("a"),ap.setAttribute("href",t);const e=ap.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function z7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ap,Ic=null;const Xk=new z("TRANSITION_ID"),JK=[{provide:Hf,useFactory:function QK(t,e,n){return()=>{n.get(Gf).donePromise.then(()=>{const r=mi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Xk,kt,Wt],multi:!0}];let XK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const lp=new z("EventManagerPlugins");let up=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(U(lp),U(Re))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();class eR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=mi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let tR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t extends tR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(nR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(nR))}}return t.\u0275fac=function(n){return new(n||t)(U(kt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function nR(t){mi().remove(t)}const N0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A0=/%COMP%/g;function cp(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?cp(t,i,n):(i=i.replace(A0,t),n.push(i))}return n}function sR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let M0=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new x0(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case li.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new s9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case li.ShadowDom:return new o9(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=cp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(U(up),U(Sc),U(yc))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();class x0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(N0[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(aR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=N0[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=N0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(n,r,i&Qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,sR(r)):this.eventManager.addEventListener(e,n,sR(r))}}function aR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class s9 extends x0{constructor(e,n,r,i){super(e),this.component=r;const s=cp(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function n9(t){return"_ngcontent-%COMP%".replace(A0,t)}(i+"-"+r.id),this.hostAttr=function r9(t){return"_nghost-%COMP%".replace(A0,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class o9 extends x0{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=cp(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let a9=(()=>{class t extends eR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(U(kt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const lR=["alt","control","meta","shift"],l9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let c9=(()=>{class t extends eR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),lR.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=l9[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lR.forEach(o=>{o!==i&&(0,u9[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(U(kt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const cR=[{provide:vc,useValue:"browser"},{provide:ZO,useValue:function d9(){S0.makeCurrent()},multi:!0},{provide:kt,useFactory:function f9(){return function D8(t){oy=t}(document),document},deps:[]}],p9=lk(X6,"browser",cR),dR=new z(""),hR=[{provide:Wf,useClass:class ZK{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?mi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:ik,useClass:Zv,deps:[Re,Xv,Wf]},{provide:Zv,useClass:Zv,deps:[Re,Xv,Wf]}],fR=[{provide:_y,useValue:"root"},{provide:Ya,useFactory:function h9(){return new Ya},deps:[]},{provide:lp,useClass:a9,multi:!0,deps:[kt,Re,vc]},{provide:lp,useClass:c9,multi:!0,deps:[kt]},{provide:M0,useClass:M0,deps:[up,Sc,yc]},{provide:wy,useExisting:M0},{provide:tR,useExisting:Sc},{provide:Sc,useClass:Sc,deps:[kt]},{provide:up,useClass:up,deps:[lp,Re]},{provide:class AK{},useClass:XK,deps:[]},[]];let g9=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yc,useValue:n.appId},{provide:Xk,useExisting:yc},JK]}}}return t.\u0275fac=function(n){return new(n||t)(U(dR,12))},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({providers:[...fR,...hR],imports:[gr,e7]}),t})(),pR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(U(kt))},t.\u0275prov=W({token:t,factory:function(n){let r=null;return r=n?new n:function _9(){return new pR(U(kt))}(),r},providedIn:"root"}),t})();function q(...t){return Dt(t,xu(t))}typeof window<"u"&&window;class zt extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const dp=Au(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:T9}=Array,{getPrototypeOf:I9,prototype:S9,keys:N9}=Object;function _R(t){if(1===t.length){const e=t[0];if(T9(e))return{args:e,keys:null};if(function A9(t){return t&&"object"==typeof t&&I9(t)===S9}(e)){const n=N9(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:M9}=Array;function R0(t){return re(e=>function x9(t,e){return M9(e)?t(...e):t(e)}(t,e))}function yR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hp(...t){const e=xu(t),n=Oh(t),{args:r,keys:i}=_R(t);if(0===r.length)return Dt([],e);const s=new xe(function O9(t,e,n=Ai){return r=>{vR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)vR(e,()=>{const u=Dt(t[l],e);let c=!1;u.subscribe($e(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>yR(i,o):Ai));return n?s.pipe(R0(n)):s}function vR(t,e,n){t?Mi(n,t,e):e()}function Nc(...t){return function k9(){return Ia(1)}()(Dt(t,xu(t)))}function bR(t){return new xe(e=>{nn(t()).subscribe(e)})}function Ac(t,e){const n=Ce(t)?t:()=>t,r=i=>i.error(n());return new xe(e?i=>e.schedule(r,0,i):r)}function P0(){return ot((t,e)=>{let n=null;t._refCount++;const r=$e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class wR extends xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,IS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new sr;const n=this.getSubject();e.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=sr.EMPTY)}return e}refCount(){return P0()(this)}}function Rr(t,e){return ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe($e(r,l=>{i?.unsubscribe();let u=0;const c=s++;nn(t(l,c)).subscribe(i=$e(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rn(t){return t<=0?()=>Ur:ot((e,n)=>{let r=0;e.subscribe($e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vn(t,e){return ot((n,r)=>{let i=0;n.subscribe($e(r,s=>t.call(e,s,i++)&&r.next(s)))})}function pp(t){return ot((e,n)=>{let r=!1;e.subscribe($e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function DR(t=R9){return ot((e,n)=>{let r=!1;e.subscribe($e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function R9(){return new dp}function Es(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vn((i,s)=>t(i,s,r)):Ai,rn(1),n?pp(e):DR(()=>new dp))}function _o(t,e){return Ce(e)?At(t,e,1):At(t,1)}function Pt(t,e,n){const r=Ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe($e(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Ai}function Cs(t){return ot((e,n)=>{let s,r=null,i=!1;r=e.subscribe($e(n,void 0,void 0,o=>{s=nn(t(o,Cs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function P9(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe($e(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function ER(t,e){return ot(P9(t,e,arguments.length>=2,!0))}function F0(t){return t<=0?()=>Ur:ot((e,n)=>{let r=[];e.subscribe($e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function CR(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vn((i,s)=>t(i,s,r)):Ai,F0(1),n?pp(e):DR(()=>new dp))}function L0(t){return ot((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const me="primary",Mc=Symbol("RouteTitle");class L9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function vl(t){return new L9(t)}function V9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _i(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!IR(t[i],e[i]))return!1;return!0}function IR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function SR(t){return Array.prototype.concat.apply([],t)}function NR(t){return t.length>0?t[t.length-1]:null}function sn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ts(t){return bv(t)?t:lc(t)?Dt(Promise.resolve(t)):q(t)}const j9={exact:function xR(t,e,n){if(!vo(t.segments,e.segments)||!gp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!xR(t.children[r],e.children[r],n))return!1;return!0},subset:OR},AR={exact:function $9(t,e){return _i(t,e)},subset:function H9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IR(t[n],e[n]))},ignored:()=>!0};function MR(t,e,n){return j9[n.paths](t.root,e.root,n.matrixParams)&&AR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function OR(t,e,n){return kR(t,e,e.segments,n)}function kR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!vo(i,n)||e.hasChildren()||!gp(i,n,r))}if(t.segments.length===n.length){if(!vo(t.segments,n)||!gp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!OR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(vo(t.segments,i)&&gp(t.segments,i,r)&&t.children[me])&&kR(t.children[me],e,s,r)}}function gp(t,e,n){return e.every((r,i)=>AR[n](t[i].parameters,r.parameters))}class yo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vl(this.queryParams)),this._queryParamMap}toString(){return z9.serialize(this)}}class _e{constructor(e,n){this.segments=e,this.children=n,this.parent=null,sn(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mp(this)}}class xc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=vl(this.parameters)),this._parameterMap}toString(){return LR(this)}}function vo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let RR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return new B0},providedIn:"root"}),t})();class B0{parse(e){const n=new tY(e);return new yo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Oc(e.root,!0)}`,r=function Y9(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${_p(n)}=${_p(i)}`).join("&"):`${_p(n)}=${_p(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function q9(t){return encodeURI(t)}(e.fragment)}`:""}`}}const z9=new B0;function mp(t){return t.segments.map(e=>LR(e)).join("/")}function Oc(t,e){if(!t.hasChildren())return mp(t);if(e){const n=t.children[me]?Oc(t.children[me],!1):"",r=[];return sn(t.children,(i,s)=>{s!==me&&r.push(`${s}:${Oc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function W9(t,e){let n=[];return sn(t.children,(r,i)=>{i===me&&(n=n.concat(e(r,i)))}),sn(t.children,(r,i)=>{i!==me&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===me?[Oc(t.children[me],!1)]:[`${i}:${Oc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[me]?`${mp(t)}/${n[0]}`:`${mp(t)}/(${n.join("//")})`}}function PR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _p(t){return PR(t).replace(/%3B/gi,";")}function U0(t){return PR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yp(t){return decodeURIComponent(t)}function FR(t){return yp(t.replace(/\+/g,"%20"))}function LR(t){return`${U0(t.path)}${function K9(t){return Object.keys(t).map(e=>`;${U0(e)}=${U0(t[e])}`).join("")}(t.parameters)}`}const Q9=/^[^\/()?;=#]+/;function vp(t){const e=t.match(Q9);return e?e[0]:""}const J9=/^[^=?&#]+/,X9=/^[^&#]+/;class tY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new _e(e,n)),r}parseSegment(){const e=vp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new xc(yp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=vp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vp(this.remaining);i&&(r=i,this.capture(r))}e[yp(n)]=yp(r)}parseQueryParam(e){const n=function Z9(t){const e=t.match(J9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function eY(t){const e=t.match(X9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=FR(n),s=FR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[me]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function j0(t){return t.segments.length>0?new _e([],{[me]:t}):t}function bp(t){const e={};for(const r of Object.keys(t.children)){const s=bp(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function nY(t){if(1===t.numberOfChildren&&t.children[me]){const e=t.children[me];return new _e(t.segments.concat(e.segments),e.children)}return t}(new _e(t.segments,e))}function bo(t){return t instanceof yo}function sY(t,e,n,r,i){if(0===n.length)return bl(e.root,e.root,e.root,r,i);const s=function UR(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new BR(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return sn(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new BR(n,e,r)}(n);return s.toRoot()?bl(e.root,e.root,new _e([],{}),r,i):function o(l){const u=function aY(t,e,n,r){if(t.isAbsolute)return new wl(e.root,!0,0);if(-1===r)return new wl(n,n===e.root,0);return function jR(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new wl(r,!1,i-s)}(n,r+(kc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?Pc(u.segmentGroup,u.index,s.commands):H0(u.segmentGroup,u.index,s.commands);return bl(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}function kc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rc(t){return"object"==typeof t&&null!=t&&t.outlets}function bl(t,e,n,r,i){let o,s={};r&&sn(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===e?n:VR(t,e,n);const a=j0(bp(o));return new yo(a,s,i)}function VR(t,e,n){const r={};return sn(t.children,(i,s)=>{r[s]=i===e?n:VR(i,e,n)}),new _e(t.segments,r)}class BR{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kc(r[0]))throw new k(4003,!1);const i=r.find(Rc);if(i&&i!==NR(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wl{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function H0(t,e,n){if(t||(t=new _e([],{})),0===t.segments.length&&t.hasChildren())return Pc(t,e,n);const r=function uY(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Rc(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!HR(l,u,o))return s;r+=2}else{if(!HR(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new _e(t.segments.slice(r.pathIndex),t.children),Pc(s,0,i)}return r.match&&0===i.length?new _e(t.segments,{}):r.match&&!t.hasChildren()?G0(t,e,n):r.match?Pc(t,0,i):G0(t,e,n)}function Pc(t,e,n){if(0===n.length)return new _e(t.segments,{});{const r=function lY(t){return Rc(t[0])?t[0].outlets:{[me]:t}}(n),i={};return sn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=H0(t.children[o],e,s))}),sn(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new _e(t.segments,i)}}function G0(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Rc(s)){const l=cY(s.outlets);return new _e(r,l)}if(0===i&&kc(n[0])){r.push(new xc(t.segments[e].path,$R(n[0]))),i++;continue}const o=Rc(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kc(a)?(r.push(new xc(o,$R(a))),i+=2):(r.push(new xc(o,{})),i++)}return new _e(r,{})}function cY(t){const e={};return sn(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=G0(new _e([],{}),0,n))}),e}function $R(t){const e={};return sn(t,(n,r)=>e[r]=`${n}`),e}function HR(t,e,n){return t==n.path&&_i(e,n.parameters)}class zi{constructor(e,n){this.id=e,this.url=n}}class W0 extends zi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wo extends zi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wp extends zi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class GR extends zi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dY extends zi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hY extends zi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fY extends zi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pY extends zi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gY extends zi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mY{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _Y{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yY{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WR{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=z0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=z0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=q0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q0(e,this._root).map(n=>n.value)}}function z0(t,e){if(t===e.value)return e;for(const n of e.children){const r=z0(t,n);if(r)return r}return null}function q0(t,e){if(t===e.value)return[e];for(const n of e.children){const r=q0(t,n);if(r.length)return r.unshift(e),r}return[]}class qi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Dl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class qR extends zR{constructor(e,n){super(e),this.snapshot=n,K0(this,e)}toString(){return this.snapshot.toString()}}function KR(t,e){const n=function EY(t,e){const o=new Dp([],{},{},"",{},me,e,null,t.root,-1,{});return new QR("",new qi(o,[]))}(t,e),r=new zt([new xc("",{})]),i=new zt({}),s=new zt({}),o=new zt({}),a=new zt(""),l=new Do(r,i,o,a,s,me,e,n.root);return l.snapshot=n.root,new qR(new qi(l,[]),n)}class Do{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(re(u=>u[Mc]))??q(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>vl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>vl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YR(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function CY(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dp{constructor(e,n,r,i,s,o,a,l,u,c,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Mc],this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QR extends zR{constructor(e,n){super(n),this.url=e,K0(this,n)}toString(){return JR(this._root)}}function K0(t,e){e.value._routerState=t,e.children.forEach(n=>K0(t,n))}function JR(t){const e=t.children.length>0?` { ${t.children.map(JR).join(", ")} } `:"";return`${t.value}${e}`}function Y0(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_i(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_i(e.params,n.params)||t.params.next(n.params),function B9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_i(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_i(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Q0(t,e){const n=_i(t.params,e.params)&&function G9(t,e){return vo(t,e)&&t.every((n,r)=>_i(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Q0(t.parent,e.parent))}function Fc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function IY(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fc(t,r,i);return Fc(t,r)})}(t,e,n);return new qi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fc(t,a)),o}}const r=function SY(t){return new Do(new zt(t.url),new zt(t.params),new zt(t.queryParams),new zt(t.fragment),new zt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Fc(t,s));return new qi(r,i)}}const J0="ngNavigationCancelingError";function ZR(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XR(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function XR(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[J0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eP(t){return tP(t)&&bo(t.url)}function tP(t){return t&&t[J0]}class NY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lc,this.attachRef=null}}let Lc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new NY,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ep=!1;let Z0=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new de,this.deactivateEvents=new de,this.attachEvents=new de,this.detachEvents=new de,this.name=i||me,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,Ep);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,Ep);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,Ep);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,Ep);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new AY(n,a,i.injector);if(r&&function MY(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(Lc),b(Qr),io("name"),b(ji),b(_s))},t.\u0275dir=L({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class AY{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Do?this.route:e===Lc?this.childContexts:this.parent.get(e,n)}}let X0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],standalone:!0,features:[hO],decls:1,vars:0,template:function(n,r){1&n&&Ie(0,"router-outlet")},dependencies:[Z0],encapsulation:2}),t})();function nP(t,e){return t.providers&&!t._injector&&(t._injector=Vf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tb(t){const e=t.children&&t.children.map(tb),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=X0),n}function Pr(t){return t.outlet||me}function rP(t,e){const n=t.filter(r=>Pr(r)===e);return n.push(...t.filter(r=>Pr(r)!==e)),n}function Vc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class PY{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Y0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Dl(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),sn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Dl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Dl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Dl(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vY(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Y0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Y0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Vc(i.snapshot),l=a?.get(Xu)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class iP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cp{constructor(e,n){this.component=e,this.route=n}}function FY(t,e,n){const r=t._root;return Bc(r,e?e._root:null,n,[r.value])}function El(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function KG(t){return null!==Lh(t)}(t)?e.get(t):t:r}function Bc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Dl(e);return t.children.forEach(o=>{(function VY(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function BY(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vo(t.url,e.url)||!_i(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q0(t,e)||!_i(t.queryParams,e.queryParams);default:return!Q0(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new iP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Bc(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cp(a.outlet.component,o))}else o&&Uc(e,a,i),i.canActivateChecks.push(new iP(r)),Bc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),sn(s,(o,a)=>Uc(o,n.getContext(a),i)),i}function Uc(t,e,n){const r=Dl(t),i=t.value;sn(r,(s,o)=>{Uc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Cp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jc(t){return"function"==typeof t}function nb(t){return t instanceof dp||"EmptyError"===t?.name}const Tp=Symbol("INITIAL_VALUE");function Cl(){return Rr(t=>hp(t.map(e=>e.pipe(rn(1),function fp(...t){const e=xu(t);return ot((n,r)=>{(e?Nc(t,n,e):Nc(t,n)).subscribe(r)})}(Tp)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Tp)return Tp;if(!1===n||n instanceof yo)return n}return!0}),Vn(e=>e!==Tp),rn(1)))}function sP(t){return function pG(...t){return ES(t)}(Pt(e=>{if(bo(e))throw ZR(0,e)}),re(e=>!0===e))}const rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oP(t,e,n,r,i){const s=ib(t,e,n);return s.matched?function nQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=El(o,t);return Ts(function WY(t){return t&&jc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Cl(),sP()):q(!0)}(r=nP(e,r),e,n).pipe(re(o=>!0===o?s:{...rb})):q(s)}function ib(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...rb}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||V9)(n,t,e);if(!i)return{...rb};const s={};sn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ip(t,e,n,r,i="corrected"){if(n.length>0&&function sQ(t,e,n){return n.some(r=>Sp(t,e,r)&&Pr(r)!==me)}(t,n,r)){const o=new _e(e,function iQ(t,e,n,r){const i={};i[me]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Pr(s)!==me){const o=new _e([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Pr(s)]=o}return i}(t,e,r,new _e(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function oQ(t,e,n){return n.some(r=>Sp(t,e,r))}(t,n,r)){const o=new _e(t.segments,function rQ(t,e,n,r,i,s){const o={};for(const a of r)if(Sp(t,n,a)&&!i[Pr(a)]){const l=new _e([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Pr(a)]=l}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new _e(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Sp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function aP(t,e,n,r){return!!(Pr(t)===r||r!==me&&Sp(e,n,t))&&("**"===t.path||ib(e,t,n).matched)}function lP(t,e,n){return 0===e.length&&!t.children[n]}const Np=!1;class Ap{constructor(e){this.segmentGroup=e||null}}class uP{constructor(e){this.urlTree=e}}function $c(t){return Ac(new Ap(t))}function cP(t){return Ac(new uP(t))}class cQ{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Ip(this.urlTree.root,[],[],this.config).segmentGroup,n=new _e(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,me).pipe(re(s=>this.createUrlTree(bp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cs(s=>{if(s instanceof uP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ap?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,me).pipe(re(i=>this.createUrlTree(bp(i),e.queryParams,e.fragment))).pipe(Cs(i=>{throw i instanceof Ap?this.noMatchError(i):i}))}noMatchError(e){return new k(4002,Np)}createUrlTree(e,n,r){const i=j0(e);return new yo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(re(s=>new _e([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Dt(i).pipe(_o(s=>{const o=r.children[s],a=rP(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(re(l=>({segment:l,outlet:s})))}),ER((s,o)=>(s[o.outlet]=o.segment,s),{}),CR())}expandSegment(e,n,r,i,s,o){return Dt(r).pipe(_o(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Cs(u=>{if(u instanceof Ap)return q(null);throw u}))),Es(a=>!!a),Cs((a,l)=>{if(nb(a))return lP(n,i,s)?q(new _e([],{})):$c(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return aP(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):$c(n):$c(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cP(s):this.lineralizeSegments(r,s).pipe(At(o=>{const a=new _e(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=ib(n,i,s);if(!a)return $c(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?cP(d):this.lineralizeSegments(i,d).pipe(At(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=nP(r,e),r.loadChildren?(r._loadedRoutes?q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new _e(i,{})))):q(new _e(i,{}))):oP(n,r,i,e).pipe(Rr(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(At(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:p}=Ip(n,a,l,h),g=new _e(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(re(y=>new _e(a,y)));if(0===h.length&&0===p.length)return q(new _e(a,{}));const _=Pr(r)===s;return this.expandSegment(d,g,h,p,_?me:s,!0).pipe(re(D=>new _e(a.concat(D.segments),D.children)))})):$c(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function tQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=El(o,t);return Ts(function jY(t){return t&&jc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Cl(),sP())}(e,n,r).pipe(At(i=>i?this.configLoader.loadChildren(e,n).pipe(Pt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function lQ(t){return Ac(XR(Np,3))}())):q({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[me])return Ac(new k(4e3,Np));i=i.children[me]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new yo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return sn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return sn(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new k(4001,Np);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class hQ{}class gQ{constructor(e,n,r,i,s,o,a,l){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=Ip(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,me).pipe(re(n=>{if(null===n)return null;const r=new Dp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qi(r,n),s=new QR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=YR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Dt(Object.keys(r.children)).pipe(_o(i=>{const s=r.children[i],o=rP(n,i);return this.processSegmentGroup(e,o,s,i)}),ER((i,s)=>i&&s?(i.push(...s),i):null),function F9(t,e=!1){return ot((n,r)=>{let i=0;n.subscribe($e(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),pp(null),CR(),re(i=>{if(null===i)return null;const s=dP(i);return function mQ(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return Dt(n).pipe(_o(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Es(o=>!!o),Cs(o=>{if(nb(o))return lP(r,i,s)?q([]):q(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!aP(n,r,i,s))return q(null);let o;if("**"===n.path){const a=i.length>0?NR(i).parameters:{},l=fP(r)+i.length;o=q({snapshot:new Dp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gP(n),Pr(n),n.component??n._loadedComponent??null,n,hP(r),l,mP(n),l),consumedSegments:[],remainingSegments:[]})}else o=oP(r,n,i,e).pipe(re(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=fP(r)+l.length;return{snapshot:new Dp(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gP(n),Pr(n),n.component??n._loadedComponent??null,n,hP(r),d,mP(n),d),consumedSegments:l,remainingSegments:u}}));return o.pipe(Rr(a=>{if(null===a)return q(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function _Q(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Ip(r,u,c,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(_=>null===_?null:[new qi(l,_)]));if(0===h.length&&0===p.length)return q([new qi(l,[])]);const g=Pr(n)===s;return this.processSegment(d,h,f,p,g?me:s).pipe(re(_=>null===_?null:[new qi(l,_)]))}))}}function yQ(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dP(t){const e=[],n=new Set;for(const r of t){if(!yQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=dP(r.children);e.push(new qi(r.value,i))}return e.filter(r=>!n.has(r))}function hP(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fP(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function gP(t){return t.data||{}}function mP(t){return t.resolve||{}}function wQ(t,e){return At(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=0;return Dt(i).pipe(_o(o=>function DQ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!_P(i)&&(s[Mc]=i.title),function EQ(t,e,n,r){const i=function CQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const s={};return Dt(i).pipe(At(o=>function TQ(t,e,n,r){const i=Vc(e)??r,s=El(t,i);return Ts(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Es(),Pt(a=>{s[o]=a}))),F0(1),function TR(t){return re(()=>t)}(s),Cs(o=>nb(o)?Ur:Ac(o)))}(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=YR(t,n).resolve,i&&_P(i)&&(t.data[Mc]=i.title),null)))}(o.route,r,t,e)),Pt(()=>s++),F0(1),At(o=>s===i.length?q(n):Ur))})}function _P(t){return"string"==typeof t.title||null===t.title}function sb(t){return Rr(e=>{const n=t(e);return n?Dt(n).pipe(re(()=>e)):q(e)})}let yP=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[Mc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return gt(vP)},providedIn:"root"}),t})(),vP=(()=>{class t extends yP{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(U(pR))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class IQ{}class NQ extends class SQ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const xp=new z("",{providedIn:"root",factory:()=>({})}),ob=new z("ROUTES");let ab=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ts(n.loadComponent()).pipe(Pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),L0(()=>{this.componentLoaders.delete(n)})),i=new wR(r,()=>new tt).pipe(P0());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=SR(l.get(ob,[],J.Self|J.Optional)));return{routes:u.map(tb),injector:l}}),L0(()=>{this.childrenLoaders.delete(r)})),o=new wR(s,()=>new tt).pipe(P0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ts(n()).pipe(At(r=>r instanceof cO||Array.isArray(r)?q(r):Dt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(U(Wt),U(Kv))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class MQ{}class xQ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function OQ(t){throw t}function kQ(t,e,n){return e.parse("/")}const RQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wP(){const t=gt(RR),e=gt(Lc),n=gt(d0),r=gt(Wt),i=gt(Kv),s=gt(ob,{optional:!0})??[],o=gt(xp,{optional:!0})??{},a=gt(vP),l=gt(yP,{optional:!0}),u=gt(MQ,{optional:!0}),c=gt(IQ,{optional:!0}),d=new yt(null,t,e,n,r,i,SR(s));return u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),d.titleStrategy=l??a,function FQ(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let yt=(()=>{class t{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tt,this.errorHandler=OQ,this.malformedUriErrorHandler=kQ,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>q(void 0),this.urlHandlingStrategy=new xQ,this.routeReuseStrategy=new NQ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(ab),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new _Y(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new mY(h)),this.ngModule=o.get(ho),this.console=o.get(v6);const d=o.get(Re);this.isNgZoneEnabled=d instanceof Re&&Re.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function U9(){return new yo(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KR(this.currentUrlTree,this.rootComponentType),this.transitions=new zt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Vn(i=>0!==i.id),re(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Rr(i=>{let s=!1,o=!1;return q(i).pipe(Pt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rr(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return DP(a.source)&&(this.browserUrlTree=a.extractedUrl),q(a).pipe(Rr(d=>{const h=this.transitions.getValue();return r.next(new W0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ur:Promise.resolve(d)}),function dQ(t,e,n,r){return Rr(i=>function uQ(t,e,n,r,i){return new cQ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(re(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Pt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function bQ(t,e,n,r,i,s){return At(o=>function pQ(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new gQ(t,e,n,r,i,o,a,s).recognize().pipe(Rr(l=>null===l?function fQ(t){return new xe(e=>e.error(t))}(new hQ):q(l)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(re(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Pt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new dY(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,v=new W0(h,this.serializeUrl(f),p,g);r.next(v);const D=KR(f,this.rootComponentType).snapshot;return q(i={...a,targetSnapshot:D,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ur}),Pt(a=>{const l=new hY(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),re(a=>i={...a,guards:FY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function qY(t,e){return At(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?q({...n,guardsResult:!0}):function KY(t,e,n,r){return Dt(t).pipe(At(i=>function eQ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const l=Vc(e)??i,u=El(a,l);return Ts(function GY(t){return t&&jc(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Es())})).pipe(Cl()):q(!0)}(i.component,i.route,n,e,r)),Es(i=>!0!==i,!0))}(o,r,i,t).pipe(At(a=>a&&function UY(t){return"boolean"==typeof t}(a)?function YY(t,e,n,r){return Dt(e).pipe(_o(i=>Nc(function JY(t,e){return null!==t&&e&&e(new yY(t)),q(!0)}(i.route.parent,r),function QY(t,e){return null!==t&&e&&e(new bY(t)),q(!0)}(i.route,r),function XY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function LY(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>bR(()=>q(o.guards.map(l=>{const u=Vc(o.node)??n,c=El(l,u);return Ts(function HY(t){return t&&jc(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Es())})).pipe(Cl())));return q(s).pipe(Cl())}(t,i.path,n),function ZY(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>bR(()=>{const o=Vc(e)??n,a=El(s,o);return Ts(function $Y(t){return t&&jc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Es())}));return q(i).pipe(Cl())}(t,i.route,n))),Es(i=>!0!==i,!0))}(r,s,t,e):q(a)),re(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Pt(a=>{if(i.guardsResult=a.guardsResult,bo(a.guardsResult))throw ZR(0,a.guardsResult);const l=new fY(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Vn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),sb(a=>{if(a.guards.canActivateChecks.length)return q(a).pipe(Pt(l=>{const u=new pY(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Rr(l=>{let u=!1;return q(l).pipe(wQ(this.paramsInheritanceStrategy,this.ngModule.injector),Pt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Pt(l=>{const u=new gY(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),sb(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Pt(d=>{u.component=d}),re(()=>{})));for(const d of u.children)c.push(...l(d));return c};return hp(l(a.targetSnapshot.root)).pipe(pp(),rn(1))}),sb(()=>this.afterPreactivation()),re(a=>{const l=function TY(t,e,n){const r=Fc(t,e._root,n?n._root:void 0);return new qR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),Pt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>re(r=>(new PY(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Pt({next(){s=!0},complete(){s=!0}}),L0(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Cs(a=>{if(o=!0,tP(a)){eP(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new wp(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),eP(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||DP(i.source)};this.scheduleNavigation(u,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new GR(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Ur}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(tb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),sY(u,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=bo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function LQ(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new k(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...RQ}:!1===r?{...PQ}:r,bo(n))return MR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return MR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new wo(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,f)=>{a=h,l=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new wp(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Ky()},t.\u0275prov=W({token:t,factory:function(){return wP()},providedIn:"root"}),t})();function DP(t){return"imperative"!==t}let lb=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new tt,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=$i(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=$i(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=$i(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(yt),b(Do),io("tabindex"),b(Wr),b(ze))},t.\u0275dir=L({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&ne("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[On]}),t})(),Tl=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new tt,this.subscription=n.events.subscribe(s=>{s instanceof wo&&this.updateTargetUrlAndHref()})}set preserveFragment(n){this._preserveFragment=$i(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=$i(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=$i(n)}get replaceUrl(){return this._replaceUrl}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){return!!(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(b(yt),b(Do),b(go))},t.\u0275dir=L({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&ne("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Ue("target",r.target)("href",r.href,fy)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[On]}),t})(),EP=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new de,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof wo&&this.update()})}ngAfterContentInit(){q(this.links.changes,this.linksWithHrefs.changes,q(null)).pipe(Ia()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Dt(n).pipe(Ia()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function VQ(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)}}return t.\u0275fac=function(n){return new(n||t)(b(yt),b(ze),b(Wr),b(ji),b(lb,8),b(Tl,8))},t.\u0275dir=L({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&(mt(i,lb,5),mt(i,Tl,5)),2&n){let s;nt(s=rt())&&(r.links=s),nt(s=rt())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[On]}),t})();class CP{}let BQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(n=>n instanceof wo),_o(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Vf(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Dt(i).pipe(Ia())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):q(null);const s=i.pipe(At(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Dt([s,this.loader.loadComponent(r)]).pipe(Ia()):s})}}return t.\u0275fac=function(n){return new(n||t)(U(yt),U(Kv),U(_s),U(CP),U(ab))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ub=new z("");let TP=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof W0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof wo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof WR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new WR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Ky()},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function Il(t,e){return{\u0275kind:t,\u0275providers:e}}function cb(t){return[{provide:ob,multi:!0,useValue:t}]}function SP(){const t=gt(Wt);return e=>{const n=t.get(bc);if(e!==n.components[0])return;const r=t.get(yt),i=t.get(NP);1===t.get(db)&&r.initialNavigation(),t.get(AP,null,J.Optional)?.setUpPreloading(),t.get(ub,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const NP=new z("",{factory:()=>new tt}),db=new z("",{providedIn:"root",factory:()=>1});const AP=new z("");function HQ(t){return Il(0,[{provide:AP,useExisting:BQ},{provide:CP,useExisting:t}])}const MP=new z("ROUTER_FORROOT_GUARD"),GQ=[d0,{provide:RR,useClass:B0},{provide:yt,useFactory:wP},Lc,{provide:Do,useFactory:function IP(t){return t.routerState.root},deps:[yt]},ab];function WQ(){return new ok("Router",yt)}let xP=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[GQ,[],cb(n),{provide:MP,useFactory:YQ,deps:[[yt,new wn,new qu]]},{provide:xp,useValue:r||{}},r?.useHash?{provide:go,useClass:a7}:{provide:go,useClass:xk},{provide:ub,useFactory:()=>{const t=gt(yt),e=gt(IK),n=gt(xp);return n.scrollOffset&&e.setOffset(n.scrollOffset),new TP(t,e,n)}},r?.preloadingStrategy?HQ(r.preloadingStrategy).\u0275providers:[],{provide:ok,multi:!0,useFactory:WQ},r?.initialNavigation?QQ(r):[],[{provide:OP,useFactory:SP},{provide:XO,multi:!0,useExisting:OP}]]}}static forChild(n){return{ngModule:t,providers:[cb(n)]}}}return t.\u0275fac=function(n){return new(n||t)(U(MP,8))},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({imports:[X0]}),t})();function YQ(t){return"guarded"}function QQ(t){return["disabled"===t.initialNavigation?Il(3,[{provide:Hf,multi:!0,useFactory:()=>{const e=gt(yt);return()=>{e.setUpLocationChangeListener()}}},{provide:db,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Il(2,[{provide:db,useValue:0},{provide:Hf,multi:!0,deps:[Wt],useFactory:e=>{const n=e.get(s7,Promise.resolve(null));let r=!1;return()=>n.then(()=>new Promise(s=>{const o=e.get(yt),a=e.get(NP);(function i(s){e.get(yt).events.pipe(Vn(a=>a instanceof wo||a instanceof wp||a instanceof GR),re(a=>a instanceof wo||a instanceof wp&&(0===a.code||1===a.code)&&null),Vn(a=>null!==a),rn(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?q(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const OP=new z("");let ZQ=(()=>{class t{constructor(){this.contacts=[{name:"Eileen Russell",email:"eileenrussell@xumonk.com",birthday:new Date("2020-08-09T08:51:00"),phones:["+1 (824) 598-2328"]},{name:"Francis Mckay",email:"francismckay@xumonk.com",birthday:new Date("2014-01-15T08:20:08"),phones:[]},{name:"Jewell Schultz",email:"jewellschultz@xumonk.com",birthday:new Date("2020-07-03T01:03:19"),phones:["+1 (932) 538-2367","+1 (949) 503-2184"]},{name:"Goodman Hunter",email:"goodmanhunter@xumonk.com",birthday:new Date("2016-02-22T11:42:38"),phones:[]},{name:"Beck Webb",email:"beckwebb@xumonk.com",birthday:new Date("2019-08-24T10:40:04"),phones:["+1 (986) 566-2317","+1 (950) 438-3960","+1 (997) 562-3636"]},{name:"Tabitha Combs",email:"tabithacombs@xumonk.com",birthday:new Date("2018-03-24T01:55:12"),phones:["+1 (897) 437-2473"]},{name:"Schmidt Jennings",email:"schmidtjennings@xumonk.com",birthday:new Date("2014-09-24T04:18:20"),phones:[]},{name:"Bullock Martinez",email:"bullockmartinez@xumonk.com",birthday:new Date("2016-05-18T11:26:22"),phones:["+1 (889) 424-3036","+1 (819) 403-2637"]},{name:"Reva Stafford",email:"revastafford@xumonk.com",birthday:new Date("2022-02-21T03:10:47"),phones:["+1 (929) 465-2033","+1 (952) 546-2373"]},{name:"Franco Mccray",email:"francomccray@xumonk.com",birthday:new Date("2020-03-02T07:29:18"),phones:["+1 (900) 587-3989"]}]}getAll(){return new xe(r=>{setTimeout(()=>{r.next(this.contacts)},1e3)})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Wr),b(ze))},t.\u0275dir=L({type:t}),t})(),Eo=(()=>{class t extends kP{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bn(t)))(r||t)}}(),t.\u0275dir=L({type:t,features:[ke]}),t})();const yi=new z("NgValueAccessor"),tJ={provide:yi,useExisting:Se(()=>Co),multi:!0},rJ=new z("CompositionEventMode");let Co=(()=>{class t extends kP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nJ(){const t=mi()?mi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Wr),b(ze),b(rJ,8))},t.\u0275dir=L({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ne("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[qe([tJ]),ke]}),t})();function Is(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function PP(t){return null!=t&&"number"==typeof t.length}const In=new z("NgValidators"),Ss=new z("NgAsyncValidators"),sJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class To{static min(e){return function FP(t){return e=>{if(Is(e.value)||Is(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function LP(t){return e=>{if(Is(e.value)||Is(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return VP(e)}static requiredTrue(e){return function BP(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return UP(e)}static minLength(e){return jP(e)}static maxLength(e){return $P(e)}static pattern(e){return function HP(t){if(!t)return Pp;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Is(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return YP(e)}static composeAsync(e){return QP(e)}}function VP(t){return Is(t.value)?{required:!0}:null}function UP(t){return Is(t.value)||sJ.test(t.value)?null:{email:!0}}function jP(t){return e=>Is(e.value)||!PP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function $P(t){return e=>PP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Pp(t){return null}function GP(t){return null!=t}function WP(t){return lc(t)?Dt(t):t}function zP(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function qP(t,e){return e.map(n=>n(t))}function KP(t){return t.map(e=>function oJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function YP(t){if(!t)return null;const e=t.filter(GP);return 0==e.length?null:function(n){return zP(qP(n,e))}}function hb(t){return null!=t?YP(KP(t)):null}function QP(t){if(!t)return null;const e=t.filter(GP);return 0==e.length?null:function(n){return function XQ(...t){const e=Oh(t),{args:n,keys:r}=_R(t),i=new xe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;nn(n[c]).subscribe($e(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?yR(r,a):a),s.complete())}))}});return e?i.pipe(R0(e)):i}(qP(n,e).map(WP)).pipe(re(zP))}}function fb(t){return null!=t?QP(KP(t)):null}function JP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ZP(t){return t._rawValidators}function XP(t){return t._rawAsyncValidators}function pb(t){return t?Array.isArray(t)?t:[t]:[]}function Fp(t,e){return Array.isArray(t)?t.includes(e):t===e}function eF(t,e){const n=pb(e);return pb(t).forEach(i=>{Fp(n,i)||n.push(i)}),n}function tF(t,e){return pb(e).filter(n=>!Fp(t,n))}class nF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Bn extends nF{get formDirective(){return null}get path(){return null}}class Ns extends nF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hc=(()=>{class t extends rF{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Ns,2))},t.\u0275dir=L({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&lt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ke]}),t})(),Lp=(()=>{class t extends rF{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Bn,10))},t.\u0275dir=L({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&lt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ke]}),t})();const Gc="VALID",Bp="INVALID",Sl="PENDING",Wc="DISABLED";function yb(t){return(Up(t)?t.validators:t)||null}function sF(t){return Array.isArray(t)?hb(t):t||null}function vb(t,e){return(Up(e)?e.asyncValidators:t)||null}function oF(t){return Array.isArray(t)?fb(t):t||null}function Up(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uF{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=sF(this._rawValidators),this._composedAsyncValidatorFn=oF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gc}get invalid(){return this.status===Bp}get pending(){return this.status==Sl}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=oF(e)}addValidators(e){this.setValidators(eF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tF(e,this._rawAsyncValidators))}hasValidator(e){return Fp(this._rawValidators,e)}hasAsyncValidator(e){return Fp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gc||this.status===Sl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:Gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sl,this._hasOwnPendingAsyncValidator=!0;const n=WP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?Bp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sl)?Sl:this._anyControlsHaveStatus(Bp)?Bp:Gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Up(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class jp extends uF{constructor(e,n,r){super(yb(n),vb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function lF(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new k(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function aF(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[n])throw new k(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function $p(t,e){return[...e.path,t]}function zc(t,e){bb(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&e.valueAccessor.setDisabledState?.(!0),function gJ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cF(t,e)})}(t,e),function _J(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function mJ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cF(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function pJ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Hp(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Gp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function bb(t,e){const n=ZP(t);null!==e.validator?t.setValidators(JP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=XP(t);null!==e.asyncValidator?t.setAsyncValidators(JP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Gp(e._rawValidators,i),Gp(e._rawAsyncValidators,i)}function Wp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=ZP(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=XP(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Gp(e._rawValidators,r),Gp(e._rawAsyncValidators,r),n}function cF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dF(t,e){bb(t,e)}function wb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function fF(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Db(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Co?n=s:function bJ(t){return Object.getPrototypeOf(t.constructor)===Eo}(s)?r=s:i=s}),i||r||n||null}const DJ={provide:Bn,useExisting:Se(()=>Kc)},qc=(()=>Promise.resolve(null))();let Kc=(()=>{class t extends Bn{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new de,this.form=new jp({},hb(n),fb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){qc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),zc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){qc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){qc.then(()=>{const r=this._findContainer(n.path),i=new jp({});dF(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){qc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){qc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,fF(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(In,10),b(Ss,10))},t.\u0275dir=L({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ne("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([DJ]),ke]}),t})();function pF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function gF(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Io=class extends uF{constructor(e=null,n,r){super(yb(n),vb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Up(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=gF(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},TJ={provide:Ns,useExisting:Se(()=>Nl)},yF=(()=>Promise.resolve(null))();let Nl=(()=>{class t extends Ns{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Io,this._registered=!1,this.update=new de,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Db(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wb(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){yF.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&$i(r);yF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?$p(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(Bn,9),b(In,10),b(Ss,10),b(yi,10),b(ji,8))},t.\u0275dir=L({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([TJ]),ke,On]}),t})(),zp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),bF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({}),t})();const Eb=new z("NgModelWithFormControlWarning"),xJ={provide:Bn,useExisting:Se(()=>qp)};let qp=(()=>{class t extends Bn{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new de,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return zc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Hp(n.control||null,n,!1),function wJ(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,fF(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Hp(r||null,n),(t=>t instanceof Io)(i)&&(zc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);dF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function yJ(t,e){return Wp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bb(this.form,this),this._oldForm&&Wp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(b(In,10),b(Ss,10))},t.\u0275dir=L({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&ne("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([xJ]),ke,On]}),t})();const RJ={provide:Ns,useExisting:Se(()=>Ib)};let Ib=(()=>{class t extends Ns{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new de,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Db(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),wb(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return $p(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(b(Bn,13),b(In,10),b(Ss,10),b(yi,10),b(Eb,8))},t.\u0275dir=L({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([RJ]),ke,On]}),t})();function SF(t){return"number"==typeof t?t:parseInt(t,10)}let So=(()=>{class t{constructor(){this._validator=Pp}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Pp,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=L({type:t,features:[On]}),t})();const HJ={provide:In,useExisting:Se(()=>Al),multi:!0};let Al=(()=>{class t extends So{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$i,this.createValidator=n=>VP}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bn(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Ue("required",r._enabled?"":null)},inputs:{required:"required"},features:[qe([HJ]),ke]}),t})();const WJ={provide:In,useExisting:Se(()=>Kp),multi:!0};let Kp=(()=>{class t extends So{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=$i,this.createValidator=n=>UP}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bn(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[qe([WJ]),ke]}),t})();const zJ={provide:In,useExisting:Se(()=>Yp),multi:!0};let Yp=(()=>{class t extends So{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>SF(n),this.createValidator=n=>jP(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bn(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ue("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[qe([zJ]),ke]}),t})();const qJ={provide:In,useExisting:Se(()=>Qp),multi:!0};let Qp=(()=>{class t extends So{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>SF(n),this.createValidator=n=>$P(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=bn(t)))(r||t)}}(),t.\u0275dir=L({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ue("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([qJ]),ke]}),t})(),kF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({imports:[bF]}),t})(),Ab=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({imports:[kF]}),t})(),YJ=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Eb,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({imports:[kF]}),t})(),JJ=(()=>{class t{transform(n,r,i){let s=[];for(let o of n)o[r].toLowerCase().includes(i.toLowerCase())&&s.push(o);return s}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=gn({name:"filter",type:t,pure:!0}),t})();function ZJ(t,e){if(1&t&&(I(0,"li"),j(1),T()),2&t){const n=e.$implicit;F(1),Mr(n)}}function XJ(t,e){if(1&t&&(I(0,"ul"),Y(1,ZJ,2,1,"li",11),T()),2&t){const n=pe().$implicit;F(1),H("ngForOf",n.phones)}}function eZ(t,e){1&t&&j(0,"No Phones")}function tZ(t,e){if(1&t&&(Mf(0),I(1,"tr")(2,"th",12),j(3),T(),I(4,"td"),j(5),T(),I(6,"td"),j(7),T(),I(8,"td"),j(9),fo(10,"date"),T(),I(11,"td"),Y(12,XJ,2,1,"ul",13),Y(13,eZ,1,0,"ng-template",null,14,xr),T()(),xf()),2&t){const n=e.$implicit,r=e.index,i=Cn(14);F(3),Mr(r+1),F(2),Mr(n.name),F(2),Mr(n.email),F(2),Mr(CO(10,6,n.birthday,"dd/MM/YY")),F(3),H("ngIf",null==n.phones?null:n.phones.length)("ngIfElse",i)}}function nZ(t,e){if(1&t&&(I(0,"div")(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),j(5,"#"),T(),I(6,"th",10),j(7,"Name"),T(),I(8,"th",10),j(9,"Email"),T(),I(10,"th",10),j(11,"Birthday"),T(),I(12,"th",10),j(13,"Phones"),T()()(),I(14,"tbody"),Y(15,tZ,15,9,"ng-container",11),T()()()),2&t){const n=e.ngIf;F(15),H("ngForOf",n)}}let RF=(()=>{class t{constructor(n){this.contactService=n,this.contacts=[],this.prodName="",this.prodEmail="",this.contactFirstName="",this.contactListName=""}ngOnInit(){this.contactService.getAll().subscribe(n=>{this.contacts=n})}}return t.\u0275fac=function(n){return new(n||t)(b(ZQ))},t.\u0275cmp=Ht({type:t,selectors:[["app-contacts"]],decls:14,vars:11,consts:[[1,"content"],[1,"header"],[1,"cotainer","text-center"],[1,"title"],[1,"fa-solid","fa-address-card"],[1,"d-flex","mt-5"],["type","text","placeholder","Name",1,"form","control","w-25","m-1",3,"ngModel","ngModelChange"],["type","text","placeholder","Email",1,"form","control","w-25","m-1",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"table","table-hover","table-success"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[4,"ngIf","ngIfElse"],["noPhones",""]],template:function(n,r){1&n&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Ie(4,"i",4),j(5," Contacts Details "),T(),I(6,"small"),j(7,"Company's Contacts Information."),T()()(),I(8,"div",5)(9,"input",6),ne("ngModelChange",function(s){return r.prodName=s}),T(),I(10,"input",7),ne("ngModelChange",function(s){return r.prodEmail=s}),T()(),Y(11,nZ,16,1,"div",8),fo(12,"filter"),fo(13,"filter"),T()),2&n&&(F(9),H("ngModel",r.prodName),F(1),H("ngModel",r.prodEmail),F(1),H("ngIf",ml(12,3,ml(13,7,r.contacts,"name",r.prodName),"email",r.prodEmail)))},dependencies:[mo,Wi,Co,Hc,Nl,zk,JJ]}),t})();function PF(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){PF(s,r,i,o,a,"next",l)}function a(l){PF(s,r,i,o,a,"throw",l)}o(void 0)})}}const FF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw Error();r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Jp=function(t){return function(t){const e=FF(t);return xb.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class Zp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function VF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function Xp(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function BF(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function UF(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function No(){return"object"==typeof indexedDB}function Yc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function kb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vi.prototype.create)}}class vi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function hZ(t,e){return t.replace(fZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Fr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const fZ=/\{\$([^}]+)}/g;function tg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($F(s)&&$F(o)){if(!tg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $F(t){return null!==t&&"object"==typeof t}function Qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class mZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function _Z(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Rb),void 0===i.error&&(i.error=Rb),void 0===i.complete&&(i.complete=Rb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rb(){}function Fb(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function mr(t){return t&&t._delegate?t._delegate:t}class Sn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ao="[DEFAULT]";class EZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function TZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ao?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class IZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Lb=[];var be=(()=>{return(t=be||(be={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",be;var t})();const HF={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},SZ=be.INFO,NZ={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},AZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=NZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ml{constructor(e){this.name=e,this._logLevel=SZ,this._logHandler=AZ,this._userLogHandler=null,Lb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?HF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}let GF,WF;const zF=new WeakMap,Vb=new WeakMap,qF=new WeakMap,Bb=new WeakMap,Ub=new WeakMap;let jb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Vb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function LZ(t){return"function"==typeof t?function FZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function OZ(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($b(this),e),Ki(zF.get(this))}:function(...e){return Ki(t.apply($b(this),e))}:function(e,...n){const r=t.call($b(this),e,...n);return qF.set(r,e.sort?e.sort():[e]),Ki(r)}}(t):(t instanceof IDBTransaction&&function RZ(t){if(Vb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vb.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function xZ(){return GF||(GF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,jb):t)}function Ki(t){if(t instanceof IDBRequest)return function kZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zF.set(n,t)}).catch(()=>{}),Ub.set(e,t),e}(t);if(Bb.has(t))return Bb.get(t);const e=LZ(t);return e!==t&&(Bb.set(t,e),Ub.set(e,t)),e}const $b=t=>Ub.get(t);function ng(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ki(o.result),l.oldVersion,l.newVersion,Ki(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Hb(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ki(n).then(()=>{})}const VZ=["get","getKey","getAll","getAllKeys","count"],BZ=["put","add","delete","clear"],Gb=new Map;function KF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Gb.get(e))return Gb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!VZ.includes(n))return;const s=function(){var o=m(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Gb.set(e,s),s}!function PZ(t){jb=t(jb)}(t=>({...t,get:(e,n,r)=>KF(e,n)||t.get(e,n,r),has:(e,n)=>!!KF(e,n)||t.has(e,n)}));class UZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function jZ(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Wb="@firebase/app",Mo=new Ml("@firebase/app"),zb="[DEFAULT]",fX={[Wb]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xo=new Map,rg=new Map;function pX(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Un(t){const e=t.name;if(rg.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of xo.values())pX(n,t);return!0}function xl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const As=new vi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}const Ol="9.9.4";function _X(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:zb,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw As.create("bad-app-name",{appName:String(r)});const i=xo.get(r);if(i){if(tg(t,i.options)&&tg(n,i.config))return i;throw As.create("duplicate-app",{appName:r})}const s=new IZ(r);for(const a of rg.values())s.addComponent(a);const o=new mX(t,n,s);return xo.set(r,o),o}function qb(t=zb){const e=xo.get(t);if(!e)throw As.create("no-app",{appName:t});return e}function QF(){return Array.from(xo.values())}function dt(t,e,n){var r;let i=null!==(r=fX[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Mo.warn(a.join(" "))}Un(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Xc="firebase-heartbeat-store";let Yb=null;function JF(){return Yb||(Yb=ng("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xc)}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),Yb}function Qb(){return(Qb=m(function*(t){var e;try{return(yield JF()).transaction(Xc).objectStore(Xc).get(XF(t))}catch(n){if(n instanceof Fr)Mo.warn(n.message);else{const r=As.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});Mo.warn(r.message)}}})).apply(this,arguments)}function ZF(t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=m(function*(t,e){var n;try{const i=(yield JF()).transaction(Xc,"readwrite");return yield i.objectStore(Xc).put(e,XF(t)),i.done}catch(r){if(r instanceof Fr)Mo.warn(r.message);else{const i=As.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});Mo.warn(i.message)}}})).apply(this,arguments)}function XF(t){return`${t.name}!${t.options.appId}`}class EX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=eL(),{heartbeatsToSend:r,unsentEntries:i}=function CX(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Jp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function eL(){return(new Date).toISOString().substring(0,10)}class TX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!No()&&Yc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function bX(t){return Qb.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ZF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ZF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function tL(t){return Jp(JSON.stringify({version:2,heartbeats:t})).length}!function IX(t){Un(new Sn("platform-logger",e=>new UZ(e),"PRIVATE")),Un(new Sn("heartbeat",e=>new EX(e),"PRIVATE")),dt(Wb,"0.7.32",t),dt(Wb,"0.7.32","esm2017"),dt("fire-js","")}(""),dt("firebase","9.9.4","app");const nL="@firebase/installations",Zb="0.5.12",iL=`w:${Zb}`,sL="FIS_v2",Yi=new vi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oL(t){return t instanceof Fr&&t.code.includes("request-failed")}function Xb({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function aL(t){return{token:t.token,requestStatus:2,expiresIn:RX(t.expiresIn),creationTime:Date.now()}}function ew(t,e){return tw.apply(this,arguments)}function tw(){return(tw=m(function*(t,e){const r=(yield e.json()).error;return Yi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function lL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uL(t,{refreshToken:e}){const n=lL(t);return n.append("Authorization",function PX(t){return`${sL} ${t}`}(e)),n}function nw(t){return rw.apply(this,arguments)}function rw(){return(rw=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function RX(t){return Number(t.replace("s","000"))}function FX(t,e){return iw.apply(this,arguments)}function iw(){return(iw=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Xb(t),i=lL(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:sL,appId:t.appId,sdkVersion:iL})},l=yield nw(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:aL(u.authToken)}}throw yield ew("Create Installation",l)})).apply(this,arguments)}function cL(t){return new Promise(e=>{setTimeout(e,t)})}const VX=/^[cdef][\w-]{21}$/;function BX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function UX(t){return function LX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return VX.test(n)?n:""}catch{return""}}function kl(t){return`${t.appName}!${t.appId}`}const Rl=new Map;function dL(t,e){const n=kl(t);hL(n,e),function HX(t,e){const n=function fL(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=t=>{hL(t.data.key,t.data.fid)}),Oo}();n&&n.postMessage({key:t,fid:e}),function pL(){0===Rl.size&&Oo&&(Oo.close(),Oo=null)}()}(n,e)}function hL(t,e){const n=Rl.get(t);if(n)for(const r of n)r(e)}let Oo=null;const ko="firebase-installations-store";let ow=null;function aw(){return ow||(ow=ng("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ko)}})),ow}function ig(t,e){return lw.apply(this,arguments)}function lw(){return(lw=m(function*(t,e){const n=kl(t),i=(yield aw()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&dL(t,e.fid),e})).apply(this,arguments)}function uw(t){return cw.apply(this,arguments)}function cw(){return(cw=m(function*(t){const e=kl(t),r=(yield aw()).transaction(ko,"readwrite");yield r.objectStore(ko).delete(e),yield r.done})).apply(this,arguments)}function ed(t,e){return dw.apply(this,arguments)}function dw(){return(dw=m(function*(t,e){const n=kl(t),i=(yield aw()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&dL(t,a.fid),a})).apply(this,arguments)}function hw(t){return fw.apply(this,arguments)}function fw(){return(fw=m(function*(t){let e;const n=yield ed(t.appConfig,r=>{const i=zX(r),s=qX(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function zX(t){return mL(t||{fid:BX(),registrationStatus:0})}function qX(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Yi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function KX(t,e){return pw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:YX(t)}:{installationEntry:e}}function pw(){return(pw=m(function*(t,e){try{const n=yield FX(t,e);return ig(t.appConfig,n)}catch(n){throw oL(n)&&409===n.customData.serverCode?yield uw(t.appConfig):yield ig(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function YX(t){return gw.apply(this,arguments)}function gw(){return(gw=m(function*(t){let e=yield gL(t.appConfig);for(;1===e.registrationStatus;)yield cL(100),e=yield gL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield hw(t);return r||n}return e})).apply(this,arguments)}function gL(t){return ed(t,e=>{if(!e)throw Yi.create("installation-not-found");return mL(e)})}function mL(t){return function QX(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function JX(t,e){return mw.apply(this,arguments)}function mw(){return(mw=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=ZX(t,n),i=uL(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iL,appId:t.appId}})},l=yield nw(()=>fetch(r,a));if(l.ok)return aL(yield l.json());throw yield ew("Generate Auth Token",l)})).apply(this,arguments)}function ZX(t,{fid:e}){return`${Xb(t)}/${e}/authTokens:generate`}function _w(t){return yw.apply(this,arguments)}function yw(){return(yw=m(function*(t,e=!1){let n;const r=yield ed(t.appConfig,s=>{if(!yL(s))throw Yi.create("not-registered");const o=s.authToken;if(!e&&tee(o))return s;if(1===o.requestStatus)return n=XX(t,e),s;{if(!navigator.onLine)throw Yi.create("app-offline");const a=ree(s);return n=eee(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function XX(t,e){return vw.apply(this,arguments)}function vw(){return(vw=m(function*(t,e){let n=yield _L(t.appConfig);for(;1===n.authToken.requestStatus;)yield cL(100),n=yield _L(t.appConfig);const r=n.authToken;return 0===r.requestStatus?_w(t,e):r})).apply(this,arguments)}function _L(t){return ed(t,e=>{if(!yL(e))throw Yi.create("not-registered");return function iee(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function eee(t,e){return bw.apply(this,arguments)}function bw(){return(bw=m(function*(t,e){try{const n=yield JX(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ig(t.appConfig,r),n}catch(n){if(!oL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ig(t.appConfig,r)}else yield uw(t.appConfig);throw n}})).apply(this,arguments)}function yL(t){return void 0!==t&&2===t.registrationStatus}function tee(t){return 2===t.requestStatus&&!function nee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function ree(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ww(){return(ww=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield hw(e);return r?r.catch(console.error):_w(e).catch(console.error),n.fid})).apply(this,arguments)}function Dw(){return(Dw=m(function*(t,e=!1){const n=t;return yield aee(n),(yield _w(n,e)).token})).apply(this,arguments)}function aee(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*(t){const{registrationPromise:e}=yield hw(t);e&&(yield e)})).apply(this,arguments)}function Iw(t){return Yi.create("missing-app-config-values",{valueName:t})}const vL="installations",hee=t=>{const e=t.getProvider("app").getImmediate(),n=function cee(t){if(!t||!t.options)throw Iw("App Configuration");if(!t.name)throw Iw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:xl(e,"heartbeat"),_delete:()=>Promise.resolve()}},fee=t=>{const n=xl(t.getProvider("app").getImmediate(),vL).getImmediate();return{getId:()=>function see(t){return ww.apply(this,arguments)}(n),getToken:i=>function oee(t){return Dw.apply(this,arguments)}(n,i)}};(function pee(){Un(new Sn(vL,hee,"PUBLIC")),Un(new Sn("installations-internal",fee,"PRIVATE"))})(),dt(nL,Zb),dt(nL,Zb,"esm2017");const Sw="@firebase/remote-config",Zn=new vi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tee{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Iee(t=navigator){return t.languages&&t.languages[0]||t.language}class See{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:Iee()},h={method:"POST",headers:c,body:JSON.stringify(d)},f=fetch(u,h),p=new Promise((C,S)=>{e.signal.addEventListener(()=>{const x=new Error("The operation was aborted.");x.name="AbortError",S(x)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(C){let S="fetch-client-network";throw"AbortError"===(null===(r=C)||void 0===r?void 0:r.name)&&(S="fetch-timeout"),Zn.create(S,{originalErrorMessage:null===(i=C)||void 0===i?void 0:i.message})}let _=g.status;const v=g.headers.get("ETag")||void 0;let D,y;if(200===g.status){let C;try{C=yield g.json()}catch(S){throw Zn.create("fetch-client-parse",{originalErrorMessage:null===(s=S)||void 0===s?void 0:s.message})}D=C.entries,y=C.state}if("INSTANCE_STATE_UNSPECIFIED"===y?_=500:"NO_CHANGE"===y?_=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(D={}),304!==_&&200!==_)throw Zn.create("fetch-status",{httpStatus:_});return{status:_,eTag:v,config:D}})()}}class Mee{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function Nee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Aee(t){if(!(t instanceof Fr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Fb(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class kee{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function og(t,e){var n;const r=t.target.error||void 0;return Zn.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const Ro="app_namespace_store";class Lee{constructor(e,n,r,i=function Fee(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(og(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ro,{keyPath:"compositeKey"})}}catch(r){e(Zn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ro],"readonly").objectStore(Ro),u=n.createCompositeKey(e);try{const c=l.get(u);c.onerror=d=>{s(og(d,"storage-get"))},c.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(c){s(Zn.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const u=i.transaction([Ro],"readwrite").objectStore(Ro),c=r.createCompositeKey(e);try{const d=u.put({compositeKey:c,value:n});d.onerror=h=>{o(og(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(Zn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ro],"readwrite").objectStore(Ro),u=n.createCompositeKey(e);try{const c=l.delete(u);c.onerror=d=>{s(og(d,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Zn.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Vee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Uee(){return Ow.apply(this,arguments)}function Ow(){return(Ow=m(function*(){if(!No())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}!function Bee(){Un(new Sn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zn.create("registration-window");if(!No())throw Zn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Zn.create("registration-project-id");if(!o)throw Zn.create("registration-api-key");if(!a)throw Zn.create("registration-app-id");const l=new Lee(a,r.name,n=n||"firebase"),u=new Vee(l),c=new Ml(Sw);c.logLevel=be.ERROR;const d=new See(i,Ol,n,s,o,a),h=new Mee(d,l),f=new Tee(h,l,u,c),p=new kee(r,f,u,l,c);return function Dee(t){const e=mr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),dt(Sw,"0.3.11"),dt(Sw,"0.3.11","esm2017")}();const jee="/firebase-messaging-sw.js",$ee="/firebase-cloud-messaging-push-scope",EL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",CL="google.c.a.c_id",Gee="google.c.a.c_l",Wee="google.c.a.ts",zee="google.c.a.e";var Pl=(()=>{return(t=Pl||(Pl={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Pl;var t})();function Qi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qee(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const kw="fcm_token_details_db",TL="fcm_token_object_Store";function Yee(t){return Rw.apply(this,arguments)}function Rw(){return Rw=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(kw))return null;let e=null;return(yield ng(kw,5,{upgrade:(r=m(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(TL))return;const u=a.objectStore(TL),c=yield u.index("fcmSenderId").get(t);if(yield u.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Qi(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Qi(d.auth),p256dh:Qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Qi(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Qi(d.auth),p256dh:Qi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Qi(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield Hb(kw),yield Hb("fcm_vapid_details_db"),yield Hb("undefined"),Qee(e)?e:null;var r}),Rw.apply(this,arguments)}function Qee(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Po="firebase-messaging-store";let Pw=null;function Fw(){return Pw||(Pw=ng("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Po)}})),Pw}function IL(t){return Lw.apply(this,arguments)}function Lw(){return(Lw=m(function*(t){const e=jw(t),r=yield(yield Fw()).transaction(Po).objectStore(Po).get(e);if(r)return r;{const i=yield Yee(t.appConfig.senderId);if(i)return yield Vw(t,i),i}})).apply(this,arguments)}function Vw(t,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(t,e){const n=jw(t),i=(yield Fw()).transaction(Po,"readwrite");return yield i.objectStore(Po).put(e,n),yield i.done,e})).apply(this,arguments)}function Xee(t){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(t){const e=jw(t),r=(yield Fw()).transaction(Po,"readwrite");yield r.objectStore(Po).delete(e),yield r.done})).apply(this,arguments)}function jw({appConfig:t}){return t.appId}const on=new vi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tte(t,e){return $w.apply(this,arguments)}function $w(){return($w=m(function*(t,e){var n;const r=yield zw(t),i=NL(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Ww(t.appConfig),s)).json()}catch(a){throw on.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw on.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw on.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function nte(t,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(t,e){var n;const r=yield zw(t),i=NL(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Ww(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw on.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw on.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw on.create("token-update-no-token");return o.token})).apply(this,arguments)}function SL(t,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=m(function*(t,e){var n;const i={method:"DELETE",headers:yield zw(t)};try{const o=yield(yield fetch(`${Ww(t.appConfig)}/${e}`,i)).json();if(o.error)throw on.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw on.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function Ww({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function zw(t){return qw.apply(this,arguments)}function qw(){return(qw=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function NL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==EL&&(i.web.applicationPubKey=r),i}function ite(t){return Kw.apply(this,arguments)}function Kw(){return(Kw=m(function*(t){const e=yield ote(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Qi(e.getKey("auth")),p256dh:Qi(e.getKey("p256dh"))},r=yield IL(t.firebaseDependencies);if(r){if(ate(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?ste(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield SL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ML(t.firebaseDependencies,n)}return ML(t.firebaseDependencies,n)})).apply(this,arguments)}function AL(t){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(t){const e=yield IL(t.firebaseDependencies);e&&(yield SL(t.firebaseDependencies,e.token),yield Xee(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function ste(t,e){return Qw.apply(this,arguments)}function Qw(){return(Qw=m(function*(t,e){try{const n=yield nte(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Vw(t.firebaseDependencies,r),n}catch(n){throw yield AL(t),n}})).apply(this,arguments)}function ML(t,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(t,e){const r={token:yield tte(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Vw(t,r),r.token})).apply(this,arguments)}function ote(t,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qee(e)})})).apply(this,arguments)}function ate(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function xL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function lte(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function ute(t,e){!e.data||(t.data=e.data)}(e,t),function cte(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function dte(t){return"object"==typeof t&&!!t&&CL in t}function OL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Xw(t){return on.create("missing-app-config-values",{valueName:t})}OL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),OL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fte{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hte(t){if(!t||!t.options)throw Xw("App Configuration Object");if(!t.name)throw Xw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Xw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function kL(t){return e1.apply(this,arguments)}function e1(){return(e1=m(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(jee,{scope:$ee}),t.swRegistration.update().catch(()=>{})}catch(n){throw on.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function pte(t,e){return t1.apply(this,arguments)}function t1(){return(t1=m(function*(t,e){if(!e&&!t.swRegistration&&(yield kL(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function gte(t,e){return n1.apply(this,arguments)}function n1(){return(n1=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=EL)})).apply(this,arguments)}function r1(){return(r1=m(function*(t,e){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield gte(t,e?.vapidKey),yield pte(t,e?.serviceWorkerRegistration),ite(t)})).apply(this,arguments)}function mte(t,e,n){return i1.apply(this,arguments)}function i1(){return(i1=m(function*(t,e,n){const r=_te(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[CL],message_name:n[Gee],message_time:n[Wee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _te(t){switch(t){case Pl.NOTIFICATION_CLICKED:return"notification_open";case Pl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function s1(){return(s1=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Pl.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(xL(n)):t.onMessageHandler.next(xL(n)));const r=n.data;dte(r)&&"1"===r[zee]&&(yield mte(t,n.messageType,r))})).apply(this,arguments)}const PL="@firebase/messaging",vte=t=>{const e=new fte(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function yte(t,e){return s1.apply(this,arguments)}(e,n)),e},bte=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function RL(t,e){return r1.apply(this,arguments)}(e,r)}};function LL(){return o1.apply(this,arguments)}function o1(){return(o1=m(function*(){try{yield Yc()}catch{return!1}return typeof window<"u"&&No()&&kb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wte(){Un(new Sn("messaging",vte,"PUBLIC")),Un(new Sn("messaging-internal",bte,"PRIVATE")),dt(PL,"0.9.16"),dt(PL,"0.9.16","esm2017")}();const ag="analytics",Cte="firebase_id",Ste="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VL="https://www.googletagmanager.com/gtag/js",an=new Ml("@firebase/analytics");function BL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Nte(t,e){const n=document.createElement("script");n.src=`${VL}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Mte(t,e,n,r,i,s){return u1.apply(this,arguments)}function u1(){return(u1=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield BL(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){an.error(a)}t("config",i,s)})).apply(this,arguments)}function xte(t,e,n,r,i){return c1.apply(this,arguments)}function c1(){return(c1=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield BL(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){an.error(s)}})).apply(this,arguments)}function Rte(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(VL))return e;return null}const _r=new vi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),UL=new class Vte{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ute(t){return d1.apply(this,arguments)}function d1(){return(d1=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Bte(r)},s=Ste.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function jte(t){return h1.apply(this,arguments)}function h1(){return(h1=m(function*(t,e=UL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw _r.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw _r.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Gte;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),jL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function jL(t,e,n){return f1.apply(this,arguments)}function f1(){return(f1=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=UL){var s,o;const{appId:a,measurementId:l}=t;try{yield $te(r,e)}catch(u){if(l)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=u)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw u}try{const u=yield Ute(t);return i.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!Hte(c)){if(i.deleteThrottleMetadata(a),l)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw u}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Fb(n,i.intervalMillis,30):Fb(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),an.debug(`Calling attemptFetch again in ${d} millis`),jL(t,h,r,i)}})).apply(this,arguments)}function $te(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hte(t){if(!(t instanceof Fr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Gte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let p1,b1;function g1(){return(g1=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $L(t){b1=t}function HL(t){p1=t}function Qte(){return w1.apply(this,arguments)}function w1(){return(w1=m(function*(){var t;if(!No())return an.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Yc()}catch(e){return an.warn(_r.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function D1(){return(D1=m(function*(t,e,n,r,i,s,o){var a;const l=jte(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>an.error(f)),e.push(l);const u=Qte().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);Rte()||Nte(s,c.measurementId),b1&&(i("consent","default",b1),$L(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Cte]=d),i("config",c.measurementId,h),p1&&(i("set",p1),HL(void 0)),c.measurementId})).apply(this,arguments)}class Zte{constructor(e){this.app=e}_delete(){return delete Ji[this.app.options.appId],Promise.resolve()}}let Ji={},GL=[];const WL={};let qL,Zi,lg="dataLayer",E1=!1;function ene(t,e,n){!function Xte(){const t=[];if(Xp()&&t.push("This is a browser extension environment."),kb()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw _r.create("no-api-key");an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ji[r])throw _r.create("already-exists",{id:r});if(!E1){!function Ate(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(lg);const{wrappedGtag:s,gtagCore:o}=function kte(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Ote(t,e,n,r){function s(){return(s=m(function*(o,a,l){try{"event"===o?yield xte(t,e,n,a,l):"config"===o?yield Mte(t,e,n,r,a,l):"consent"===o?t("consent","update",l):t("set",a)}catch(u){an.error(u)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ji,GL,WL,lg,"gtag");Zi=s,qL=o,E1=!0}return Ji[r]=function Jte(t,e,n,r,i,s,o){return D1.apply(this,arguments)}(t,GL,WL,e,qL,lg,n),new Zte(t)}function nne(){return C1.apply(this,arguments)}function C1(){return(C1=m(function*(){if(Xp()||!kb()||!No())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}const KL="@firebase/analytics";!function ine(){Un(new Sn(ag,(e,{options:n})=>ene(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Un(new Sn("analytics-internal",function t(e){try{const n=e.getProvider(ag).getImmediate();return{logEvent:(r,i,s)=>function rne(t,e,n,r){t=mr(t),function Wte(t,e,n,r,i){return g1.apply(this,arguments)}(Zi,Ji[t.app.options.appId],e,n,r).catch(i=>an.error(i))}(n,r,i,s)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),dt(KL,"0.8.0"),dt(KL,"0.8.0","esm2017")}();class sne extends sr{constructor(e,n){super()}schedule(e,n=0){return this}}const ug={setInterval(t,e,...n){const{delegate:r}=ug;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ug;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class QL extends sne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return ug.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;ug.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ca(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const JL={now:()=>(JL.delegate||Date).now(),delegate:void 0};class td{constructor(e,n=td.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}td.now=JL.now;class ZL extends td{constructor(e,n=td.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const lne=new class ane extends ZL{}(class one extends QL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),T1=new ZL(QL),une=T1,cg=new Ka("7.4.1"),I1="__angularfire_symbol__analyticsIsSupportedValue",S1="__angularfire_symbol__analyticsIsSupported",N1="__angularfire_symbol__remoteConfigIsSupportedValue",A1="__angularfire_symbol__remoteConfigIsSupported",M1="__angularfire_symbol__messagingIsSupportedValue",x1="__angularfire_symbol__messagingIsSupported";function k1(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[S1]||(globalThis[S1]=nne().then(t=>globalThis[I1]=t).catch(()=>globalThis[I1]=!1)),globalThis[x1]||(globalThis[x1]=LL().then(t=>globalThis[M1]=t).catch(()=>globalThis[M1]=!1)),globalThis[A1]||(globalThis[A1]=Uee().then(t=>globalThis[N1]=t).catch(()=>globalThis[N1]=!1));const R1=(t,e)=>{const n=e?[e]:QF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Fl(){}class XL{constructor(e,n=lne){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class cne{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),n.pipe(Pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let P1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new XL(Zone.current)),this.insideAngular=n.run(()=>new XL(Zone.current,T1)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(Re))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function dne(t){return Fo().ngZone.runOutsideAngular(()=>t())}function Lo(t){return Fo().ngZone.run(()=>t())}function hne(t){return Fo(),function fne(t){return function(n){return(n=n.lift(new cne(t.ngZone))).pipe(Rh(t.outsideAngular),kh(t.insideAngular))}}(Fo())(t)}const pne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Lo(()=>t.apply(void 0,r))},yr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)))),r[s]=pne(r[s],n));const i=dne(()=>t.apply(this,r));if(!e){if(i instanceof xe){const s=Fo();return i.pipe(Rh(s.outsideAngular),kh(s.insideAngular))}return Lo(()=>i)}return i instanceof xe?i.pipe(hne):i instanceof Promise?Lo(()=>new Promise((s,o)=>i.then(a=>Lo(()=>s(a)),a=>Lo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Lo(()=>i)};class Ll{constructor(e){return e}}class F1{constructor(){return QF()}}const L1=new z("angularfire2._apps"),mne={provide:Ll,useFactory:function gne(t){return t&&1===t.length?t[0]:new Ll(qb())},deps:[[new wn,L1]]},_ne={provide:F1,deps:[[new wn,L1]]};function yne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ll(r)}}let vne=(()=>{class t{constructor(n){dt("angularfire",cg.full,"core"),dt("angularfire",cg.full,"app"),dt("angular",dA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(vc))},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({providers:[mne,_ne]}),t})();function bne(t,...e){return{ngModule:vne,providers:[{provide:L1,useFactory:yne(t),multi:!0,deps:[Re,Wt,P1,...e]}]}}const wne=yr(_X,!0),e2=new Map,Dne={activated:!1,tokenObservers:[]},Ene={initialized:!1,enabled:!1};function Kt(t){return e2.get(t)||Dne}function ei(t,e){e2.set(t,e)}function dg(){return Ene}class Nne{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Zp,yield function Ane(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Zp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const jn=new vi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function n2(t){if(!Kt(t).activated)throw jn.create("use-before-activation",{appName:t.name})}function U1(t,e){return j1.apply(this,arguments)}function j1(){return(j1=m(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,u;try{l=yield fetch(t,a)}catch(f){throw jn.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==l.status)throw jn.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(f){throw jn.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const c=u.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw jn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const d=1e3*Number(c[1]),h=Date.now();return{token:u.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function kne(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const nd="firebase-app-check-store";let pg=null;function s2(){return pg||(pg=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(jn.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nd,{keyPath:"compositeKey"})}}catch(r){e(jn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),pg)}function $1(){return($1=m(function*(t,e){const r=(yield s2()).transaction(nd,"readwrite"),s=r.objectStore(nd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(jn.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const rd=new Ml("@firebase/app-check");function u2(t,e){return No()?function Lne(t,e){return function o2(t,e){return $1.apply(this,arguments)}(function l2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{rd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function c2(){return dg().enabled}function d2(){return z1.apply(this,arguments)}function z1(){return(z1=m(function*(){const t=dg();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hne={error:"UNKNOWN_ERROR"};function Gne(t){return xb.encodeString(JSON.stringify(t),!1)}function gg(t){return q1.apply(this,arguments)}function q1(){return(q1=m(function*(t,e=!1){const n=t.app;n2(n);const r=Kt(n);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&mg(l)&&(i=l)}if(!e&&i&&mg(i))return{token:i.token};let a,o=!1;if(c2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=U1(kne(n,yield d2()),t.heartbeatServiceProvider).then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0);const l=yield r.exchangeTokenPromise;return yield u2(n,l),ei(n,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?rd.warn(l.message):rd.error(l),s=l}return i?(a={token:i.token},ei(n,Object.assign(Object.assign({},r),{token:i})),yield u2(n,i)):a=zne(s),o&&f2(n,a),a})).apply(this,arguments)}function Y1(t,e){const n=Kt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ei(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function h2(t){const{app:e}=t,n=Kt(e);let r=n.tokenRefresher;r||(r=function Wne(t){const{app:e}=t;return new Nne(m(function*(){let r;if(r=Kt(e).token?yield gg(t,!0):yield gg(t),r.error)throw r.error}),()=>!0,()=>{const n=Kt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),ei(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function f2(t,e){const n=Kt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function mg(t){return t.expireTimeMillis-Date.now()>0}function zne(t){return{token:Gne(Hne),error:t}}class qne{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Kt(this.app);for(const n of e)Y1(this.app,n.next);return Promise.resolve()}}const w2="app-check-internal";!function are(){Un(new Sn("app-check",t=>function Kne(t,e){return new qne(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(w2).initialize()})),Un(new Sn(w2,t=>function Yne(t){return{getToken:e=>gg(t,e),addTokenListener:e=>function K1(t,e,n,r){const{app:i}=t,s=Kt(i),o={next:n,error:r,type:e};if(ei(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&mg(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),h2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>h2(t))}(t,"INTERNAL",e),removeTokenListener:e=>Y1(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),dt("@firebase/app-check","0.5.12")}();class X1{constructor(){return R1("app-check")}}typeof window<"u"&&window;const hre=function E2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},C2=new vi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),T2=new Ml("@firebase/auth");function yg(t,...e){T2.logLevel<=be.ERROR&&T2.error(`Auth (9.9.4): ${t}`,...e)}function Xn(t,...e){throw tD(t,...e)}function vr(t,...e){return tD(t,...e)}function I2(t,e,n){const r=Object.assign(Object.assign({},hre()),{[e]:n});return new vi("auth","Firebase",r).create(e,{appName:t.name})}function Vl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Xn(t,"argument-error"),I2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C2.create(t,...e)}function O(t,e,...n){if(!t)throw tD(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yg(e),new Error(e)}function Xi(t,e){t||bi(e)}const S2=new Map;function es(t){Xi(t instanceof Function,"Expected a class definition");let e=S2.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S2.set(t,e),e)}function id(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function N2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=VF()||BF()}get(){return function gre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nD(){return"http:"===N2()||"https:"===N2()}()||Xp()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rD(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class A2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yre=new sd(3e4,6e4);function Ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yt(t,e,n,r){return iD.apply(this,arguments)}function iD(){return(iD=m(function*(t,e,n,r,i={}){return M2(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Qc(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),A2.fetch()(x2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function M2(t,e,n){return sD.apply(this,arguments)}function sD(){return(sD=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_re),e);try{const i=new vre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw od(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw od(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw od(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw od(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw I2(t,c,u);Xn(t,c)}}catch(i){if(i instanceof Fr)throw i;Xn(t,"network-request-failed")}})).apply(this,arguments)}function ts(t,e,n,r){return oD.apply(this,arguments)}function oD(){return(oD=m(function*(t,e,n,r,i={}){const s=yield Yt(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function x2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rD(t.config,i):`${t.config.apiScheme}://${i}`}class vre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),yre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}function aD(){return(aD=m(function*(t,e){return Yt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Dre(t,e){return uD.apply(this,arguments)}function uD(){return(uD=m(function*(t,e){return Yt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ad(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cD(){return(cD=m(function*(t,e=!1){const n=mr(t),r=yield n.getIdToken(e),i=vg(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ad(dD(i.auth_time)),issuedAtTime:ad(dD(i.iat)),expirationTime:ad(dD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function dD(t){return 1e3*Number(t)}function vg(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return yg("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(t){try{return xb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):(yg("Failed to decode base64 JWT payload"),null)}catch(s){return yg("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ns(t,e){return hD.apply(this,arguments)}function hD(){return(hD=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fr&&Tre(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function Tre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Ire{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class O2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ad(this.lastLoginAt),this.creationTime=ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ld(t){return fD.apply(this,arguments)}function fD(){return(fD=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ns(t,Dre(n,{idToken:r}));O(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Are(s.providerUserInfo):[],a=Nre(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new O2(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function pD(){return(pD=m(function*(t){const e=mr(t);yield ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Nre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Are(t){return t.map(e=>{var{providerId:n}=e,r=b_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function gD(){return(gD=m(function*(t,e){const n=yield M2(t,{},m(function*(){const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=x2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ud{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cre(t){const e=vg(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Mre(t,e){return gD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ud;return r&&(O("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(O("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ud,this.toJSON())}_performRefresh(){return bi("not implemented")}}function Ms(t,e){O("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Vo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ire(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new O2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ns(n,n.stsTokenManager.getToken(n.auth,e));return O(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ere(t){return cD.apply(this,arguments)}(this,e)}reload(){return function Sre(t){return pD.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ld(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ns(e,function bre(t,e){return aD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,D=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:C,isAnonymous:S,providerData:x,stsTokenManager:K}=n;O(y&&K,e,"internal-error");const ge=ud.fromJSON(this.name,K);O("string"==typeof y,e,"internal-error"),Ms(d,e.name),Ms(h,e.name),O("boolean"==typeof C,e,"internal-error"),O("boolean"==typeof S,e,"internal-error"),Ms(f,e.name),Ms(p,e.name),Ms(g,e.name),Ms(_,e.name),Ms(v,e.name),Ms(D,e.name);const je=new Vo({uid:y,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ge,createdAt:v,lastLoginAt:D});return x&&Array.isArray(x)&&(je.providerData=x.map(Ke=>Object.assign({},Ke))),_&&(je._redirectEventId=_),je}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new ud;i.updateFromServerResponse(n);const s=new Vo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ld(s),s})()}}const k2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function bg(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bg(this.userKey,i.apiKey,s),this.fullPersistenceKey=bg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Vo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Bl(es(k2),e,r);const i=(yield Promise.all(n.map(function(){var u=m(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||es(k2);const o=bg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(o);if(c){const d=Vo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=m(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new Bl(s,e,r)):new Bl(s,e,r)})()}}function R2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B2(e))return"Blackberry";if(U2(e))return"Webos";if(mD(e))return"Safari";if((e.includes("chrome/")||F2(e))&&!e.includes("edge/"))return"Chrome";if(V2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function P2(t=qt()){return/firefox\//i.test(t)}function mD(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F2(t=qt()){return/crios\//i.test(t)}function L2(t=qt()){return/iemobile/i.test(t)}function V2(t=qt()){return/android/i.test(t)}function B2(t=qt()){return/blackberry/i.test(t)}function U2(t=qt()){return/webos/i.test(t)}function wg(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j2(t=qt()){return wg(t)||V2(t)||U2(t)||B2(t)||/windows phone/i.test(t)||L2(t)}function $2(t,e=[]){let n;switch(t){case"Browser":n=R2(qt());break;case"Worker":n=`${R2(qt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.9.4/${e.length?e.join(","):"FirebaseCore-web"}`}class Rre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class Pre{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H2(this),this.idTokenSubscription=new H2(this),this.beforeStateQueue=new Rre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Bl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return O(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){var r;try{yield ld(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?mr(e):null;return r&&O(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(es(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&es(e)||n._popupRedirectResolver;O(r,n,"argument-error"),n.redirectPersistenceManager=yield Bl.create(n,[es(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return O(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function er(t){return mr(t)}class H2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function gZ(t,e){const n=new mZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class _D{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}function vD(){return(vD=m(function*(t,e){return Yt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function wD(){return(wD=m(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithPassword",Ft(t,e))})).apply(this,arguments)}function SD(){return(SD=m(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))})).apply(this,arguments)}function ND(){return(ND=m(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))})).apply(this,arguments)}class cd extends _D{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){switch(n.signInMethod){case"password":return function Bre(t,e){return wD.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function Gre(t,e){return SD.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Xn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return function q2(t,e){return vD.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Wre(t,e){return ND.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Xn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function rs(t,e){return AD.apply(this,arguments)}function AD(){return(AD=m(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithIdp",Ft(t,e))})).apply(this,arguments)}class Ul extends _D{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ul(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return rs(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rs(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qc(n)}return e}}class hd{constructor(e){var n,r,i,s,o,a;const l=Jc(Zc(e)),u=null!==(n=l.apiKey)&&void 0!==n?n:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function Zre(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);O(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Xre(t){const e=Jc(Zc(t)).link,n=e?Jc(Zc(e)).deep_link_id:null,r=Jc(Zc(t)).deep_link_id;return(r?Jc(Zc(r)).link:null)||r||n||e||t}(e);try{return new hd(n)}catch{return null}}}let K2=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return cd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=hd.parseLink(r);return O(i,"argument-error"),cd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Y2 extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let eie=(()=>{class t extends Y2{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ul._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function Q2(t,e){return PD.apply(this,arguments)}function PD(){return(PD=m(function*(t,e){return ts(t,"POST","/v1/accounts:signUp",Ft(t,e))})).apply(this,arguments)}class Lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield Vo._fromIdTokenResponse(e,r,i),o=J2(r);return new Lr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=J2(r);return new Lr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function J2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Cg extends Fr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cg(e,n,r,i)}}function Z2(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Cg._fromErrorAndOperation(t,s,e,r):s})}function VD(t,e){return BD.apply(this,arguments)}function BD(){return(BD=m(function*(t,e,n=!1){const r=yield ns(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Lr._forOperation(t,"link",r)})).apply(this,arguments)}function jD(){return(jD=m(function*(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=yield ns(t,Z2(i,s,e,t),n);O(o.idToken,i,"internal-error");const a=vg(o.idToken);O(a,i,"internal-error");const{sub:l}=a;return O(t.uid===l,i,"user-mismatch"),Lr._forOperation(t,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Xn(i,"user-mismatch"),o}})).apply(this,arguments)}function tV(t,e){return $D.apply(this,arguments)}function $D(){return($D=m(function*(t,e,n=!1){const r="signIn",i=yield Z2(t,r,e),s=yield Lr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function GD(){return(GD=m(function*(t,e){return tV(er(t),e)})).apply(this,arguments)}function aie(t,e,n){return nE.apply(this,arguments)}function nE(){return(nE=m(function*(t,e,n){const r=er(t),i=yield Q2(r,{returnSecureToken:!0,email:e,password:n}),s=yield Lr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function lie(t,e,n){return function HD(t,e){return GD.apply(this,arguments)}(mr(t),K2.credential(e,n))}const Sg="__sak";class rV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Die=(()=>{class t extends rV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vie(){const t=qt();return mD(t)||wg(t)}()&&function kre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=j2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Ore(){return UF()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),iV=(()=>{class t extends rV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Cie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function Eie(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Tie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=Ng("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Lt(){return window}function _E(){return typeof Lt().WorkerGlobalScope<"u"&&"function"==typeof Lt().importScripts}function yE(){return(yE=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sV="firebaseLocalStorageDb",Ag="firebaseLocalStorage",oV="fbase_key";class pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mg(t,e){return t.transaction([Ag],e?"readwrite":"readonly").objectStore(Ag)}function vE(){const t=indexedDB.open(sV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ag,{keyPath:oV})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(Ag)?e(r):(r.close(),yield function xie(){const t=indexedDB.deleteDatabase(sV);return new pd(t).toPromise()}(),e(yield vE()))}))})}function aV(t,e,n){return bE.apply(this,arguments)}function bE(){return(bE=m(function*(t,e,n){const r=Mg(t,!0).put({[oV]:e,value:n});return new pd(r).toPromise()})).apply(this,arguments)}function wE(){return(wE=m(function*(t,e){const n=Mg(t,!1).get(e),r=yield new pd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function lV(t,e){const n=Mg(t,!0).delete(e);return new pd(n).toPromise()}const Pie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield vE()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return _E()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=Cie._getInstance(function Aie(){return _E()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function Sie(){return yE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Tie(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Nie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield vE();return yield aV(n,Sg,"1"),yield lV(n,Sg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>aV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Oie(t,e){return wE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>lV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=Mg(o,!1).getAll();return new pd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function cV(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Uo(t,e){return e?es(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}cV("rcb"),new sd(3e4,6e4);class xE extends _D{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zie(t){return tV(t.auth,new xE(t),t.bypassAuthState)}function Xie(t){const{auth:e,user:n}=t;return O(n,e,"internal-error"),function eV(t,e){return jD.apply(this,arguments)}(n,new xE(t),t.bypassAuthState)}function ese(t){return OE.apply(this,arguments)}function OE(){return(OE=m(function*(t){const{auth:e,user:n}=t;return O(n,e,"internal-error"),VD(n,new xE(t),t.bypassAuthState)})).apply(this,arguments)}class hV{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zie;case"linkViaPopup":case"linkViaRedirect":return ese;case"reauthViaPopup":case"reauthViaRedirect":return Xie;default:Xn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tse=new sd(2e3,1e4);function nse(t,e,n){return kE.apply(this,arguments)}function kE(){return(kE=m(function*(t,e,n){const r=er(t);Vl(t,e,xs);const i=Uo(r,n);return new FE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let FE=(()=>{class t extends hV{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return O(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){Xi(1===n.filter.length,"Popup operations only handle one event");const r=Ng();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(vr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,tse.get())};n()}}return t.currentPopupAction=null,t})();const gd=new Map;class ise extends hV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=gd.get(n.auth._key());if(!r){try{const s=(yield function sse(t,e){return LE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}gd.set(n.auth._key(),r)}return n.bypassAuthState||gd.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function LE(){return(LE=m(function*(t,e){const n=pV(e),r=fV(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function ose(t,e){gd.set(t._key(),e)}function fV(t){return es(t._redirectPersistence)}function pV(t){return bg("pendingRedirect",t.config.apiKey,t.name)}function gV(t,e){return GE.apply(this,arguments)}function GE(){return(GE=m(function*(t,e,n=!1){const r=er(t),i=Uo(r,e),o=yield new ise(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class dse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_V(e))}saveEventToCache(e){this.cachedEventUids.add(_V(e)),this.lastProcessedEventTime=Date.now()}}function _V(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function fse(t){return zE.apply(this,arguments)}function zE(){return(zE=m(function*(t,e={}){return Yt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const pse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gse=/^https?/;function qE(){return(qE=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield fse(t);for(const n of e)try{if(_se(n))return}catch{}Xn(t,"unauthorized-domain")})).apply(this,arguments)}function _se(t){const e=id(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!gse.test(n))return!1;if(pse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yse=new sd(3e4,6e4);function vV(){const t=Lt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Og=null;function bse(t){return Og=Og||function vse(t){return new Promise((e,n)=>{var r,i,s;function o(){vV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vV(),n(vr(t,"network-request-failed"))},timeout:yse.get()})}if(null!==(i=null===(r=Lt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Lt().gapi)||void 0===s||!s.load){const a=cV("iframefcb");return Lt()[a]=()=>{gapi.load?o():n(vr(t,"network-request-failed"))},function uV(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Bie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw Og=null,e})}(t),Og}const wse=new sd(5e3,15e3),Cse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ise(t){const e=t.config;O(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rD(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Ol},i=Tse.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qc(r).slice(1)}`}function KE(){return KE=m(function*(t){const e=yield bse(t),n=Lt().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:Ise(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cse,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=vr(t,"network-request-failed"),l=Lt().setTimeout(()=>{o(a)},wse.get());function u(){Lt().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),KE.apply(this,arguments)}const Nse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wV(t,e,n,r,i,s){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ol,eventId:i};if(e instanceof xs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function pZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Y2){const l=e.getScopes().filter(u=>""!==u);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function Lse({config:t}){return t.emulator?rD(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Qc(a).slice(1)}`}const YE="webStorageSupport",Bse=class Vse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iV,this._completeRedirectFn=gV,this._overrideRedirectResult=ose}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;Xi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=wV(e,n,r,id(),i);return function kse(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Nse),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qt().toLowerCase();n&&(a=F2(u)?"_blank":n),P2(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function xre(t=qt()){var e;return wg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Rse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new bV(null);const d=window.open(e||"",a,c);O(d,t,"popup-blocked");try{d.focus()}catch{}return new bV(d)}(e,a,Ng())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function Iie(t){Lt().location.href=t}(wV(e,n,r,id(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Sse(t){return KE.apply(this,arguments)}(e),i=new dse(e);return r.register("authEvent",s=>(O(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(YE,{type:YE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[YE];void 0!==o&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function mse(t){return qE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j2()||mD()||wg()}};var EV="@firebase/auth";class Use{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Hse(t=qb()){const e=xl(t,"auth");return e.isInitialized()?e.getImmediate():function fre(t,e){const n=xl(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(tg(n.getOptions(),e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Bse,persistence:[Pie,Die,iV]})}!function $se(t){Un(new Sn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{O(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),O(!o?.includes(":"),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$2(t)},c=new Pre(a,l,u);return function pre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(es);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Un(new Sn("auth-internal",e=>{const n=er(e.getProvider("auth").getImmediate());return new Use(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(EV,"0.20.6",function jse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),dt(EV,"0.20.6","esm2017")}("Browser");class kg{constructor(e){return e}}class IV{constructor(){return R1("auth")}}const QE=new z("angularfire2.auth-instances");function Wse(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kg(r)}}const zse={provide:IV,deps:[[new wn,QE]]},qse={provide:kg,useFactory:function Gse(t,e){const n=k1("auth",t,e);return n&&new kg(n)},deps:[[new wn,QE],Ll]};let Kse=(()=>{class t{constructor(){dt("angularfire",cg.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({providers:[qse,zse]}),t})();function Yse(t,...e){return{ngModule:Kse,providers:[{provide:QE,useFactory:Wse(t),multi:!0,deps:[Re,Wt,P1,F1,[new wn,X1],...e]}]}}const Qse=yr(aie,!0),Jse=yr(Hse,!0),Zse=yr(lie,!0),Xse=yr(nse,!0);var $,eoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},is={},JE=JE||{},se=eoe||self;function Rg(){}function ZE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function md(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var XE="closure_uid_"+(1e9*Math.random()>>>0),noe=0;function roe(t,e,n){return t.call.apply(t.bind,arguments)}function ioe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ln(t,e,n){return(ln=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?roe:ioe).apply(null,arguments)}function Pg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function un(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Os(){this.s=this.s,this.o=this.o}var ooe={};Os.prototype.s=!1,Os.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function toe(t){return Object.prototype.hasOwnProperty.call(t,XE)&&t[XE]||(t[XE]=++noe)}(this);delete ooe[t]}},Os.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},NV=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function AV(t){return Array.prototype.concat.apply([],arguments)}function eC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fg(t){return/^[\s\xa0]*$/.test(t)}var Hn,MV=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $n(t,e){return-1!=t.indexOf(e)}function tC(t,e){return t<e?-1:t>e?1:0}e:{var xV=se.navigator;if(xV){var OV=xV.userAgent;if(OV){Hn=OV;break e}}Hn=""}function nC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function kV(t){const e={};for(const n in t)e[n]=t[n];return e}var RV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<RV.length;s++)n=RV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rC(t){return rC[" "](t),t}rC[" "]=Rg;var Lg,t,uoe=$n(Hn,"Opera"),jl=$n(Hn,"Trident")||$n(Hn,"MSIE"),FV=$n(Hn,"Edge"),iC=FV||jl,LV=$n(Hn,"Gecko")&&!($n(Hn.toLowerCase(),"webkit")&&!$n(Hn,"Edge"))&&!($n(Hn,"Trident")||$n(Hn,"MSIE"))&&!$n(Hn,"Edge"),coe=$n(Hn.toLowerCase(),"webkit")&&!$n(Hn,"Edge");function VV(){var t=se.document;return t?t.documentMode:void 0}e:{var sC="",oC=(t=Hn,LV?/rv:([^\);]+)(\)|;)/.exec(t):FV?/Edge\/([\d\.]+)/.exec(t):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):coe?/WebKit\/(\S+)/.exec(t):uoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(oC&&(sC=oC?oC[1]:""),jl){var aC=VV();if(null!=aC&&aC>parseFloat(sC)){Lg=String(aC);break e}}Lg=sC}var doe={};var foe=se.document&&jl&&(VV()||parseInt(Lg,10))||void 0,poe=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",Rg,e),se.removeEventListener("test",Rg,e)}catch{}return t}();function Nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function _d(t,e){if(Nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LV){e:{try{rC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:goe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_d.Z.h.call(this)}}Nn.prototype.h=function(){this.defaultPrevented=!0},un(_d,Nn);var goe={2:"touch",3:"pen",4:"mouse"};_d.prototype.h=function(){_d.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yd="closure_listenable_"+(1e6*Math.random()|0),moe=0;function _oe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++moe,this.ca=this.fa=!1}function Vg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Bg(t){this.src=t,this.g={},this.h=0}function uC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=SV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function cC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Bg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=cC(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new _oe(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var dC="closure_lm_"+(1e6*Math.random()|0),hC={};function UV(t,e,n,r,i){if(r&&r.once)return $V(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UV(t,e[s],n,r,i);return null}return n=mC(n),t&&t[yd]?t.N(e,n,md(r)?!!r.capture:!!r,i):jV(t,e,n,!1,r,i)}function jV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=md(i)?!!i.capture:!!i,a=pC(t);if(a||(t[dC]=a=new Bg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function yoe(){var e=voe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)poe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GV(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $V(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$V(t,e[s],n,r,i);return null}return n=mC(n),t&&t[yd]?t.O(e,n,md(r)?!!r.capture:!!r,i):jV(t,e,n,!0,r,i)}function HV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)HV(t,e[s],n,r,i);else r=md(r)?!!r.capture:!!r,n=mC(n),t&&t[yd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=cC(s=t.g[e],n,r,i))&&(Vg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=pC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=cC(e,n,r,i)),(n=-1<t?e[t]:null)&&fC(n))}function fC(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[yd])uC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pC(e))?(uC(n,t),0==n.h&&(n.src=null,e[dC]=null)):Vg(t)}}}function GV(t){return t in hC?hC[t]:hC[t]="on"+t}function voe(t,e){if(t.ca)t=!0;else{e=new _d(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&fC(t),t=n.call(r,e)}return t}function pC(t){return(t=t[dC])instanceof Bg?t:null}var gC="__closure_events_fn_"+(1e9*Math.random()>>>0);function mC(t){return"function"==typeof t?t:(t[gC]||(t[gC]=function(e){return t.handleEvent(e)}),t[gC])}function Qt(){Os.call(this),this.i=new Bg(this),this.P=this,this.I=null}function cn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Nn(e,t);else if(e instanceof Nn)e.target=e.target||t;else{var i=e;PV(e=new Nn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ug(o,r,!0,e)&&i}if(i=Ug(o=e.g=t,r,!0,e)&&i,i=Ug(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ug(o=e.g=n[s],r,!1,e)&&i}function Ug(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&uC(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}un(Qt,Os),Qt.prototype[yd]=!0,Qt.prototype.removeEventListener=function(t,e,n,r){HV(this,t,e,n,r)},Qt.prototype.M=function(){if(Qt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vg(n[r]);delete t.g[e],t.h--}}this.I=null},Qt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Qt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _C=se.JSON.stringify;function boe(){var t=zV;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var vC,WV=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Doe,t=>t.reset());class Doe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Eoe(t){se.setTimeout(()=>{throw t},0)}function yC(t,e){vC||function Coe(){var t=se.Promise.resolve(void 0);vC=function(){t.then(Toe)}}(),bC||(vC(),bC=!0),zV.add(t,e)}var bC=!1,zV=new class woe{constructor(){this.h=this.g=null}add(e,n){const r=WV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Toe(){for(var t;t=boe();){try{t.h.call(t.g)}catch(n){Eoe(n)}var e=WV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bC=!1}function jg(t,e){Qt.call(this),this.h=t||1,this.g=e||se,this.j=ln(this.kb,this),this.l=Date.now()}function wC(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function DC(t,e,n){if("function"==typeof t)n&&(t=ln(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ln(t.handleEvent,t)}return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function qV(t){t.g=DC(()=>{t.g=null,t.i&&(t.i=!1,qV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}un(jg,Qt),($=jg.prototype).da=!1,$.S=null,$.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cn(this,"tick"),this.da&&(wC(this),this.start()))}},$.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$.M=function(){jg.Z.M.call(this),wC(this),delete this.g};class Ioe extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qV(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(t){Os.call(this),this.h=t,this.g={}}un(vd,Os);var KV=[];function YV(t,e,n,r){Array.isArray(n)||(n&&(KV[0]=n.toString()),n=KV);for(var i=0;i<n.length;i++){var s=UV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function QV(t){nC(t.g,function(e,n){this.g.hasOwnProperty(n)&&fC(e)},t),t.g={}}function $g(){this.g=!0}function $l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Moe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _C(n)}catch{return e}}(t,n)+(r?" "+r:"")})}vd.prototype.M=function(){vd.Z.M.call(this),QV(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$g.prototype.Aa=function(){this.g=!1},$g.prototype.info=function(){};var jo={},JV=null;function Hg(){return JV=JV||new Qt}function ZV(t){Nn.call(this,jo.Ma,t)}function bd(t){const e=Hg();cn(e,new ZV(e,t))}function XV(t,e){Nn.call(this,jo.STAT_EVENT,t),this.stat=e}function Gn(t){const e=Hg();cn(e,new XV(e,t))}function eB(t,e){Nn.call(this,jo.Na,t),this.size=e}function wd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}jo.Ma="serverreachability",un(ZV,Nn),jo.STAT_EVENT="statevent",un(XV,Nn),jo.Na="timingevent",un(eB,Nn);var Gg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tB={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function EC(){}function rB(){}EC.prototype.h=null;var IC,Dd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function CC(){Nn.call(this,"d")}function TC(){Nn.call(this,"c")}function Wg(){}function Ed(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new vd(this),this.P=xoe,this.W=new jg(t=iC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iB}function iB(){this.i=null,this.g="",this.h=!1}un(CC,Nn),un(TC,Nn),un(Wg,EC),Wg.prototype.g=function(){return new XMLHttpRequest},Wg.prototype.i=function(){return{}},IC=new Wg;var xoe=45e3,SC={},zg={};function NC(t,e,n){t.K=1,t.v=Jg(ss(e)),t.s=n,t.U=!0,sB(t,null)}function sB(t,e){t.F=Date.now(),Cd(t),t.A=ss(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),pB(n.h,"t",r),t.C=0,n=t.l.H,t.h=new iB,t.g=LB(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ioe(ln(t.Ia,t,t.g),t.O)),YV(t.V,t.g,"readystatechange",t.gb),e=t.H?kV(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),bd(1),function Soe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function oB(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function aB(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Ooe(t,n),i==zg){4==e&&(t.o=4,Gn(14),r=!1),$l(t.j,t.m,null,"[Incomplete Response]");break}if(i==SC){t.o=4,Gn(15),$l(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}$l(t.j,t.m,i,null),AC(t,i)}oB(t)&&i!=zg&&i!=SC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),UC(e),e.L=!0,Gn(11))):($l(t.j,t.m,n,"[Invalid Chunked Response]"),$o(t),Td(t))}function Ooe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?zg:(n=Number(e.substring(n,r)),isNaN(n)?SC:(r+=1)+n>e.length?zg:(e=e.substr(r,n),t.C=r+n,e))}function Cd(t){t.Y=Date.now()+t.P,lB(t,t.P)}function lB(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wd(ln(t.eb,t),e)}function qg(t){t.B&&(se.clearTimeout(t.B),t.B=null)}function Td(t){0==t.l.G||t.I||kB(t.l,t)}function $o(t){qg(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,wC(t.W),QV(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function AC(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||OC(n.i,t)))if(n.I=t.N,!t.J&&OC(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;rm(n),tm(n)}BC(n),Gn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wd(ln(n.ab,n),6e3));if(1>=_B(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Wo(n,11)}else if((t.J||n.g==t)&&rm(n),!Fg(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const c=u[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=u[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&($n(p,"spdy")||$n(p,"quic")||$n(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(kC(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Je(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=FB(r,r.H?r.la:null,r.W),o.J){yB(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(qg(a),Cd(a)),r.g=o}else xB(r);0<n.l.length&&nm(n)}else"stop"!=u[0]&&"close"!=u[0]||Wo(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Wo(n,7):LC(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}bd(4)}catch{}}function MC(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ZE(t)||"string"==typeof t)NV(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ZE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function koe(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ZE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Hl(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Hl)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xC(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ho(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ho(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ho(t,e){return Object.prototype.hasOwnProperty.call(t,e)}($=Ed.prototype).setTimeout=function(t){this.P=t},$.gb=function(t){t=t.target;const e=this.L;e&&3==os(t)?e.l():this.Ia(t)},$.Ia=function(t){try{if(t==this.g)e:{const c=os(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||iC||this.g&&(this.h.h||this.g.ga()||IB(this.g)))){this.I||4!=c||7==e||bd(8==e||0>=d?3:2),qg(this);var n=this.g.ba();this.N=n;t:if(oB(this)){var r=IB(this.g);t="";var i=r.length,s=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),Td(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function Noe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fg(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Gn(12),$o(this),Td(this);break e}$l(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AC(this,n)}this.U?(aB(this,c,o),iC&&this.i&&3==c&&(YV(this.V,this.W,"tick",this.fb),this.W.start())):($l(this.j,this.m,o,null),AC(this,o)),4==c&&$o(this),this.i&&!this.I&&(4==c?kB(this.l,this):(this.i=!1,Cd(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),$o(this),Td(this)}}}catch{}},$.fb=function(){if(this.g){var t=os(this.g),e=this.g.ga();this.C<e.length&&(qg(this),aB(this,t,e),this.i&&4!=t&&Cd(this))}},$.cancel=function(){this.I=!0,$o(this)},$.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Aoe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bd(3),Gn(17)),$o(this),this.o=2,Td(this)):lB(this,this.Y-t)},($=Hl.prototype).R=function(){xC(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},$.T=function(){return xC(this),this.g.concat()},$.get=function(t,e){return Ho(this.h,t)?this.h[t]:e},$.set=function(t,e){Ho(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},$.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var uB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Go(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Go){this.g=void 0!==e?e:t.g,Kg(this,t.j),this.s=t.s,Yg(this,t.i),Qg(this,t.m),this.l=t.l,e=t.h;var n=new Nd;n.i=e.i,e.g&&(n.g=new Hl(e.g),n.h=e.h),cB(this,n),this.o=t.o}else t&&(n=String(t).match(uB))?(this.g=!!e,Kg(this,n[1]||"",!0),this.s=Id(n[2]||""),Yg(this,n[3]||"",!0),Qg(this,n[4]),this.l=Id(n[5]||"",!0),cB(this,n[6]||"",!0),this.o=Id(n[7]||"")):(this.g=!!e,this.h=new Nd(null,this.g))}function ss(t){return new Go(t)}function Kg(t,e,n){t.j=n?Id(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yg(t,e,n){t.i=n?Id(e,!0):e}function Qg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cB(t,e,n){e instanceof Nd?(t.h=e,function $oe(t,e){e&&!t.j&&(ks(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hB(this,r),pB(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Sd(e,Uoe)),t.h=new Nd(e,t.g))}function Je(t,e,n){t.h.set(e,n)}function Jg(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Loe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Loe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Go.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sd(e,dB,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Sd(e,dB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sd(n,"/"==n.charAt(0)?Boe:Voe,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sd(n,joe)),t.join("")};var dB=/[#\/\?@]/g,Voe=/[#\?:]/g,Boe=/[#\?]/g,Uoe=/[#\?@]/g,joe=/#/g;function Nd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ks(t){t.g||(t.g=new Hl,t.h=0,t.i&&function Roe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hB(t,e){ks(t),e=Gl(t,e),Ho(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ho((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&xC(t)))}function fB(t,e){return ks(t),e=Gl(t,e),Ho(t.g.h,e)}function pB(t,e,n){hB(t,e),0<n.length&&(t.i=null,t.g.set(Gl(t,e),eC(n)),t.h+=n.length)}function Gl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function gB(t){this.l=t||Goe,t=se.PerformanceNavigationTiming?0<(t=se.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($=Nd.prototype).add=function(t,e){ks(this),this.i=null,t=Gl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},$.forEach=function(t,e){ks(this),this.g.forEach(function(n,r){NV(n,function(i){t.call(e,i,r,this)},this)},this)},$.T=function(){ks(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},$.R=function(t){ks(this);var e=[];if("string"==typeof t)fB(this,t)&&(e=AV(e,this.g.get(Gl(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=AV(e,t[n])}return e},$.set=function(t,e){return ks(this),this.i=null,fB(this,t=Gl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},$.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},$.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Goe=10;function mB(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _B(t){return t.h?1:t.g?t.g.size:0}function OC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function kC(t,e){t.g?t.g.add(e):t.h=e}function yB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vB(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return eC(t.i)}function RC(){}function Woe(){this.g=new RC}function zoe(t,e,n){const r=n||"";try{MC(t,function(i,s){let o=i;md(i)&&(o=_C(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ad(t){this.l=t.$b||null,this.j=t.ib||!1}function Xg(t,e){Qt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=PC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gB.prototype.cancel=function(){if(this.i=vB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},RC.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)},RC.prototype.parse=function(t){return se.JSON.parse(t,void 0)},un(Ad,EC),Ad.prototype.g=function(){return new Xg(this.l,this.j)},Ad.prototype.i=function(t){return function(){return t}}({}),un(Xg,Qt);var PC=0;function bB(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Md(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xd(t)}function xd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}($=Xg.prototype).open=function(t,e){if(this.readyState!=PC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xd(this)},$.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Md(this)),this.readyState=PC},$.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bB(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},$.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Md(this):xd(this),3==this.readyState&&bB(this)}},$.Ua=function(t){this.g&&(this.response=this.responseText=t,Md(this))},$.Ta=function(t){this.g&&(this.response=t,Md(this))},$.ha=function(){this.g&&Md(this)},$.setRequestHeader=function(t,e){this.v.append(t,e)},$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Koe=se.JSON.parse;function St(t){Qt.call(this),this.headers=new Hl,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wB,this.K=this.L=!1}un(St,Qt);var wB="",Yoe=/^https?$/i,Qoe=["POST","PUT"];function Zoe(t){return"content-type"==t.toLowerCase()}function DB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,EB(t),em(t)}function EB(t){t.D||(t.D=!0,cn(t,"complete"),cn(t,"error"))}function CB(t){if(t.h&&typeof JE<"u"&&(!t.C[1]||4!=os(t)||2!=t.ba()))if(t.v&&4==os(t))DC(t.Fa,0,t);else if(cn(t,"readystatechange"),4==os(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(uB)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!Yoe.test(i?i.toLowerCase():"")}n=r}if(n)cn(t,"complete"),cn(t,"success");else{t.m=6;try{var o=2<os(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",EB(t)}}finally{em(t)}}}function em(t,e){if(t.g){TB(t);const n=t.g,r=t.C[0]?Rg:null;t.g=null,t.C=null,e||cn(t,"ready");try{n.onreadystatechange=r}catch{}}}function TB(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function os(t){return t.g?t.g.readyState:0}function IB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function Xoe(t){let e="";return nC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Je(t,e,n))}function Od(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SB(t){this.za=0,this.l=[],this.h=new $g,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Od("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Od("baseRetryDelayMs",5e3,t),this.$a=Od("retryDelaySeedMs",1e4,t),this.Ya=Od("forwardChannelMaxRetries",2,t),this.ra=Od("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new gB(t&&t.concurrentRequestLimit),this.Ca=new Woe,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function LC(t){if(NB(t),3==t.G){var e=t.V++,n=ss(t.F);Je(n,"SID",t.J),Je(n,"RID",e),Je(n,"TYPE","terminate"),kd(t,n),(e=new Ed(t,t.h,e,void 0)).K=2,e.v=Jg(ss(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&((new Image).src=e.v,n=!0),n||(e.g=LB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cd(e)}PB(t)}function tm(t){t.g&&(UC(t),t.g.cancel(),t.g=null)}function NB(t){tm(t),t.u&&(se.clearTimeout(t.u),t.u=null),rm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&se.clearTimeout(t.m),t.m=null)}function VC(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&nm(t)}function nm(t){mB(t.i)||t.m||(t.m=!0,yC(t.Ha,t),t.C=0)}function AB(t,e){var n;n=e?e.m:t.V++;const r=ss(t.F);Je(r,"SID",t.J),Je(r,"RID",n),Je(r,"AID",t.U),kd(t,r),t.o&&t.s&&FC(r,t.o,t.s),n=new Ed(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=MB(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),kC(t.i,n),NC(n,r,e)}function kd(t,e){t.j&&MC({},function(n,r){Je(e,r,n)})}function MB(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ln(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{zoe(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function xB(t){t.g||t.u||(t.Y=1,yC(t.Ga,t),t.A=0)}function BC(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=wd(ln(t.Ga,t),RB(t,t.A)),t.A++,0))}function UC(t){null!=t.B&&(se.clearTimeout(t.B),t.B=null)}function OB(t){t.g=new Ed(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ss(t.oa);Je(e,"RID","rpc"),Je(e,"SID",t.J),Je(e,"CI",t.N?"0":"1"),Je(e,"AID",t.U),kd(t,e),Je(e,"TYPE","xmlhttp"),t.o&&t.s&&FC(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Jg(ss(e)),n.s=null,n.U=!0,sB(n,t)}function rm(t){null!=t.v&&(se.clearTimeout(t.v),t.v=null)}function kB(t,e){var n=null;if(t.g==e){rm(t),UC(t),t.g=null;var r=2}else{if(!OC(t.i,e))return;n=e.D,yB(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;cn(r=Hg(),new eB(r,n,e,i)),nm(t)}else xB(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function eae(t,e){return!(_B(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=wd(ln(t.Ha,t,e),RB(t,t.C)),t.C++,0)))}(t,e)||2==r&&BC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wo(t,5);break;case 4:Wo(t,10);break;case 3:Wo(t,6);break;default:Wo(t,2)}}function RB(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Wo(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=ln(t.jb,t);n||(n=new Go("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Kg(n,"https"),Jg(n)),function qoe(t,e){const n=new $g;if(se.Image){const r=new Image;r.onload=Pg(Zg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pg(Zg,n,r,"TestLoadImage: error",!1,e),r.onabort=Pg(Zg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pg(Zg,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Gn(2);t.G=0,t.j&&t.j.va(e),PB(t),NB(t)}function PB(t){t.G=0,t.I=-1,t.j&&((0!=vB(t.i).length||0!=t.l.length)&&(t.i.i.length=0,eC(t.l),t.l.length=0),t.j.ua())}function FB(t,e,n){let r=function Poe(t){return t instanceof Go?ss(t):new Go(t,void 0)}(n);if(""!=r.i)e&&Yg(r,e+"."+r.i),Qg(r,r.m);else{const i=se.location;r=function Foe(t,e,n,r){var i=new Go(null,void 0);return t&&Kg(i,t),e&&Yg(i,e),n&&Qg(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&nC(t.aa,function(i,s){Je(r,s,i)}),n=t.sa,(e=t.D)&&n&&Je(r,e,n),Je(r,"VER",t.ma),kd(t,r),r}function LB(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new St(n&&t.Ba&&!t.qa?new Ad({ib:!0}):t.qa)).L=t.H,e}function VB(){}function im(){if(jl&&!(10<=Number(foe)))throw Error("Environmental error: no available transport.")}function br(t,e){Qt.call(this),this.g=new SB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fg(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Wl(this)}function BB(t){CC.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function UB(){TC.call(this),this.status=1}function Wl(t){this.g=t}($=St.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IC.g(),this.C=function nB(t){return t.h||(t.h=t.i())}(this.u?this.u:IC),this.g.onreadystatechange=ln(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void DB(this,s)}t=n||"";const i=new Hl(this.headers);r&&MC(r,function(s,o){i.set(o,s)}),r=function aoe(t){e:{var e=Zoe;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=se.FormData&&t instanceof se.FormData,!(0<=SV(Qoe,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{TB(this),0<this.B&&((this.K=function Joe(t){return jl&&function hoe(){return function loe(t){var e=doe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=MV(String(Lg)).split("."),n=MV("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=tC(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||tC(0==i[2].length,0==s[2].length)||tC(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.pa,this)):this.A=DC(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){DB(this,s)}},$.pa=function(){typeof JE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,cn(this,"complete"),cn(this,"abort"),em(this))},$.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),em(this,!0)),St.Z.M.call(this)},$.Fa=function(){this.s||(this.F||this.v||this.l?CB(this):this.cb())},$.cb=function(){CB(this)},$.ba=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},$.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Koe(e)}},$.Da=function(){return this.m},$.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($=SB.prototype).ma=8,$.G=1,$.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}},$.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Ed(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=kV(s),PV(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MB(this,i,e),Je(n=ss(this.F),"RID",t),Je(n,"CVER",22),this.D&&Je(n,"X-HTTP-Session-Id",this.D),kd(this,n),this.o&&s&&FC(n,this.o,s),kC(this.i,i),this.Ra&&Je(n,"TYPE","init"),this.ja?(Je(n,"$req",e),Je(n,"SID","null"),i.$=!0,NC(i,n,null)):NC(i,n,e),this.G=2}}else 3==this.G&&(t?AB(this,t):0==this.l.length||mB(this.i)||AB(this))},$.Ga=function(){if(this.u=null,OB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=wd(ln(this.bb,this),t)}},$.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gn(10),tm(this),OB(this))},$.ab=function(){null!=this.v&&(this.v=null,tm(this),BC(this),Gn(19))},$.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Gn(2)):(this.h.info("Failed to ping google.com"),Gn(1))},($=VB.prototype).xa=function(){},$.wa=function(){},$.va=function(){},$.ua=function(){},$.Oa=function(){},im.prototype.g=function(t,e){return new br(t,e)},un(br,Qt),br.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),yC(ln(t.hb,t,e))),Gn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=FB(t,null,t.W),nm(t)},br.prototype.close=function(){LC(this.g)},br.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,VC(this.g,e)}else this.v?((e={}).__data__=_C(t),VC(this.g,e)):VC(this.g,t)},br.prototype.M=function(){this.g.j=null,delete this.j,LC(this.g),delete this.g,br.Z.M.call(this)},un(BB,CC),un(UB,TC),un(Wl,VB),Wl.prototype.xa=function(){cn(this.g,"a")},Wl.prototype.wa=function(t){cn(this.g,new BB(t))},Wl.prototype.va=function(t){cn(this.g,new UB(t))},Wl.prototype.ua=function(){cn(this.g,"b")},im.prototype.createWebChannel=im.prototype.g,br.prototype.send=br.prototype.u,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,Gg.NO_ERROR=0,Gg.TIMEOUT=8,Gg.HTTP_ERROR=6,tB.COMPLETE="complete",rB.EventType=Dd,Dd.OPEN="a",Dd.CLOSE="b",Dd.ERROR="c",Dd.MESSAGE="d",Qt.prototype.listen=Qt.prototype.N,St.prototype.listenOnce=St.prototype.O,St.prototype.getLastError=St.prototype.La,St.prototype.getLastErrorCode=St.prototype.Da,St.prototype.getStatus=St.prototype.ba,St.prototype.getResponseJson=St.prototype.Qa,St.prototype.getResponseText=St.prototype.ga,St.prototype.send=St.prototype.ea;var tae=is.createWebChannelTransport=function(){return new im},nae=is.getStatEventTarget=function(){return Hg()},jC=is.ErrorCode=Gg,rae=is.EventType=tB,iae=is.Event=jo,jB=is.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sae=is.FetchXmlHttpFactory=Ad,sm=is.WebChannel=rB,oae=is.XhrIo=St;const $B="@firebase/firestore";class Jt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let zl="9.9.4";const Rs=new Ml("@firebase/firestore");function $C(){return Rs.logLevel}function M(t,...e){if(Rs.logLevel<=be.DEBUG){const n=e.map(HC);Rs.debug(`Firestore (${zl}): ${t}`,...n)}}function vt(t,...e){if(Rs.logLevel<=be.ERROR){const n=e.map(HC);Rs.error(`Firestore (${zl}): ${t}`,...n)}}function ql(t,...e){if(Rs.logLevel<=be.WARN){const n=e.map(HC);Rs.warn(`Firestore (${zl}): ${t}`,...n)}}function HC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function G(t="Unexpected state"){const e=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+t;throw vt(e),new Error(e)}function te(t,e){t||G()}function P(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class HB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class uae{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(m(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te("string"==typeof r.accessToken),new HB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(null===e||"string"==typeof e),new Jt(e)}}class cae{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(te(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class dae{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new cae(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hae{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te("string"==typeof n.token),this.A=n.token,new GB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class WB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Kl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new st(0,0))}static max(){return new Z(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rd{constructor(e,n,r){void 0===n?n=0:n>e.length&&G(),void 0===r?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Rd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Rd{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const pae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Rd{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return pae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(we.fromString(e))}static fromName(e){return new R(we.fromString(e).popFirst(5))}static empty(){return new R(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new we(e.slice()))}}function KB(t){return new wr(t.readTime,t.key,-1)}class wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wr(Z.min(),R.empty(),-1)}static max(){return new wr(Z.max(),R.empty(),-1)}}function WC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:oe(t.largestBatchId,e.largestBatchId))}const YB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ps(t){return zC.apply(this,arguments)}function zC(){return zC=m(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==YB)throw t;M("LocalStore","Unexpectedly lost primary lease")}),zC.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fs(t){return"IndexedDbTransactionError"===t.name}class tr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function JB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}tr.at=-1;class ht{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dn.RED,this.left=i??dn.EMPTY,this.right=s??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1,dn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(t,e,n,r,i){return this}insert(t,e,n){return new dn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XB(this.data.getIterator())}getIteratorFrom(e){return new XB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class XB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dr{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new Fe(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Dae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(te(!!t),"string"==typeof t){let e=0;const n=Dae.exec(t);if(te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Yo(t){return"string"==typeof t?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function KC(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eU(t){const e=t.mapValue.fields.__previous_value__;return KC(e)?eU(e):e}function Ld(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}class Eae{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Qo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}function Vd(t){return null==t}function Bd(t){return 0===t&&1/t==-1/0}const Vs_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KC(t)?4:sU(t)?9007199254740991:10:G()}function wi(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ld(t).isEqual(Ld(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ls(r.timestampValue),o=Ls(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Yo(t.bytesValue).isEqual(Yo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ft(r.doubleValue),o=ft(i.doubleValue);return s===o?Bd(s)===Bd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(JB(s)!==JB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!wi(s[a],o[a])))return!1;return!0}(t,e);default:return G()}var i}function Ud(t,e){return void 0!==(t.values||[]).find(n=>wi(n,e))}function Bs(t,e){if(t===e)return 0;const n=Jo(t),r=Jo(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ft(i.integerValue||i.doubleValue),a=ft(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return nU(t.timestampValue,e.timestampValue);case 4:return nU(Ld(t),Ld(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Yo(i),a=Yo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=oe(o[l],a[l]);if(0!==u)return u}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=oe(ft(i.latitude),ft(s.latitude));return 0!==o?o:oe(ft(i.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Bs(o[l],a[l]);if(u)return u}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Vs_mapValue&&s===Vs_mapValue)return 0;if(i===Vs_mapValue)return 1;if(s===Vs_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=oe(a[c],u[c]);if(0!==d)return d;const h=Bs(o[a[c]],l[u[c]]);if(0!==h)return h}return oe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw G()}}function nU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return oe(t,e);const n=Ls(t),r=Ls(e),i=oe(n.seconds,r.seconds);return 0!==i?i:oe(n.nanos,r.nanos)}function Ql(t){return YC(t)}function YC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ls(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Yo(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=YC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${YC(r.fields[a])}`;return s+"}"}(t.mapValue):G();var e}function QC(t){return!!t&&"integerValue"in t}function jd(t){return!!t&&"arrayValue"in t}function rU(t){return!!t&&"nullValue"in t}function iU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dm(t){return!!t&&"mapValue"in t}function $d(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$d(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$d(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$d(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$d(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hn($d(this.value))}}function lU(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new bt([n]);if(dm(r)){const s=lU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dr(e)}class We{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new We(e,0,Z.min(),Z.min(),hn.empty(),0)}static newFoundDocument(e,n,r){return new We(e,1,n,Z.min(),r,0)}static newNoDocument(e,n){return new We(e,2,n,Z.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new We(e,3,n,Z.min(),hn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Iae{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function uU(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Iae(t,e,n,r,i,s,o)}function Xo(t){const e=P(t);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ql(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ql(r)).join(",")),e.ht=n}return e.ht}function Hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Pae(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!wi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pU(t.startAt,e.startAt)&&pU(t.endAt,e.endAt)}function hm(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class fn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,r):new Nae(e,n,r):"array-contains"===n?new xae(e,r):"in"===n?new Oae(e,r):"not-in"===n?new kae(e,r):"array-contains-any"===n?new Rae(e,r):new fn(e,n,r)}static lt(e,n,r){return"in"===n?new Aae(e,r):new Mae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(Bs(n,this.value)):null!==n&&Jo(this.value)===Jo(n)&&this.ft(Bs(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Nae extends fn{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.ft(n)}}class Aae extends fn{constructor(e,n){super(e,"in",n),this.keys=hU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mae extends fn{constructor(e,n){super(e,"not-in",n),this.keys=hU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class xae extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jd(n)&&Ud(n.arrayValue,this.value)}}class Oae extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ud(this.value.arrayValue,n)}}class kae extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ud(this.value.arrayValue,n)}}class Rae extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ud(this.value.arrayValue,r))}}class Us{constructor(e,n){this.position=e,this.inclusive=n}}class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):Bs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function pU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wi(t.position[n],e.position[n]))return!1;return!0}class as{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null}}function Zl(t){return new as(t)}function mU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Xl(t){const e=P(t);if(null===e._t){e._t=[];const n=function ZC(t){for(const e of t.filters)if(e.dt())return e.field;return null}(e),r=function JC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e._t.push(new Jl(n)),e._t.push(new Jl(bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Jl(bt.keyField(),s))}}}return e._t}function nr(t){const e=P(t);if(!e.wt)if("F"===e.limitType)e.wt=uU(e.path,e.collectionGroup,Xl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Xl(e))n.push(new Jl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Us(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Us(e.startAt.position,e.startAt.inclusive):null;e.wt=uU(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function pm(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return Hd(nr(t),nr(e))&&t.limitType===e.limitType}function _U(t){return`${Xo(nr(t))}|lt:${t.limitType}`}function eT(t){return`Query(target=${function Sae(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ql(r.value)}`;var r}).join(", ")}]`),Vd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ql(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ql(n)).join(",")),`Target(${e})`}(nr(t))}; limitType=${t.limitType})`}function tT(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=fU(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Xl(n),r)||n.endAt&&!function(i,s,o){const a=fU(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Xl(n),r)));var n,r}function vU(t){return(e,n)=>{let r=!1;for(const i of Xl(t)){const s=Fae(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fae(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Bs(a,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}function bU(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function wU(t){return{integerValue:""+t}}function DU(t,e){return function tU(t){return"number"==typeof t&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?wU(e):bU(t,e)}class gm{constructor(){this._=void 0}}function Lae(t,e,n){return t instanceof eu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ea?CU(t,e):t instanceof ta?TU(t,e):function(r,i){const s=EU(r,i),o=IU(s)+IU(r.yt);return QC(s)&&QC(r.yt)?wU(o):bU(r.It,o)}(t,e)}function Vae(t,e,n){return t instanceof ea?CU(t,e):t instanceof ta?TU(t,e):n}function EU(t,e){return t instanceof tu?QC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class eu extends gm{}class ea extends gm{constructor(e){super(),this.elements=e}}function CU(t,e){const n=SU(e);for(const r of t.elements)n.some(i=>wi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ta extends gm{constructor(e){super(),this.elements=e}}function TU(t,e){let n=SU(e);for(const r of t.elements)n=n.filter(i=>!wi(i,r));return{arrayValue:{values:n}}}class tu extends gm{constructor(e,n){super(),this.It=e,this.yt=n}}function IU(t){return ft(t.integerValue||t.doubleValue)}function SU(t){return jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Uae{constructor(e,n){this.version=e,this.transformResults=n}}class Ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class _m{}function NU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ru(t.key,Ze.none()):new nu(t.key,t.data,Ze.none());{const n=t.data,r=hn.empty();let i=new Fe(bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ls(t.key,r,new Dr(i.toArray()),Ze.none())}}function jae(t,e,n){t instanceof nu?function(r,i,s){const o=r.value.clone(),a=xU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(r,i,s){if(!mm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=xU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(MU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function zd(t,e,n,r){return t instanceof nu?function(i,s,o,a){if(!mm(i.precondition,s))return o;const l=i.value.clone(),u=OU(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(i,s,o,a){if(!mm(i.precondition,s))return o;const l=OU(i.fieldTransforms,a,s),u=s.data;return u.setAll(MU(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):(o=n,mm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function $ae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EU(r.transform,i||null);null!=s&&(null===n&&(n=hn.empty()),n.set(r.field,s))}return n||null}function AU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Kl(n,r,(i,s)=>function Bae(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ea&&r instanceof ea||n instanceof ta&&r instanceof ta?Kl(n.elements,r.elements,wi):n instanceof tu&&r instanceof tu?wi(n.yt,r.yt):n instanceof eu&&r instanceof eu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class nu extends _m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ls extends _m{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xU(t,e,n){const r=new Map;te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vae(o,a,n[i]))}return r}function OU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Lae(s,o,e))}return r}class ru extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nT extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hae{constructor(e){this.count=e}}var Nt,De;function kU(t){switch(t){default:return G();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function RU(t){if(void 0===t)return vt("GRPC error has no .code"),E.UNKNOWN;switch(t){case Nt.OK:return E.OK;case Nt.CANCELLED:return E.CANCELLED;case Nt.UNKNOWN:return E.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return E.INTERNAL;case Nt.UNAVAILABLE:return E.UNAVAILABLE;case Nt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Nt.NOT_FOUND:return E.NOT_FOUND;case Nt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Nt.ABORTED:return E.ABORTED;case Nt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Nt.DATA_LOSS:return E.DATA_LOSS;default:return G()}}(De=Nt||(Nt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ZB(this.inner)}size(){return this.innerSize}}const Gae=new ht(R.comparator);function rr(){return Gae}const PU=new ht(R.comparator);function qd(...t){let e=PU;for(const n of t)e=e.insert(n.key,n);return e}function FU(t){let e=PU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return Kd()}function LU(){return Kd()}function Kd(){return new js(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wae=new ht(R.comparator),zae=new Fe(R.comparator);function ce(...t){let e=zae;for(const n of t)e=e.add(n);return e}const qae=new Fe(oe);function ym(){return qae}class Yd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,n)),new Yd(Z.min(),r,ym(),rr(),ce())}}class Qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Qd(Vt.EMPTY_BYTE_STRING,n,ce(),ce(),ce())}}class vm{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class VU{constructor(e,n){this.targetId=e,this.At=n}}class BU{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UU{constructor(){this.Rt=0,this.bt=$U(),this.Pt=Vt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ce(),n=ce(),r=ce();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Qd(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=$U()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Kae{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=rr(),this.qt=jU(),this.Kt=new Fe(oe)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(hm(s))if(0===r){const o=new R(s.path);this.jt(n,o,We.newNoDocument(o,Z.min()))}else te(1===r);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&hm(a.target)){const l=new R(a.target.path);null!==this.Ut.get(l)||this.ee(o,l)||this.jt(o,l,We.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=ce();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||2===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Yd(e,n,this.Kt,this.Ut,r);return this.Ut=rr(),this.qt=jU(),this.Kt=new Fe(oe),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new UU,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Fe(oe),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||M("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new UU),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function jU(){return new ht(R.comparator)}function $U(){return new ht(R.comparator)}const Yae={asc:"ASCENDING",desc:"DESCENDING"},Qae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jae{constructor(e,n){this.databaseId=e,this.gt=n}}function Jd(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HU(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Zae(t,e){return Jd(t,e.toTimestamp())}function Xt(t){return te(!!t),Z.fromTimestamp(function(e){const n=Ls(e);return new st(n.seconds,n.nanos)}(t))}function rT(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function GU(t){const e=we.fromString(t);return te(XU(e)),e}function Zd(t,e){return rT(t.databaseId,e.path)}function Ei(t,e){const n=GU(e);if(n.get(1)!==t.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(zU(n))}function iT(t,e){return rT(t.databaseId,e)}function Xd(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zU(t){return te(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qU(t,e,n){return{name:Zd(t,e),fields:n.value.mapValue.fields}}function YU(t,e){return{documents:[iT(t,e.path)]}}function QU(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=iT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const u=l.map(c=>function(d){if("=="===d.op){if(iU(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NAN"}};if(rU(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(iU(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NOT_NAN"}};if(rU(d.value))return{unaryFilter:{field:iu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(d.field),op:ile(d.op),value:d.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:iu((c=u).field),direction:rle(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.gt||Vd(u)?u:{value:u});var u,a,l;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),n}function JU(t){let e=function WU(t){const e=GU(t);return 4===e.length?we.emptyPath():zU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){te(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=ZU(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new Jl(su((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,Vd(d)?null:d}(n.limit));let l=null;var c;n.startAt&&(l=new Us((c=n.startAt).values||[],!!c.before));let u=null;return n.endAt&&(u=function(c){return new Us(c.values||[],!c.before)}(n.endAt)),function gU(t,e,n,r,i,s,o,a){return new as(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",l,u)}function ZU(t){return t?void 0!==t.unaryFilter?[ole(t)]:void 0!==t.fieldFilter?[sle(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>ZU(e)).reduce((e,n)=>e.concat(n)):G():[]}function rle(t){return Yae[t]}function ile(t){return Qae[t]}function iu(t){return{fieldPath:t.canonicalString()}}function su(t){return bt.fromServerFormat(t.fieldPath)}function sle(t){return fn.create(su(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)}function ole(t){switch(t.unaryFilter.op){case"IS_NAN":const e=su(t.unaryFilter.field);return fn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=su(t.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=su(t.unaryFilter.field);return fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=su(t.unaryFilter.field);return fn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return G()}}function ale(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class aT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=NU(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(n,r)=>AU(n,r))&&Kl(this.baseMutations,e.baseMutations,(n,r)=>AU(n,r))}}class lT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){te(e.mutations.length===r.length);let i=Wae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lT(e,n,r,i)}}class uT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $s{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=Vt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class oj{constructor(e){this.re=e}}function cT(t){const e=JU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pm(e,e.limit,"L"):e}class sa{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(ft(e.integerValue));else if("doubleValue"in e){const r=ft(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),Bd(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),"string"==typeof r?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Yo(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?sU(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):G()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),R.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}sa.Te=new sa;class kle{constructor(){this.Ye=new hT}addToCollectionParentIndex(e,n){return this.Ye.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(wr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class hT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(we.comparator)).toArray()}}new Uint8Array(0);class ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class la{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new la(0)}static vn(){return new la(-1)}}class Hle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Sj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&zd(r.mutation,i,Dr.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=rr();const o=Kd(),a=Kd();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(void 0===c||c.mutation instanceof ls)?s=s.insert(u.key,u):void 0!==c&&(o.set(u.key,c.mutation.getFieldMask()),zd(c.mutation,u,c.mutation.getFieldMask(),st.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Hle(c,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Kd();let i=new ht((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let c=r.get(l)||Dr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=LU();c.forEach(h=>{if(!s.has(h)){const f=NU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function XC(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Di());let a=-1,l=s;return o.next(u=>w.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?w.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ce())).next(c=>({batchId:a,changes:FU(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=qd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(u=n,c=a.child(i),new as(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,c;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();null===i.get(u)&&(i=i.insert(u,We.newInvalidDocument(u)))});let o=qd();return i.forEach((a,l)=>{const u=s.get(a);void 0!==u&&zd(u.mutation,l,Dr.empty(),st.now()),tT(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):w.resolve(We.newInvalidDocument(n))}}class Gle{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return w.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Xt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:cT(r.bundledQuery),readTime:Xt(r.readTime)}),w.resolve();var r}}class Wle{constructor(){this.overlays=new ht(R.comparator),this.es=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Di();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Di(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ht((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);null===c&&(c=Di(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Di(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return w.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uT(n,r));let s=this.es.get(n);void 0===s&&(s=ce(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class fT{constructor(){this.ns=new Fe(tn.ss),this.rs=new Fe(tn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new tn(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new tn(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new R(new we([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new R(new we([])),r=new tn(n,e),i=new tn(n,e+1);let s=ce();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tn(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return R.comparator(e.key,n.key)||oe(e._s,n._s)}static os(e,n){return oe(e._s,n._s)||R.comparator(e.key,n.key)}}class zle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Fe(tn.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new aT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new tn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(oe);return n.forEach(i=>{const s=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new tn(new R(s),0);let a=new Fe(oe);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){te(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new tn(n,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qle{constructor(e){this.Es=e,this.docs=new ht(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=rr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=rr();const s=new R(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||WC(KB(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){G()}As(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kle(this)}getSize(e){return w.resolve(this.size)}}class Kle extends class Ule{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Yle{constructor(e){this.persistence=e,this.Rs=new js(n=>Xo(n),Hd),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fT,this.targetCount=0,this.vs=la.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),w.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new la(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Dn(n),w.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Ps.containsKey(n))}}class Nj{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new tr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Yle(this),this.indexManager=new kle,this.remoteDocumentCache=new qle(r=>this.referenceDelegate.xs(r)),this.It=new oj(n),this.Ns=new Gle(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new zle(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const i=new Qle(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Qle extends class _ae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Fs=new fT,this.$s=null}static Bs(e){return new Nm(e)}get Ls(){if(this.$s)return this.$s;throw G()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),w.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=R.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return w.or([()=>w.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class _T{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _T(e,n.fromCache,r,i)}}class Mj{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(mU(n))return w.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=pm(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,pm(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return mU(n)||i.isEqual(Z.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):($C()<=be.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eT(n)),this.Bi(e,o,n,function qB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(1e9===r?new st(n+1,0):new st(n,r));return new wr(i,R.empty(),e)}(i,-1)))})}Fi(e,n){let r=new Fe(vU(e));return n.forEach((i,s)=>{tT(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return $C()<=be.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",eT(n)),this.Ni.getDocumentsMatchingQuery(e,n,wr.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Zle{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new ht(oe),this.qi=new js(s=>Xo(s),Hd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sj(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Oj(t,e){return yT.apply(this,arguments)}function yT(){return yT=m(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}),yT.apply(this,arguments)}function Xle(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);te(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kj(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function eue(t,e){const n=P(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;e.targetMismatches.has(d)?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),g=f,_=c,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let l=rr(),u=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function Rj(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=rr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(Z.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function tue(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lu(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new $s(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}function uu(t,e,n){return vT.apply(this,arguments)}function vT(){return vT=m(function*(t,e,n){const r=P(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fs(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),vT.apply(this,arguments)}function Mm(t,e,n){const r=P(t);let i=Z.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=P(a),d=c.qi.get(u);return void 0!==d?w.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(r,o,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ce())).next(a=>(function Lj(t,e,n){let r=Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function yU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class CT{constructor(){this.activeTargetIds=ym()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uj{constructor(){this.Lr=new CT,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new CT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iue{qr(e){}shutdown(){}}class jj{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class oue{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class aue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);M("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw ql("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){return`${this.oo}/v1/${n}:${sue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new oae;a.listenOnce(rae.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case jC.NO_ERROR:const u=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(u)),s(u);break;case jC.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case jC.HTTP_ERROR:const c=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new A(h,d.message))}else o(new A(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new A(E.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tae(),o=nae(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new sae({})),this.ho(a.initMessageHeaders,n,r),VF()||BF()||function uZ(){return qt().indexOf("Electron/")>=0}()||UF()||function cZ(){return qt().indexOf("MSAppHost/")>=0}()||Xp()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new oue({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(c||(M("Connection","Opening WebChannel transport."),u.open(),c=!0),M("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,g,_)=>{p.listen(g,v=>{try{_(v)}catch(D){setTimeout(()=>{throw D},0)}})};return f(u,sm.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(u,sm.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(u,sm.EventType.ERROR,p=>{d||(d=!0,ql("Connection","WebChannel transport errored:",p),h.io(new A(E.UNAVAILABLE,"The operation could not be completed")))}),f(u,sm.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];te(!!_);const v=_,D=v.error||(null===(g=v[0])||void 0===g?void 0:g.error);if(D){M("Connection","WebChannel received error:",D);const y=D.status;let C=function(x){const K=Nt[x];if(void 0!==K)return RU(K)}(y),S=D.message;void 0===C&&(C=E.INTERNAL,S="Unknown error status: "+y+" with message "+D.message),d=!0,h.io(new A(C,S)),u.close()}else M("Connection","WebChannel received:",_),h.ro(_)}}),f(o,iae.STAT_EVENT,p=>{p.stat===jB.PROXY?M("Connection","Detected buffering proxy"):p.stat===jB.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function km(){return typeof document<"u"?document:null}function uh(t){return new Jae(t,!0)}class IT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Hj{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new IT(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return m(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(vt(n.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new A(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao(m(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lue extends Hj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function ele(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:G(),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(te(void 0===u||"string"==typeof u),Vt.fromBase64String(u||"")):(te(void 0===u||u instanceof Uint8Array),Vt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?E.UNKNOWN:RU(l.code);return new A(u,l.message||"")}(o);n=new BU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ei(t,r.document.name),s=Xt(r.document.updateTime),o=new hn({mapValue:{fields:r.document.fields}}),a=We.newFoundDocument(i,s,o);n=new vm(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ei(t,r.document),s=r.readTime?Xt(r.readTime):Z.min(),o=We.newNoDocument(i,s);n=new vm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ei(t,r.document);n=new vm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return G();{const r=e.filter,s=new Hae(r.count||0);n=new VU(r.targetId,s)}}var l;return n}(this.It,e),r=function(i){if(!("targetChange"in i))return Z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Xt(s.readTime):Z.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Xd(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=hm(a)?{documents:YU(i,a)}:{query:QU(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=HU(i,s.resumeToken):s.snapshotVersion.compareTo(Z.min())>0&&(o.readTime=Jd(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function nle(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return G()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Xd(this.It),n.removeTarget=e,this.Bo(n)}}class uue extends Hj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function tle(t,e){return t&&t.length>0?(te(void 0!==e),t.map(n=>function(r,i){let s=Xt(r.updateTime?r.updateTime:i);return s.isEqual(Z.min())&&(s=Xt(i)),new Uae(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.Zo(r,n)}return te(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Xd(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function eh(t,e){let n;if(e instanceof nu)n={update:qU(t,e.key,e.value)};else if(e instanceof ru)n={delete:Zd(t,e.key)};else if(e instanceof ls)n={update:qU(t,e.key,e.data),updateMask:ale(e.fieldMask)};else{if(!(e instanceof nT))return G();n={verify:Zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof eu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ea)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tu)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Zae(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:G()),n;var i}(this.It,r))};this.Bo(n)}}class cue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(E.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class due{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(vt(n),this.ou=!1):M("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class hue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(a=>{r.enqueueAndForget(m(function*(){var l;Ws(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(u){const c=P(u);c._u.add(4),yield cu(c),c.gu.set("Unknown"),c._u.delete(4),yield ch(c)}),function(u){return l.apply(this,arguments)})(o))}))}),this.gu=new due(r,i)}}function ch(t){return ST.apply(this,arguments)}function ST(){return ST=m(function*(t){if(Ws(t))for(const e of t.wu)yield e(!0)}),ST.apply(this,arguments)}function cu(t){return NT.apply(this,arguments)}function NT(){return NT=m(function*(t){for(const e of t.wu)yield e(!1)}),NT.apply(this,arguments)}function Rm(t,e){const n=P(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),xT(n)?MT(n):hu(n).ko()&&AT(n,e))}function dh(t,e){const n=P(t),r=hu(n);n.du.delete(e),r.ko()&&Gj(n,e),0===n.du.size&&(r.ko()?r.Fo():Ws(n)&&n.gu.set("Unknown"))}function AT(t,e){t.yu.Ot(e.targetId),hu(t).zo(e)}function Gj(t,e){t.yu.Ot(e),hu(t).Ho(e)}function MT(t){t.yu=new Kae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),hu(t).start(),t.gu.uu()}function xT(t){return Ws(t)&&!hu(t).No()&&t.du.size>0}function Ws(t){return 0===P(t)._u.size}function Wj(t){t.yu=void 0}function fue(t){return OT.apply(this,arguments)}function OT(){return OT=m(function*(t){t.du.forEach((e,n)=>{AT(t,e)})}),OT.apply(this,arguments)}function pue(t,e){return kT.apply(this,arguments)}function kT(){return kT=m(function*(t,e){Wj(t),xT(t)?(t.gu.hu(e),MT(t)):t.gu.set("Unknown")}),kT.apply(this,arguments)}function gue(t,e,n){return RT.apply(this,arguments)}function RT(){return RT=m(function*(t,e,n){if(t.gu.set("Online"),e instanceof BU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pm(t,r)}else if(e instanceof vm?t.yu.Gt(e):e instanceof VU?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(Z.min()))try{const r=yield kj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),Gj(i,a);const u=new $s(l.target,a,1,l.sequenceNumber);AT(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Pm(t,r)}var r}),RT.apply(this,arguments)}function Pm(t,e,n){return PT.apply(this,arguments)}function PT(){return PT=m(function*(t,e,n){if(!Fs(e))throw e;t._u.add(1),yield cu(t),t.gu.set("Offline"),n||(n=()=>kj(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){M("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield ch(t)}))}),PT.apply(this,arguments)}function zj(t,e){return e().catch(n=>Pm(t,n,e))}function du(t){return FT.apply(this,arguments)}function FT(){return FT=m(function*(t){const e=P(t),n=zs(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;mue(e);)try{const i=yield tue(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,_ue(e,i)}catch(i){yield Pm(e,i)}qj(e)&&Kj(e)}),FT.apply(this,arguments)}function mue(t){return Ws(t)&&t.fu.length<10}function _ue(t,e){t.fu.push(e);const n=zs(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function qj(t){return Ws(t)&&!zs(t).No()&&t.fu.length>0}function Kj(t){zs(t).start()}function yue(t){return LT.apply(this,arguments)}function LT(){return LT=m(function*(t){zs(t).eu()}),LT.apply(this,arguments)}function vue(t){return VT.apply(this,arguments)}function VT(){return VT=m(function*(t){const e=zs(t);for(const n of t.fu)e.Xo(n.mutations)}),VT.apply(this,arguments)}function bue(t,e,n){return BT.apply(this,arguments)}function BT(){return BT=m(function*(t,e,n){const r=t.fu.shift(),i=lT.from(r,e,n);yield zj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield du(t)}),BT.apply(this,arguments)}function wue(t,e){return UT.apply(this,arguments)}function UT(){return UT=m(function*(t,e){var n;e&&zs(t).Yo&&(yield(n=m(function*(r,i){if(kU(s=i.code)&&s!==E.ABORTED){const o=r.fu.shift();zs(r).Oo(),yield zj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield du(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),qj(t)&&Kj(t)}),UT.apply(this,arguments)}function Yj(t,e){return jT.apply(this,arguments)}function jT(){return jT=m(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n._u.add(3),yield cu(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield ch(n)}),jT.apply(this,arguments)}function HT(){return HT=m(function*(t,e){const n=P(t);e?(n._u.delete(2),yield ch(n)):e||(n._u.add(2),yield cu(n),n.gu.set("Unknown"))}),HT.apply(this,arguments)}function hu(t){return t.pu||(t.pu=function(e,n,r){const i=P(e);return i.su(),new lue(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:fue.bind(null,t),Zr:pue.bind(null,t),Wo:gue.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.pu.Oo(),xT(t)?MT(t):t.gu.set("Unknown")):(yield t.pu.stop(),Wj(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function zs(t){return t.Iu||(t.Iu=function(e,n,r){const i=P(e);return i.su(),new uue(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:yue.bind(null,t),Zr:wue.bind(null,t),tu:vue.bind(null,t),Zo:bue.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.Iu.Oo(),yield du(t)):(yield t.Iu.stop(),t.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class GT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new GT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(t,e){if(vt("AsyncQueue",`${e}: ${t}`),Fs(t))return new A(E.UNAVAILABLE,`${e}: ${t}`);throw t}class pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=qd(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Qj{constructor(){this.Tu=new ht(R.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):G():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class gu{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new gu(e,n,pu.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Due{constructor(){this.Au=void 0,this.listeners=[]}}class Eue{constructor(){this.queries=new js(e=>_U(e),Gd),this.onlineState="Unknown",this.Ru=new Set}}function zT(){return zT=m(function*(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Due),i)try{s.Au=yield n.onListen(r)}catch(o){const a=fu(o,`Initialization of query '${eT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&YT(n)}),zT.apply(this,arguments)}function KT(){return KT=m(function*(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),KT.apply(this,arguments)}function Cue(t,e){const n=P(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&YT(n)}function Tue(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function YT(t){t.Ru.forEach(e=>{e.next()})}class QT{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Xj{constructor(e){this.key=e}}class e${constructor(e){this.key=e}}class t${constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=ce(),this.mutatedKeys=ce(),this.Ku=vU(e),this.Gu=new pu(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new Qj,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=tT(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.zu(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return f(d)-f(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=0===this.qu.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==s.length||l?{snapshot:new gu(this.query,e.Gu,i,s,e.mutatedKeys,0===a,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Qj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ce(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new e$(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new Xj(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=ce();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return gu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Nue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Aue{constructor(e){this.key=e,this.ec=!1}}class Mue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new js(a=>_U(a),Gd),this.ic=new Map,this.rc=new Set,this.oc=new ht(R.comparator),this.uc=new Map,this.cc=new fT,this.ac={},this.hc=new Map,this.lc=la.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function xue(t,e){return JT.apply(this,arguments)}function JT(){return JT=m(function*(t,e){const n=bI(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield lu(n.localStore,nr(e));n.isPrimaryClient&&Rm(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield ZT(n,e,r,"current"===a)}return i}),JT.apply(this,arguments)}function ZT(t,e,n,r){return XT.apply(this,arguments)}function XT(){return XT=m(function*(t,e,n,r){t.dc=(c,d,h)=>{return(f=m(function*(p,g,_,v){let D=g.view.ju(_);D.$i&&(D=yield Mm(p.localStore,g.query,!1).then(({documents:S})=>g.view.ju(S,D)));const y=v&&v.targetChanges.get(g.targetId),C=g.view.applyChanges(D,p.isPrimaryClient,y);return uI(p,g.targetId,C.Yu),C.snapshot}),function(p,g,_,v){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield Mm(t.localStore,e,!0),s=new t$(e,i.Hi),o=s.ju(i.documents),a=Qd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,a);uI(t,n,l.Yu);const u=new Nue(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}),XT.apply(this,arguments)}function Oue(t,e){return eI.apply(this,arguments)}function eI(){return eI=m(function*(t,e){const n=P(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Gd(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),dh(n.remoteStore,r.targetId),mu(n,r.targetId)}).catch(Ps))):(mu(n,r.targetId),yield uu(n.localStore,r.targetId,!0))}),eI.apply(this,arguments)}function tI(){return tI=m(function*(t,e,n){const r=wI(t);try{const i=yield function(s,o){const a=P(s),l=st.now(),u=o.reduce((h,f)=>h.add(f.key),ce());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=rr(),p=ce();return a.Gi.getEntries(h,u).next(g=>{f=g,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const _=[];for(const v of o){const D=$ae(v,c.get(v.key).overlayedDocument);null!=D&&_.push(new ls(v.key,D,lU(D.value.mapValue),Ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:FU(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new ht(oe)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),yield us(r,i.changes),yield du(r.remoteStore)}catch(i){const s=fu(i,"Failed to persist write");n.reject(s)}}),tI.apply(this,arguments)}function n$(t,e){return nI.apply(this,arguments)}function nI(){return nI=m(function*(t,e){const n=P(t);try{const r=yield eue(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?te(o.ec):i.removedDocuments.size>0&&(te(o.ec),o.ec=!1))}),yield us(n,r,e)}catch(r){yield Ps(r)}}),nI.apply(this,arguments)}function r$(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&YT(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rue(t,e,n){return rI.apply(this,arguments)}function rI(){return rI=m(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new ht(R.comparator);o=o.insert(s,We.newNoDocument(s,Z.min()));const a=ce().add(s),l=new Yd(Z.min(),new Map,new Fe(oe),o,a);yield n$(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),cI(r)}else yield uu(r.localStore,e,!1).then(()=>mu(r,e,n)).catch(Ps)}),rI.apply(this,arguments)}function Pue(t,e){return iI.apply(this,arguments)}function iI(){return iI=m(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield Xle(n.localStore,e);lI(n,r,null),aI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield us(n,i)}catch(i){yield Ps(i)}}),iI.apply(this,arguments)}function Fue(t,e,n){return sI.apply(this,arguments)}function sI(){return sI=m(function*(t,e,n){const r=P(t);try{const i=yield function(s,o){const a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(te(null!==c),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);lI(r,e,n),aI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield us(r,i)}catch(i){yield Ps(i)}}),sI.apply(this,arguments)}function aI(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function lI(t,e,n){const r=P(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function mu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||i$(t,r)})}function i$(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);null!==n&&(dh(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),cI(t))}function uI(t,e,n){for(const r of n)r instanceof Xj?(t.cc.addReference(r.key,e),Vue(t,r)):r instanceof e$?(M("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||i$(t,r.key)):G()}function Vue(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(M("SyncEngine","New document in limbo: "+n),t.rc.add(r),cI(t))}function cI(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new R(we.fromString(e)),r=t.lc.next();t.uc.set(r,new Aue(n)),t.oc=t.oc.insert(n,r),Rm(t.remoteStore,new $s(nr(Zl(n.path)),r,2,tr.at))}}function us(t,e,n){return dI.apply(this,arguments)}function dI(){return dI=m(function*(t,e,n){const r=P(t),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=_T.Ci(l.targetId,u);s.push(c)}}))}),yield Promise.all(o),r.nc.Wo(i),yield(a=m(function*(l,u){const c=P(l);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.Si,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fs(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ui=c.Ui.insert(h,g)}}}),function(l,u){return a.apply(this,arguments)})(r.localStore,s))}),dI.apply(this,arguments)}function Bue(t,e){return hI.apply(this,arguments)}function hI(){return hI=m(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield Oj(n.localStore,e);n.currentUser=e,(i=n).hc.forEach(o=>{o.forEach(a=>{a.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield us(n,r.ji)}var i}),hI.apply(this,arguments)}function Uue(t,e){const n=P(t),r=n.uc.get(e);if(r&&r.ec)return ce().add(r.key);{let i=ce();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function bI(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=n$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rue.bind(null,e),e.nc.Wo=Cue.bind(null,e.eventManager),e.nc._c=Tue.bind(null,e.eventManager),e}function wI(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fue.bind(null,e),e}class Yue{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.It=uh(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return function xj(t,e,n,r){return new Zle(t,e,n,r)}(this.persistence,new Mj,e.initialUser,this.It)}gc(e){return new Nj(Nm.Bs,this.It)}mc(e){return new Uj}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class DI{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>r$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Bue.bind(null,r.syncEngine),yield function $T(t,e){return HT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eue}createDatastore(e){const n=uh(e.databaseInfo.databaseId),r=new aue(e.databaseInfo);return new cue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>r$(this.syncEngine,a,0),o=jj.C()?new jj:new iue,new hue(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new Mue(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=P(n);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield cu(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class tce{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=WB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=fu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function l$(t,e){return EI.apply(this,arguments)}function EI(){return EI=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield Oj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),EI.apply(this,arguments)}function u$(t,e){return CI.apply(this,arguments)}function CI(){return CI=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield TI(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Yj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Yj(e.remoteStore,s)),t.onlineComponents=e}),CI.apply(this,arguments)}function TI(t){return II.apply(this,arguments)}function II(){return II=m(function*(t){return t.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield l$(t,new Yue)),t.offlineComponents}),II.apply(this,arguments)}function Lm(t){return SI.apply(this,arguments)}function SI(){return SI=m(function*(t){return t.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield u$(t,new DI)),t.onlineComponents}),SI.apply(this,arguments)}function _u(t){return AI.apply(this,arguments)}function AI(){return AI=m(function*(t){const e=yield Lm(t),n=e.eventManager;return n.onListen=xue.bind(null,e.syncEngine),n.onUnlisten=Oue.bind(null,e.syncEngine),n}),AI.apply(this,arguments)}const p$=new Map;function MI(t,e,n){if(!n)throw new A(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g$(t){if(!R.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m$(t){if(R.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":G()}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bm(t);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class y${constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function cce(t,e,n,r){if(!0===e&&!0===r)throw new A(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new aae;switch(n.type){case"gapi":return new dae(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=p$.get(e);n&&(M("ComponentProvider","Removing Datastore"),p$.delete(e),n.terminate())}(this),Promise.resolve()}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}}class An{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new An(this.firestore,e,this._query)}}class Ti extends An{constructor(e,n,r){super(e,n,Zl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new R(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function dce(t,e,...n){if(t=mr(t),MI("collection","path",e),t instanceof hh){const r=we.fromString(e,...n);return m$(r),new Ti(t,null,r)}{if(!(t instanceof wt||t instanceof Ti))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return m$(r),new Ti(t.firestore,null,r)}}function v$(t,e,...n){if(t=mr(t),1===arguments.length&&(e=WB.R()),MI("doc","path",e),t instanceof hh){const r=we.fromString(e,...n);return g$(r),new wt(t,null,new R(r))}{if(!(t instanceof wt||t instanceof Ti))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return g$(r),new wt(t.firestore,t instanceof Ti?t.converter:null,new R(r))}}class fce{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new IT(this,"async_queue_retry"),this.jc=()=>{const n=km();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=km();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=km();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Zt;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return m(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!Fs(n))throw n;M("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,vt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=GT.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&G()}verifyOperationInProgress(){}Yc(){var e=this;return m(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function xI(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Xe extends hh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fce,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||b$(this),this._firestoreClient.terminate()}}function gce(t,e){const r="string"==typeof t?t:e||"(default)";return xl("object"==typeof t?t:qb(),"firestore").getImmediate({identifier:r})}function Bt(t){return t._firestoreClient||b$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function b$(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Eae(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new tce(t._authCredentials,t._appCheckCredentials,t._queue,r)}class yu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(Vt.fromBase64String(e))}catch(n){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class E${constructor(e){this._methodName=e}}class OI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}const mce=/^__.*__$/;class _ce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}function T$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class Um{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return $m(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(T$(this.na)&&mce.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class yce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||uh(e)}fa(e,n,r,i=!1){return new Um({na:e,methodName:n,la:r,path:bt.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function vu(t){const e=t._freezeSettings(),n=uh(t._databaseId);return new yce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kI(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);PI("Data must be an object, but it was:",o,r);const a=M$(r,o);let l,u;if(s.merge)l=new Dr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=FI(e,d,n);if(!o.contains(h))throw new A(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);O$(c,h)||c.push(h)}l=new Dr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new _ce(new hn(a),l,u)}function da(t,e){if(x$(t=mr(t)))return PI("Unsupported field value:",e,t),M$(t,e);if(t instanceof E$)return function(n,r){if(!T$(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=da(o,r.ca(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=mr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return DU(r.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=st.fromDate(n);return{timestampValue:Jd(r.It,i)}}if(n instanceof st){const i=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jd(r.It,i)}}if(n instanceof OI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ca)return{bytesValue:HU(r.It,n._byteString)};if(n instanceof wt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Bm(n)}`)}(t,e)}function M$(t,e){const n={};return ZB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const s=da(i,e.ia(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function x$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof OI||t instanceof ca||t instanceof wt||t instanceof E$)}function PI(t,e,n){if(!x$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Bm(n);throw e.aa("an object"===r?t+" a custom object":t+" "+r)}var r}function FI(t,e,n){if((e=mr(e))instanceof yu)return e._internalPath;if("string"==typeof e)return jm(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dce=new RegExp("[~\\*/\\[\\]]");function jm(t,e,n){if(e.search(Dce)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yu(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new A(E.INVALID_ARGUMENT,a+t+l)}function O$(t,e){return t.some(n=>n.isEqual(e))}class LI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ece(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ece extends LI{data(){return super.data()}}function Hm(t,e){return"string"==typeof e?jm(t,e):e instanceof yu?e._internalPath:e._delegate._internalPath}class ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends LI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gm extends bu{data(e={}){return super.data(e)}}class wu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gm(this._firestore,this._userDataWriter,r.key,r,new ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Gm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ha(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Gm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ha(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Cce(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Cce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function VI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fa extends class Nce{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){const r={};return Ko(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new OI(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eU(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);te(XU(r));const i=new Qo(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||vt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Mce(t,e,n){t=Ee(t,wt);const r=Ee(t.firestore,Xe),i=VI(t.converter,e,n);return ph(r,[kI(vu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ze.none())])}function xce(t){return ph(Ee(t.firestore,Xe),[new ru(t._key,Ze.none())])}function Oce(t,e){const n=Ee(t.firestore,Xe),r=v$(t),i=VI(t.converter,e);return ph(n,[kI(vu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}function ph(t,e){return function(n,r){const i=new Zt;return n.asyncQueue.enqueueAndForget(m(function*(){return function kue(t,e,n){return tI.apply(this,arguments)}(yield function NI(t){return Lm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Bt(t),e)}!function(t,e=!0){zl="9.9.4",Un(new Sn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Xe(new uae(n.getProvider("auth-internal")),new hae(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),dt($B,"3.4.15",t),dt($B,"3.4.15","esm2017")}();var Pce={includeMetadataChanges:!1};function UI(t,e){return void 0===e&&(e=Pce),new xe(function(n){var r=function kce(t,...e){var n,r,i;t=mr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||xI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(xI(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,u,c;if(t instanceof wt)u=Ee(t.firestore,Xe),c=Zl(t._key.path),l={next:d=>{e[o]&&e[o](function BI(t,e,n){const r=n.docs.get(e._key),i=new fa(t);return new bu(t,i,e._key,r,new ha(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ee(t,An);u=Ee(d.firestore,Xe),c=d._query;const h=new fa(u);l={next:f=>{e[o]&&e[o](new wu(u,h,d,f))},error:e[o+1],complete:e[o+2]},function k$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Fm(p),_=new QT(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function WT(t,e){return zT.apply(this,arguments)}(yield _u(d),_)})),()=>{g.Rc(),d.asyncQueue.enqueueAndForget(m(function*(){return function qT(t,e){return KT.apply(this,arguments)}(yield _u(d),_)}))}}(Bt(u),c,a,l)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Lce(t,e){return void 0===e&&(e={}),function Fce(t){return UI(t,{includeMetadataChanges:!0})}(t).pipe(re(function(n){return $$(n,e)}))}function $$(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}function Hce(t,e){return void 0===e&&(e={}),function $ce(t){return UI(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}(t).pipe(re(function(n){return n.map(function(r){return $$(r,e)})}))}class zm{constructor(e){return e}}const z$="firestore",HI=new z("angularfire2.firestore-instances");function zce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zm(r)}}const qce={provide:class Gce{constructor(){return R1(z$)}},deps:[[new wn,HI]]},Kce={provide:zm,useFactory:function Wce(t,e){const n=k1(z$,t,e);return n&&new zm(n)},deps:[[new wn,HI],Ll]};let Yce=(()=>{class t{constructor(){dt("angularfire",cg.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({providers:[Kce,qce]}),t})();function Qce(t,...e){return{ngModule:Yce,providers:[{provide:HI,useFactory:zce(t),multi:!0,deps:[Re,Wt,P1,F1,[new wn,IV],[new wn,X1],...e]}]}}const q$=yr(Hce,!0),Jce=yr(Lce,!0),Zce=yr(Oce,!0),Xce=yr(dce,!0),ede=yr(xce,!0),GI=yr(v$,!0),tde=yr(gce,!0),nde=yr(Mce,!0);let rde=(()=>{class t{constructor(n){this.firestore=n,this.customersRef=Xce(this.firestore,"customers")}addCustomer(n){return console.log(n),Zce(this.customersRef,n)}getAllCustomers(){return q$(this.customersRef,{idField:"id"})}getCustomer(){return q$(this.customersRef,{idField:"id"})}deleteCustomer(n){console.log(n.id);const r=GI(this.firestore,`customers/${n.id}`);return ede(r)}updateCustomer(n){const r=GI(this.firestore,`customers/${n.id}`);return nde(r,n)}getCustomerById(n){const r=GI(this.firestore,`customers/${n}`);return Jce(r,{idField:"id"})}}return t.\u0275fac=function(n){return new(n||t)(U(zm))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ide=["addListener","removeListener"],sde=["addEventListener","removeEventListener"],ode=["on","off"];function zn(t,e,n,r){if(Ce(n)&&(r=n,n=void 0),r)return zn(t,e,n).pipe(R0(r));const[i,s]=function ude(t){return Ce(t.addEventListener)&&Ce(t.removeEventListener)}(t)?sde.map(o=>a=>t[o](e,a,n)):function ade(t){return Ce(t.addListener)&&Ce(t.removeListener)}(t)?ide.map(K$(t,e)):function lde(t){return Ce(t.on)&&Ce(t.off)}(t)?ode.map(K$(t,e)):[];if(!i&&w_(t))return At(o=>zn(o,e,n))(nn(t));if(!i)throw new TypeError("Invalid event target");return new xe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function K$(t,e){return n=>r=>t[n](e,r)}const{isArray:dde}=Array;function Y$(t){return 1===t.length&&dde(t[0])?t[0]:t}function qm(...t){const e=Oh(t),n=Y$(t);return n.length?new xe(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)nn(n[o]).subscribe($e(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(u=>u.shift());r.next(e?e(...l):l),i.some((u,c)=>!u.length&&s[c])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Ur}function Ut(t){return ot((e,n)=>{nn(t).subscribe($e(n,()=>n.complete(),Ta)),!n.closed&&e.subscribe(n)})}function qI(...t){const e=Oh(t);return ot((n,r)=>{const i=t.length,s=new Array(i);let o=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)nn(t[l]).subscribe($e(r,u=>{s[l]=u,!a&&!o[l]&&(o[l]=!0,(a=o.every(Ai))&&(o=null))},Ta));n.subscribe($e(r,l=>{if(a){const u=[l,...s];r.next(e?e(...u):u)}}))})}new xe(Ta),Math,Math,Math;const Nhe=["*"],zhe=["dialog"];function sS(t){return"string"==typeof t}function ma(t){return null!=t}function Iu(t){return(t||document.body).getBoundingClientRect()}const mH={animation:!0,transitionTimerDelayMs:5},Ufe=()=>{},{transitionTimerDelayMs:jfe}=mH,wh=new Map,qn=(t,e,n,r)=>{let i=r.context||{};const s=wh.get(e);if(s)switch(r.runningTransition){case"continue":return Ur;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),wh.delete(e)}const o=n(e,r.animation,i)||Ufe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),q(void 0).pipe(function Vfe(t){return e=>new xe(n=>e.subscribe({next:o=>t.run(()=>n.next(o)),error:o=>t.run(()=>n.error(o)),complete:()=>t.run(()=>n.complete())}))}(t));const a=new tt,l=new tt,u=a.pipe(function fde(...t){return e=>Nc(e,q(...t))}(!0));wh.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const c=function Bfe(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const d=zn(e,"transitionend").pipe(Ut(u),Vn(({target:f})=>f===e));(function Q$(...t){return 1===(t=Y$(t)).length?nn(t[0]):new xe(function hde(t){return e=>{let n=[];for(let r=0;n&&!e.closed&&r<t.length;r++)n.push(nn(t[r]).subscribe($e(e,i=>{if(n){for(let s=0;s<n.length;s++)s!==r&&n[s].unsubscribe();n=null}e.next(i)})))}}(t))})(function WI(t=0,e,n=une){let r=-1;return null!=e&&(BS(e)?n=e:r=e),new xe(i=>{let s=function cde(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(c+jfe).pipe(Ut(u)),d,l).pipe(Ut(u)).subscribe(()=>{wh.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Xm=(()=>{class t{constructor(){this.animation=mH.animation}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var jt=(()=>(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(jt||(jt={})),jt))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const TH=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function IH(t){const e=Array.from(t.querySelectorAll(TH)).filter(n=>-1!==n.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class ba{constructor(e,n,r){this.nodes=e,this.viewRef=n,this.componentRef=r}}let Vpe=(()=>{class t{constructor(n,r){this._el=n,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(rn(1)).subscribe(()=>{qn(this._zone,this._el.nativeElement,(n,r)=>{r&&Iu(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qn(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(n){return new(n||t)(b(ze),b(Re))},t.\u0275cmp=Ht({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,r){2&n&&(uo("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),lt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,r){},encapsulation:2}),t})();class LH{close(e){}dismiss(e){}}class Bpe{constructor(e,n,r,i){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new tt,this._dismissed=new tt,this._hidden=new tt,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ut(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ut(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function gH(t){return t&&t.then}(n)?!1!==n&&this._dismiss(e):n.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():q(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qm(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Th=(()=>(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(Th||(Th={})),Th))();let Upe=(()=>{class t{constructor(n,r,i){this._document=n,this._elRef=r,this._zone=i,this._closed$=new tt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new de,this.shown=new tt,this.hidden=new tt}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":sS(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(rn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=qm(qn(this._zone,n,()=>n.classList.remove("show"),r),qn(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const n={animation:this.animation,runningTransition:"continue"};qm(qn(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Iu(s),s.classList.add("show")},n),qn(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{zn(n,"keydown").pipe(Ut(this._closed$),Vn(i=>i.which===jt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Th.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;zn(this._dialogEl.nativeElement,"mousedown").pipe(Ut(this._closed$),Pt(()=>r=!1),Rr(()=>zn(n,"mouseup").pipe(Ut(this._closed$),rn(1))),Vn(({target:i})=>n===i)).subscribe(()=>{r=!0}),zn(n,"click").pipe(Ut(this._closed$)).subscribe(({target:i})=>{n===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Th.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const r=n.querySelector("[ngbAutofocus]"),i=IH(n)[0];(r||i||n).focus()}}_restoreFocus(){const n=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&qn(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(n){return new(n||t)(b(kt),b(ze),b(Re))},t.\u0275cmp=Ht({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(n,r){if(1&n&&function $v(t,e,n){const r=ve();r.firstCreatePass&&(xO(r,new NO(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),MO(r,N(),e)}(zhe,7),2&n){let i;nt(i=rt())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,r){2&n&&(Ue("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),uo("modal d-block"+(r.windowClass?" "+r.windowClass:"")),lt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Nhe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,r){1&n&&(function YM(t){const e=N()[16][6];if(!e.projection){const r=e.projection=Hu(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?Lz(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),I(0,"div",0,1)(2,"div",2),function QM(t,e=0,n){const r=N(),i=ve(),s=Xa(i,22+t,16,null,n||null);null===s.projection&&(s.projection=e),j_(),64!=(64&s.flags)&&function XW(t,e,n){VA(e[11],0,e,n,NA(t,n,e),OA(n.parent||e[6],n,e))}(i,r,s)}(3),T()()),2&n&&uo("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),jpe=(()=>{class t{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(n>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+n}px`}return i.overflow="hidden",()=>{n>0&&(i.paddingRight=o),i.overflow=s}}}return t.\u0275fac=function(n){return new(n||t)(U(kt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$pe=(()=>{class t{constructor(n,r,i,s,o,a){this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new tt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new de,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=zn(e,"focusin").pipe(Ut(n),re(s=>s.target));zn(e,"keydown").pipe(Ut(n),Vn(s=>s.which===jt.Tab),qI(i)).subscribe(([s,o])=>{const[a,l]=IH(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&zn(e,"click").pipe(Ut(n),qI(i),re(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,i){const s=i.container instanceof HTMLElement?i.container:ma(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new LH,l=this._getContentRef(i.injector||n,r,a,i);let u=!1!==i.backdrop?this._attachBackdrop(s):void 0,c=this._attachWindowComponent(s,l.nodes),d=new Bpe(c,l,u,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(c),d.hidden.pipe(rn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=h=>{d.close(h)},a.dismiss=h=>{d.dismiss(h)},this._applyWindowOptions(c.instance,i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&(this._applyBackdropOptions(u.instance,i),u.changeDetectorRef.detectChanges()),c.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=l0(Vpe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let i=l0(Upe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_applyWindowOptions(n,r){this._windowAttributes.forEach(i=>{ma(r[i])&&(n[i]=r[i])})}_applyBackdropOptions(n,r){this._backdropAttributes.forEach(i=>{ma(r[i])&&(n[i]=r[i])})}_getContentRef(n,r,i,s){return r?r instanceof ct?this._createFromTemplateRef(r,i):sS(r)?this._createFromString(r):this._createFromComponent(n,r,i,s):new ba([])}_createFromTemplateRef(n,r){const s=n.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new ba([s.rootNodes],s)}_createFromString(n){const r=this._document.createTextNode(`${n}`);return new ba([[r]])}_createFromComponent(n,r,i,s){const o=Wt.create({providers:[{provide:LH,useValue:i}],parent:n}),a=l0(r,{environmentInjector:this._applicationRef.injector,elementInjector:o}),l=a.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new ba([[l]],a.hostView,a)}_setAriaHidden(n){const r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==n&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const r=()=>{const i=this._modalRefs.indexOf(n);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(n){return new(n||t)(U(bc),U(Wt),U(kt),U(jpe),U(wy),U(Re))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hpe=(()=>{class t{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return t.\u0275fac=function(n){return new(n||t)(U(Xm))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),VH=(()=>{class t{constructor(n,r,i){this._injector=n,this._modalStack=r,this._config=i}open(n,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,n,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(n){return new(n||t)(U(Wt),U($pe),U(Hpe))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();new z("live announcer delay",{providedIn:"root",factory:function dge(){return 100}});let fge=(()=>{class t{transform(n,r,i){let s=[];for(let o of n)o[r].toLowerCase().includes(i.toLowerCase())&&s.push(o);return s}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=gn({name:"customers",type:t,pure:!0}),t})();function pge(t,e){if(1&t){const n=pr();I(0,"tr")(1,"td"),j(2),T(),I(3,"td"),j(4),T(),I(5,"td"),j(6),T(),I(7,"td"),j(8),T(),I(9,"td"),j(10),T(),I(11,"td")(12,"div",13)(13,"i",14),ne("click",function(){const s=yn(n).$implicit;return vn(pe(3).deleteCustomer(s))}),T(),I(14,"i",15),ne("click",function(){const s=yn(n).$implicit;return vn(pe(3).setCustomerEditForm(s))}),T(),I(15,"i",16),ne("click",function(){const s=yn(n).$implicit;return vn(pe(3).setCustomerViewForm(s))}),T()()()()}if(2&t){const n=e.$implicit,r=e.index;F(2),Mr(r+1),F(2),Mr(n.firstName),F(2),Mr(n.lastName),F(2),Mr(n.phone),F(2),Mr(n.email)}}function gge(t,e){if(1&t&&(I(0,"table",10)(1,"thead")(2,"tr")(3,"th",11),j(4,"#"),T(),I(5,"th",11),j(6,"First Name"),T(),I(7,"th",11),j(8,"Last Name"),T(),I(9,"th",11),j(10,"Phone"),T(),I(11,"th",11),j(12,"Email"),T(),I(13,"th",11),j(14,"#"),T()()(),I(15,"tbody"),Y(16,pge,16,5,"tr",12),T()()),2&t){const n=pe().ngIf;F(16),H("ngForOf",n)}}function mge(t,e){1&t&&(I(0,"span"),j(1,"Back"),T())}function _ge(t,e){1&t&&j(0," Cancel ")}function yge(t,e){1&t&&(I(0,"button",34),j(1," Add new customer "),T()),2&t&&H("disabled","INVALID"===pe(3).selectedCustomerForm.status)}function vge(t,e){1&t&&(I(0,"button",35),j(1," Edit "),T()),2&t&&H("disabled","INVALID"===pe(3).selectedCustomerForm.status)}function bge(t,e){if(1&t){const n=pr();I(0,"form",17,18),ne("ngSubmit",function(){return yn(n),vn(pe(2).handleCustomer())}),I(2,"div",19)(3,"div",20)(4,"label",21),j(5,"First name"),T(),Ie(6,"input",22),T(),I(7,"div",20)(8,"label",23),j(9,"Last name"),T(),Ie(10,"input",24),T()(),I(11,"div",25)(12,"div",20)(13,"label",26),j(14,"Email"),T(),Ie(15,"input",27),T(),I(16,"div",20)(17,"label",23),j(18,"Phone"),T(),Ie(19,"input",28),T()(),I(20,"div",13)(21,"button",29),ne("click",function(){return yn(n),vn(pe(2).changeCustomerFormView("none"))}),Y(22,mge,2,0,"span",30),Y(23,_ge,1,0,"ng-template",null,31,xr),T(),Y(25,yge,2,1,"button",32),Y(26,vge,2,1,"button",33),T()()}if(2&t){const n=Cn(24),r=pe(2);H("formGroup",r.selectedCustomerForm),F(6),H("disabled","view"===r.customerFormView),F(4),H("disabled","view"===r.customerFormView),F(5),H("disabled","view"===r.customerFormView),F(4),H("disabled","view"===r.customerFormView),F(3),H("ngIf","view"===r.customerFormView)("ngIfElse",n),F(3),H("ngIf","add"===r.customerFormView),F(1),H("ngIf","edit"===r.customerFormView)}}function wge(t,e){if(1&t){const n=pr();I(0,"div")(1,"button",7),ne("click",function(){return yn(n),vn(pe().changeCustomerFormView("add"))}),j(2,"Add Customer"),T(),Y(3,gge,17,1,"table",8),Y(4,bge,27,9,"ng-template",null,9,xr),T()}if(2&t){const n=Cn(5),r=pe();F(3),H("ngIf","none"===r.customerFormView)("ngIfElse",n)}}let Dge=(()=>{class t{constructor(n,r){this.cs=n,this.modal=r,this.customers=[],this.prodName="",this.prodLastName="",this.prodPhone="",this.selectedCustomerForm=new jp({id:new Io(""),firstName:new Io("",To.compose([To.required])),lastName:new Io("",To.required),email:new Io("",To.compose([To.required,To.email])),phone:new Io("",To.required)}),this.customerFormView="none"}ngOnInit(){this.cs.getCustomer().subscribe(n=>{this.customers=n})}changeCustomerFormView(n){this.customerFormView=n,this.selectedCustomerForm.reset(),this.selectedCustomerForm.enable()}handleCustomer(){const{value:n}=this.selectedCustomerForm;if(!this.selectedCustomerForm.valid)return;const r={firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone};"add"===this.customerFormView&&this.cs.addCustomer(r),"edit"===this.customerFormView&&this.selectedCustomerForm.value.id&&this.cs.updateCustomer({...r,id:this.selectedCustomerForm.value.id}),this.selectedCustomerForm.reset(),this.customerFormView="none"}deleteCustomer(n){confirm("Are you sure?")&&this.cs.deleteCustomer(n).then(()=>alert("Customer deleted successfully!")).catch(r=>console.log(r))}setCustomerEditForm(n){this.changeCustomerFormView("edit"),console.log(this.selectedCustomerForm),this.selectedCustomerForm.setValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,id:n.id})}setCustomerViewForm(n){this.changeCustomerFormView("view"),this.selectedCustomerForm.setValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phone:n.phone,id:n.id}),this.selectedCustomerForm.disable()}}return t.\u0275fac=function(n){return new(n||t)(b(rde),b(VH))},t.\u0275cmp=Ht({type:t,selectors:[["app-customers"]],decls:14,vars:16,consts:[[1,"mt-4","p-3","bg-success","text-dark","rounded"],[1,"fa-solid","fa-users"],[1,"d-flex","mt-5"],["type","text","placeholder","Name",1,"form","control","w-25","m-1",3,"ngModel","ngModelChange"],["type","text","placeholder","lastName",1,"form","control","w-25","m-1",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone Number",1,"form","control","w-25","m-1",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"my-4","btn","btn-success",3,"click"],["class","table table-striped table-hover table-success",4,"ngIf","ngIfElse"],["activeCustomer",""],[1,"table","table-striped","table-hover","table-success"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-2"],[1,"fa-solid","fa-trash","text-danger",3,"click"],[1,"fa-solid","fa-pen-to-square","text-success",3,"click"],[1,"fa-solid","fa","fa-eye","text-success",3,"click"],[1,"w-50",3,"formGroup","ngSubmit"],["customerForm","ngForm"],[1,"form-group","row"],[1,"col-6"],["for","firstName"],["type","text","id","firstName","name","firstName","formControlName","firstName","required","",1,"form-control",3,"disabled"],["for","lastName"],["type","text","id","lastName","name","lastName","formControlName","lastName","required","",1,"form-control",3,"disabled"],[1,"mt-4","form-group","row"],["for","email"],["type","email","id","email","name","email","formControlName","email","required","",1,"form-control",3,"disabled"],["type","phone","id","phone","name","phone","formControlName","phone","required","",1,"form-control",3,"disabled"],["type","submit",1,"btn","mt-3",3,"click"],[4,"ngIf","ngIfElse"],["default",""],["class","btn btn-primary mt-3 ","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-primary mt-3 w-full","type","submit",3,"disabled",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],["type","submit",1,"btn","btn-primary","mt-3","w-full",3,"disabled"]],template:function(n,r){1&n&&(I(0,"div",0)(1,"h5"),Ie(2,"i",1),j(3," Customers"),T(),I(4,"p"),j(5,"Company customers details"),T()(),I(6,"div",2)(7,"input",3),ne("ngModelChange",function(s){return r.prodName=s}),T(),I(8,"input",4),ne("ngModelChange",function(s){return r.prodLastName=s}),T(),I(9,"input",5),ne("ngModelChange",function(s){return r.prodPhone=s}),T()(),Y(10,wge,6,2,"div",6),fo(11,"customers"),fo(12,"customers"),fo(13,"customers")),2&n&&(F(7),H("ngModel",r.prodName),F(1),H("ngModel",r.prodLastName),F(1),H("ngModel",r.prodPhone),F(1),H("ngIf",ml(11,4,ml(12,8,ml(13,12,r.customers,"firstName",r.prodName),"lastName",r.prodLastName),"phone",r.prodPhone)))},dependencies:[mo,Wi,zp,Co,Hc,Lp,Al,qp,Ib,Nl,fge],styles:[".fa-eye[_ngcontent-%COMP%]:hover, .fa-pen-to-square[_ngcontent-%COMP%]:hover, .fa-trash[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})(),a_=(()=>{class t{constructor(n){this.auth=n}login(n){return Zse(this.auth,n.email,n.password)}register(n){return Qse(this.auth,n.email,n.password)}loginWithGoogle(){return Xse(this.auth,new eie)}logout(){return sessionStorage.removeItem("username"),this.auth.signOut()}getSessionData(n){return sessionStorage.getItem(n)}setSessionData(n,r){sessionStorage.setItem(n,r)}}return t.\u0275fac=function(n){return new(n||t)(U(kg))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ege(t,e){1&t&&(I(0,"small",18),j(1,"Invalid Email"),T())}function Cge(t,e){1&t&&(I(0,"small",18),j(1,"Password Too Short"),T())}let Tge=(()=>{class t{constructor(n,r){this.as=n,this.router=r,this.user={email:"",password:""}}ngOnInit(){}submitLogin(){this.as.login(this.user).then(n=>{console.log(n.user.email),this.as.setSessionData("username",n.user.email),this.as.setSessionData("isLoggedIn","true"),this.router.navigateByUrl("customers")}).catch(n=>{console.log(n),alert("wrong email or password"),this.user={email:"",password:""}})}submitLoginWithGoogle(){this.as.loginWithGoogle().then(n=>{console.log(n.user.displayName),this.as.setSessionData("username",n.user.displayName),this.as.setSessionData("isLoggedIn","true"),this.router.navigateByUrl("main")}).catch(n=>{console.log(n),alert("wrong google account")})}}return t.\u0275fac=function(n){return new(n||t)(b(a_),b(yt))},t.\u0275cmp=Ht({type:t,selectors:[["app-login"]],decls:29,vars:5,consts:[[1,"container","my-5","mx-auto","col-4"],[1,"text-center","text-success","text-bold"],[1,"fa-solid","fa-database"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","email","","placeholder","Enter your Email","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["style","color: red;",4,"ngIf"],["for","password"],["type","password","id","password","name","password","placeholder","The password should contain 2-10 characters","required","","minlength","2","maxlength","10",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"btn","btn-success","mt-3","w-100",3,"disabled"],[1,"btn","btn-success","mt-3","w-100",3,"click"],[1,"text-center","mt-3"],["routerLink","/register"],[1,"text-center"],[2,"color","red"]],template:function(n,r){if(1&n&&(I(0,"body")(1,"div",0)(2,"h1",1),Ie(3,"i",2),j(4," CRM APP"),T(),I(5,"form",3,4),ne("ngSubmit",function(){return r.submitLogin()}),I(7,"div",5)(8,"label",6),j(9," Email:"),T(),I(10,"input",7,8),ne("ngModelChange",function(s){return r.user.email=s}),T(),Y(12,Ege,2,0,"small",9),T(),I(13,"div",5)(14,"label",10),j(15,"Password: "),T(),I(16,"input",11,12),ne("ngModelChange",function(s){return r.user.password=s}),T(),Y(18,Cge,2,0,"small",9),T(),I(19,"button",13),j(20," Login "),T()(),I(21,"button",14),ne("click",function(){return r.submitLoginWithGoogle()}),j(22," Login with Google "),T(),I(23,"p",15)(24,"a",16),j(25,"New User? Register Here!"),T()(),Ie(26,"br"),I(27,"footer",17),j(28," @2022 - Aluma Alon"),T()()()),2&n){const i=Cn(6),s=Cn(11);F(10),H("ngModel",r.user.email),F(2),H("ngIf",s.invalid&&s.dirty),F(4),H("ngModel",r.user.password),F(2),H("ngIf",r.user.password.length<=2),F(1),H("disabled",i.invalid)}},dependencies:[Wi,zp,Co,Hc,Lp,Al,Yp,Qp,Kp,Nl,Kc,Tl],styles:[".ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid rgb(30,201,30)}.ng-invalid[required][_ngcontent-%COMP%]{border-left:5px solid red}body[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/premium-vector/illustration-people-work-with-computers-vector-design_20029-1224.jpg);background-repeat:no-repeat;background-position:left}"]}),t})(),Ige=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sge=(()=>{class t{constructor(n){this.activeservice=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b(Ige))},t.\u0275cmp=Ht({type:t,selectors:[["app-main"]],decls:1,vars:0,template:function(n,r){1&n&&Ie(0,"app-contacts")},dependencies:[RF]}),t})(),Nge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-pnf"]],decls:6,vars:0,consts:[["id","main",1,"d-flex","justify-content-center","align-items-center","mt-5","pt-5"],[1,"mr-3","pr-3","align-top","border-right","inline-block","align-content-center"],[1,"inline-block","align-middle"],["id","desc",1,"font-weight-normal","lead"]],template:function(n,r){1&n&&(I(0,"div",0)(1,"h1",1),j(2,"404"),T(),I(3,"div",2)(4,"h2",3),j(5,"The page you requested was not found."),T()()())}}),t})();function Age(t,e){1&t&&(I(0,"small",19),j(1,"Invalid email"),T())}function Mge(t,e){1&t&&(I(0,"small",19),j(1,"Password Too Short"),T())}let xge=(()=>{class t{constructor(n,r){this.as=n,this.router=r,this.user={email:"",password:""}}ngOnInit(){}submitRegister(){this.as.register(this.user).then(n=>{console.log(n.user.email),this.as.setSessionData("username",n.user.email),this.as.setSessionData("isLoggedIn","true"),this.router.navigateByUrl("main")}).catch(n=>{console.log(n),alert("Something went wrong..."),this.user={email:"",password:""}})}}return t.\u0275fac=function(n){return new(n||t)(b(a_),b(yt))},t.\u0275cmp=Ht({type:t,selectors:[["app-register"]],decls:30,vars:5,consts:[[1,"container","my-5","mx-auto","col-4"],[1,"text-center","text-success"],[1,"fa-solid","fa-database"],[1,"text-center"],[1,"fa-solid","fa-address-card"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group","col-12"],["for","email"],["type","email","id","email","name","email","email","","placeholder","YourEmail@gmail.com","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["style","color: red",4,"ngIf"],[1,"form-group"],["for","password"],["type","password","id","password","name","password","placeholder","The password should contain 2-10 characters","required","","minlength","2","maxlength","10",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"btn","btn-success","mt-3","w-100",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/login"],[2,"color","red"]],template:function(n,r){if(1&n&&(Ie(0,"br"),I(1,"div",0)(2,"h1",1),Ie(3,"i",2),j(4," CRM APP"),T(),I(5,"h2",3),Ie(6,"i",4),j(7," REGISTER"),T(),I(8,"form",5,6),ne("ngSubmit",function(){return r.submitRegister()}),I(10,"div",7)(11,"label",8),j(12,"Email:"),T(),I(13,"input",9,10),ne("ngModelChange",function(s){return r.user.email=s}),T(),Y(15,Age,2,0,"small",11),T(),I(16,"div",12)(17,"label",13),j(18,"Password: "),T(),I(19,"input",14,15),ne("ngModelChange",function(s){return r.user.password=s}),T(),Y(21,Mge,2,0,"small",11),T(),I(22,"button",16),j(23," Register Now "),T()(),I(24,"p",17)(25,"a",18),j(26,"Already Have A User? Login Here"),T()(),Ie(27,"br"),I(28,"footer",3),j(29," @2022 - Aluma Alon"),T()()),2&n){const i=Cn(9),s=Cn(14);F(13),H("ngModel",r.user.email),F(2),H("ngIf",s.invalid&&s.touched),F(4),H("ngModel",r.user.password),F(2),H("ngIf",r.user.password.length<=2),F(1),H("disabled",i.invalid)}},dependencies:[Wi,zp,Co,Hc,Lp,Al,Yp,Qp,Kp,Nl,Kc,Tl],styles:[".ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid rgb(30,201,30)}.ng-invalid[required][_ngcontent-%COMP%]{border-left:5px solid red}"]}),t})(),l_=(()=>{class t{constructor(n,r){this.as=n,this.router=r}canActivate(n,r){return"true"==this.as.getSessionData("isLoggedIn")||(alert("You're not allowed to access this url"),this.router.navigateByUrl("login"),!1)}}return t.\u0275fac=function(n){return new(n||t)(U(a_),U(yt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Oge=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:Tge},{path:"register",component:xge},{path:"main",component:Sge,canActivate:[l_]},{path:"customers",component:Dge,canActivate:[l_]},{path:"contacts",component:RF,canActivate:[l_]},{path:"**",component:Nge,canActivate:[l_]}];let kge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t}),t.\u0275inj=Te({imports:[xP.forRoot(Oge),xP]}),t})(),Rge=(()=>{class t{constructor(n,r){this.as=n,this.router=r}ngOnInit(){}getUsername(){return this.as.getSessionData("username")}logout(){this.as.logout().then(()=>{this.as.setSessionData("isLoggedIn","false"),this.router.navigateByUrl("login")}).catch(n=>{console.log(n)})}}return t.\u0275fac=function(n){return new(n||t)(b(a_),b(yt))},t.\u0275cmp=Ht({type:t,selectors:[["app-navbar"]],decls:21,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-success"],[1,"container-fluid"],[1,"navbar-brand"],[1,"fa-solid","fa-database"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown","px-5"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","mobileHidden","dropdown-toggle"],[1,"dropdown-menu","drop"],[1,"dropdown-item"],[1,"fa-solid","fa-gear"],[1,"dropdown-item",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket"]],template:function(n,r){1&n&&(I(0,"nav",0)(1,"div",1)(2,"a",2),Ie(3,"i",3),j(4," CRM APP"),T(),I(5,"button",4),Ie(6,"span",5),T(),I(7,"div",6),Ie(8,"ul",7),I(9,"div",8)(10,"a",9),j(11),T(),I(12,"ul",10)(13,"li")(14,"a",11),Ie(15,"i",12),j(16," Prefernces"),T()(),I(17,"li")(18,"a",13),ne("click",function(){return r.logout()}),Ie(19,"i",14),j(20," Logout"),T()()()()()()()),2&n&&(F(11),dl(" ",r.getUsername()," "))}}),t})(),Pge=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-sidenav"]],decls:26,vars:0,consts:[[1,"flex-column","pt-4","bg-success","vh-100"],[1,"links"],["routerLinkActive","activeStyle"],["routerLink","/customers",1,"text-dark"],[1,"fa-solid","fa-users"],["routerLink","/contacts",1,"text-dark"],[1,"fa-solid","fa-address-book"],["routerLink","/leads","routerLinkActive","activeStyle",1,"text-dark"],[1,"fa-solid","fa-star"],["routerLink","/reports","routerLinkActive","activeStyle",1,"text-dark"],[1,"fa-solid","fa-flag"],["routerLink","/intergration","routerLinkActive","activeStyle",1,"text-dark"],[1,"fa-brands","fa-yandex-international"],["routerLink","/yearendsale","routerLinkActive","activeStyle",1,"text-dark"],[1,"fa-solid","fa-sack-dollar"]],template:function(n,r){1&n&&(I(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Ie(4,"i",4),j(5," Customers "),T()(),I(6,"li",2)(7,"a",5),Ie(8,"i",6),j(9," Contacts "),T()(),I(10,"li",2)(11,"a",7),Ie(12,"i",8),j(13," Leads "),T()(),I(14,"li",2)(15,"a",9),Ie(16,"i",10),j(17," Reports "),T()(),I(18,"li",2)(19,"a",11),Ie(20,"i",12),j(21," Intergrations "),T()(),I(22,"li",2)(23,"a",13),Ie(24,"i",14),j(25," Year-end Sale "),T()()()())},dependencies:[Tl,EP],styles:[".activeStyle[_ngcontent-%COMP%], .activeStyle[_ngcontent-%COMP%]:active{background-color:#fff}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0}li[_ngcontent-%COMP%]{padding:.5rem;border-top-left-radius:5px;border-bottom-left-radius:5px}.links[_ngcontent-%COMP%]{margin:2rem 0 0;list-style:none}a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}"]}),t})(),Fge=(()=>{class t{constructor(){this.title="crmAlumaproject"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","ps-0"],[1,"col-10"]],template:function(n,r){1&n&&(Ie(0,"app-navbar"),I(1,"div",0)(2,"div",1)(3,"div",2),Ie(4,"app-sidenav"),T(),I(5,"div",3),Ie(6,"router-outlet"),T()()())},dependencies:[Z0,Rge,Pge],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();const QH_firebase={projectId:"angular-bfd0c",appId:"1:1041762379934:web:90bbc58ade5c06c5d5738f",storageBucket:"angular-bfd0c.appspot.com",apiKey:"AIzaSyBP8WQLXkUpAujzkFzM97IXNL-zzKEYHpI",authDomain:"angular-bfd0c.firebaseapp.com",messagingSenderId:"1041762379934",measurementId:"G-3LC03B97PK"};let Lge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Me({type:t,bootstrap:[Fge]}),t.\u0275inj=Te({imports:[g9,YJ,Ab,kge,bne(()=>wne(QH_firebase)),Yse(()=>Jse()),Qce(()=>tde()),Ab]}),t})();(function V6(){mk=!1})(),p9().bootstrapModule(Lge).catch(t=>console.error(t))}},Ce=>{Ce(Ce.s=776)}]);